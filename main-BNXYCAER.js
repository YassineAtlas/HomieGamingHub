var YD=Object.defineProperty,JD=Object.defineProperties;var ZD=Object.getOwnPropertyDescriptors;var Js=Object.getOwnPropertySymbols;var Ng=Object.prototype.hasOwnProperty,xg=Object.prototype.propertyIsEnumerable;var Rg=(e,t,n)=>t in e?YD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||={})Ng.call(t,n)&&Rg(e,n,t[n]);if(Js)for(var n of Js(t))xg.call(t,n)&&Rg(e,n,t[n]);return e},j=(e,t)=>JD(e,ZD(t));var Og=(e,t)=>{var n={};for(var r in e)Ng.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Js)for(var r of Js(e))t.indexOf(r)<0&&xg.call(e,r)&&(n[r]=e[r]);return n};var ke=null,Zs=!1,Fl=1,QD=null,Be=Symbol("SIGNAL");function O(e){let t=ke;return ke=e,t}function Xs(){return ke}var eo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ui(e){if(Zs)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(e);let t=ke.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=ke.recomputing;if(r&&(n=t!==void 0?t.nextProducer:ke.producers,n!==void 0&&n.producer===e)){ke.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===ke&&(!r||eC(o,ke)))return;let i=no(ke),s={producer:e,consumer:ke,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};ke.producersTail=s,t!==void 0?t.nextProducer=s:ke.producers=s,i&&Lg(e,s)}function kg(){Fl++}function Ll(e){if(!(no(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Fl)){if(!e.producerMustRecompute(e)&&!di(e)){Pl(e);return}e.producerRecomputeValue(e),Pl(e)}}function jl(e){if(e.consumers===void 0)return;let t=Zs;Zs=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||XD(r)}}finally{Zs=t}}function Vl(){return ke?.consumerAllowSignalWrites!==!1}function XD(e){e.dirty=!0,jl(e),e.consumerMarkedDirty?.(e)}function Pl(e){e.dirty=!1,e.lastCleanEpoch=Fl}function to(e){return e&&Pg(e),O(e)}function Pg(e){e.producersTail=void 0,e.recomputing=!0}function li(e,t){O(t),e&&Fg(e)}function Fg(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(no(e))do n=Ul(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function di(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Ll(n),r!==n.version))return!0}return!1}function Jn(e){if(no(e)){let t=e.producers;for(;t!==void 0;)t=Ul(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Lg(e,t){let n=e.consumersTail,r=no(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)Lg(o.producer,o)}function Ul(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!no(t)){let i=t.producers;for(;i!==void 0;)i=Ul(i)}return n}function no(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Bl(e){QD?.(e)}function eC(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function $l(e,t){return Object.is(e,t)}function ea(e,t){let n=Object.create(tC);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Ll(n),ui(n),n.value===Qs)throw n.error;return n.value};return r[Be]=n,Bl(n),r}var Ol=Symbol("UNSET"),kl=Symbol("COMPUTING"),Qs=Symbol("ERRORED"),tC=j(_({},eo),{value:Ol,dirty:!0,error:null,equal:$l,kind:"computed",producerMustRecompute(e){return e.value===Ol||e.value===kl},producerRecomputeValue(e){if(e.value===kl)throw new Error("");let t=e.value;e.value=kl;let n=to(e),r,o=!1;try{r=e.computation(),O(null),o=t!==Ol&&t!==Qs&&r!==Qs&&e.equal(t,r)}catch(i){r=Qs,e.error=i}finally{li(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function nC(){throw new Error}var jg=nC;function Vg(e){jg(e)}function Hl(e){jg=e}var rC=null;function zl(e,t){let n=Object.create(ta);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Ug(n);return r[Be]=n,Bl(n),[r,s=>fi(n,s),s=>Bg(n,s)]}function Ug(e){return ui(e),e.value}function fi(e,t){Vl()||Vg(e),e.equal(e.value,t)||(e.value=t,oC(e))}function Bg(e,t){Vl()||Vg(e),fi(e,t(e.value))}var ta=j(_({},eo),{equal:$l,value:void 0,kind:"signal"});function oC(e){e.version++,kg(),jl(e),rC?.(e)}function Gl(e){let t=O(null);try{return e()}finally{O(t)}}var ql=j(_({},eo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Wl(e){if(e.dirty=!1,e.version>0&&!di(e))return;e.version++;let t=to(e);try{e.cleanup(),e.fn()}finally{li(e,t)}}function k(e){return typeof e=="function"}function ro(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var na=ro(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Se=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(i){t=i instanceof na?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{$g(i)}catch(s){t=t??[],s instanceof na?t=[...t,...s.errors]:t.push(s)}}if(t)throw new na(t)}}add(t){var n;if(t&&t!==this)if(this.closed)$g(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&hi(n,t)}remove(t){let{_finalizers:n}=this;n&&hi(n,t),t instanceof e&&t._removeParent(this)}};Se.EMPTY=(()=>{let e=new Se;return e.closed=!0,e})();var Kl=Se.EMPTY;function ra(e){return e instanceof Se||e&&"closed"in e&&k(e.remove)&&k(e.add)&&k(e.unsubscribe)}function $g(e){k(e)?e():e.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var oo={setTimeout(e,t,...n){let{delegate:r}=oo;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=oo;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function oa(e){oo.setTimeout(()=>{let{onUnhandledError:t}=Mt;if(t)t(e);else throw e})}function pi(){}var Hg=Yl("C",void 0,void 0);function zg(e){return Yl("E",void 0,e)}function Gg(e){return Yl("N",e,void 0)}function Yl(e,t,n){return{kind:e,value:t,error:n}}var Zn=null;function io(e){if(Mt.useDeprecatedSynchronousErrorHandling){let t=!Zn;if(t&&(Zn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Zn;if(Zn=null,n)throw r}}else e()}function qg(e){Mt.useDeprecatedSynchronousErrorHandling&&Zn&&(Zn.errorThrown=!0,Zn.error=e)}var Qn=class extends Se{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ra(t)&&t.add(this)):this.destination=aC}static create(t,n,r){return new so(t,n,r)}next(t){this.isStopped?Zl(Gg(t),this):this._next(t)}error(t){this.isStopped?Zl(zg(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Zl(Hg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iC=Function.prototype.bind;function Jl(e,t){return iC.call(e,t)}var Ql=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ia(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ia(r)}else ia(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ia(n)}}},so=class extends Qn{constructor(t,n,r){super();let o;if(k(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Mt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Jl(t.next,i),error:t.error&&Jl(t.error,i),complete:t.complete&&Jl(t.complete,i)}):o=t}this.destination=new Ql(o)}};function ia(e){Mt.useDeprecatedSynchronousErrorHandling?qg(e):oa(e)}function sC(e){throw e}function Zl(e,t){let{onStoppedNotification:n}=Mt;n&&oo.setTimeout(()=>n(e,t))}var aC={closed:!0,next:pi,error:sC,complete:pi};var ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function At(e){return e}function Xl(...e){return ed(e)}function ed(e){return e.length===0?At:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var $=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=uC(n)?n:new so(n,r,o);return io(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Wg(r),new r((o,i)=>{let s=new so({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ao](){return this}pipe(...n){return ed(n)(this)}toPromise(n){return n=Wg(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Wg(e){var t;return(t=e??Mt.Promise)!==null&&t!==void 0?t:Promise}function cC(e){return e&&k(e.next)&&k(e.error)&&k(e.complete)}function uC(e){return e&&e instanceof Qn||cC(e)&&ra(e)}function lC(e){return k(e?.lift)}function q(e){return t=>{if(lC(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(e,t,n,r,o){return new td(e,t,n,r,o)}var td=class extends Qn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var Kg=ro(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class e extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Kg}next(n){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Kl:(this.currentObservers=null,i.push(n),new Se(()=>{this.currentObservers=null,hi(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return e.create=(t,n)=>new sa(t,n),e})(),sa=class extends we{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Kl}};var Te=class extends we{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Ye=new $(e=>e.complete());function Yg(e){return e&&k(e.schedule)}function Jg(e){return e[e.length-1]}function aa(e){return k(Jg(e))?e.pop():void 0}function Mn(e){return Yg(Jg(e))?e.pop():void 0}function er(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function ca(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function Zg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xn(e){return this instanceof Xn?(this.v=e,this):new Xn(e)}function Qg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(g){return new Promise(function(v,y){i.push([f,g,v,y])>1||c(f,g)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(g){h(i[0][3],g)}}function u(f){f.value instanceof Xn?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Xg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Zg=="function"?Zg(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var ua=e=>e&&typeof e.length=="number"&&typeof e!="function";function la(e){return k(e?.then)}function da(e){return k(e[ao])}function fa(e){return Symbol.asyncIterator&&k(e?.[Symbol.asyncIterator])}function ha(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pa=dC();function ga(e){return k(e?.[pa])}function ma(e){return Qg(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Xn(n.read());if(o)return yield Xn(void 0);yield yield Xn(r)}}finally{n.releaseLock()}})}function ya(e){return k(e?.getReader)}function fe(e){if(e instanceof $)return e;if(e!=null){if(da(e))return fC(e);if(ua(e))return hC(e);if(la(e))return pC(e);if(fa(e))return em(e);if(ga(e))return gC(e);if(ya(e))return mC(e)}throw ha(e)}function fC(e){return new $(t=>{let n=e[ao]();if(k(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hC(e){return new $(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function pC(e){return new $(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,oa)})}function gC(e){return new $(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function em(e){return new $(t=>{yC(e,t).catch(n=>t.error(n))})}function mC(e){return em(ma(e))}function yC(e,t){var n,r,o,i;return ca(this,void 0,void 0,function*(){try{for(n=Xg(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Je(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function va(e,t=0){return q((n,r)=>{n.subscribe(W(r,o=>Je(r,e,()=>r.next(o),t),()=>Je(r,e,()=>r.complete(),t),o=>Je(r,e,()=>r.error(o),t)))})}function _a(e,t=0){return q((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function tm(e,t){return fe(e).pipe(_a(t),va(t))}function nm(e,t){return fe(e).pipe(_a(t),va(t))}function rm(e,t){return new $(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function om(e,t){return new $(n=>{let r;return Je(n,t,()=>{r=e[pa](),Je(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>k(r?.return)&&r.return()})}function wa(e,t){if(!e)throw new Error("Iterable cannot be null");return new $(n=>{Je(n,t,()=>{let r=e[Symbol.asyncIterator]();Je(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function im(e,t){return wa(ma(e),t)}function sm(e,t){if(e!=null){if(da(e))return tm(e,t);if(ua(e))return rm(e,t);if(la(e))return nm(e,t);if(fa(e))return wa(e,t);if(ga(e))return om(e,t);if(ya(e))return im(e,t)}throw ha(e)}function se(e,t){return t?sm(e,t):fe(e)}function F(...e){let t=Mn(e);return se(e,t)}function nd(e,t){let n=k(e)?e:()=>e,r=o=>o.error(n());return new $(t?o=>t.schedule(r,0,o):r)}function Ea(e){return!!e&&(e instanceof $||k(e.lift)&&k(e.subscribe))}var tr=ro(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(e,t){return q((n,r)=>{let o=0;n.subscribe(W(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:vC}=Array;function _C(e,t){return vC(t)?e(...t):e(t)}function ba(e){return ee(t=>_C(e,t))}var{isArray:wC}=Array,{getPrototypeOf:EC,prototype:bC,keys:DC}=Object;function Da(e){if(e.length===1){let t=e[0];if(wC(t))return{args:t,keys:null};if(CC(t)){let n=DC(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function CC(e){return e&&typeof e=="object"&&EC(e)===bC}function Ca(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Ia(...e){let t=Mn(e),n=aa(e),{args:r,keys:o}=Da(e);if(r.length===0)return se([],t);let i=new $(IC(r,t,o?s=>Ca(o,s):At));return n?i.pipe(ba(n)):i}function IC(e,t,n=At){return r=>{am(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)am(t,()=>{let u=se(e[c],t),l=!1;u.subscribe(W(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function am(e,t,n){e?Je(n,e,t):t()}function cm(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&t.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{i&&t.next(g),u++;let v=!1;fe(n(g,l++)).subscribe(W(t,y=>{o?.(y),i?f(y):t.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){let y=c.shift();s?Je(t,s,()=>p(y)):p(y)}h()}catch(y){t.error(y)}}))};return e.subscribe(W(t,f,()=>{d=!0,h()})),()=>{a?.()}}function Me(e,t,n=1/0){return k(t)?Me((r,o)=>ee((i,s)=>t(r,i,o,s))(fe(e(r,o))),n):(typeof t=="number"&&(n=t),q((r,o)=>cm(r,o,e,n)))}function co(e=1/0){return Me(At,e)}function um(){return co(1)}function uo(...e){return um()(se(e,Mn(e)))}function gi(e){return new $(t=>{fe(e()).subscribe(t)})}function rd(...e){let t=aa(e),{args:n,keys:r}=Da(e),o=new $(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;fe(n[l]).subscribe(W(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?Ca(r,a):a),i.complete())}))}});return t?o.pipe(ba(t)):o}function ht(e,t){return q((n,r)=>{let o=0;n.subscribe(W(r,i=>e.call(t,i,o++)&&r.next(i)))})}function lo(e){return q((t,n)=>{let r=null,o=!1,i;r=t.subscribe(W(n,void 0,void 0,s=>{i=fe(e(s,lo(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function fo(e,t){return k(t)?Me(e,t,1):Me(e,1)}function od(e){return q((t,n)=>{let r=!1;t.subscribe(W(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function dn(e){return e<=0?()=>Ye:q((t,n)=>{let r=0;t.subscribe(W(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function lm(e=SC){return q((t,n)=>{let r=!1;t.subscribe(W(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function SC(){return new tr}function id(e){return q((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function fn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?ht((o,i)=>e(o,i,r)):At,dn(1),n?od(t):lm(()=>new tr))}function Sa(e){return e<=0?()=>Ye:q((t,n)=>{let r=[];t.subscribe(W(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function sd(...e){let t=Mn(e);return q((n,r)=>{(t?uo(e,n,t):uo(e,n)).subscribe(r)})}function Rt(e,t){return q((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(W(r,c=>{o?.unsubscribe();let u=0,l=i++;fe(e(c,l)).subscribe(o=W(r,d=>r.next(t?t(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function mi(e){return q((t,n)=>{fe(e).subscribe(W(n,()=>n.complete(),pi)),!n.closed&&t.subscribe(n)})}function $e(e,t,n){let r=k(e)||t||n?{next:e,error:t,complete:n}:e;return r?q((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(W(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):At}var ad;function Ta(){return ad}function Ht(e){let t=ad;return ad=e,t}var dm=Symbol("NotFound");function ho(e){return e===dm||e?.name==="\u0275NotFound"}var wd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",E=class extends Error{code;constructor(t,n){super(Nt(t,n)),this.code=t}};function TC(e){return`NG0${Math.abs(e)}`}function Nt(e,t){return`${TC(e)}${t?": "+t:""}`}function K(e){for(let t in e)if(e[t]===K)return t;throw Error("")}function mm(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function pn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(pn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ed(e,t){return e?t?`${e} ${t}`:e:t||""}var MC=K({__forward_ref__:K});function mn(e){return e.__forward_ref__=mn,e.toString=function(){return pn(this())},e}function Ae(e){return bd(e)?e():e}function bd(e){return typeof e=="function"&&e.hasOwnProperty(MC)&&e.__forward_ref__===mn}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function xt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Di(e){return AC(e,ka)}function Dd(e){return Di(e)!==null}function AC(e,t){return e.hasOwnProperty(t)&&e[t]||null}function RC(e){let t=e?.[ka]??null;return t||null}function ud(e){return e&&e.hasOwnProperty(Aa)?e[Aa]:null}var ka=K({\u0275prov:K}),Aa=K({\u0275inj:K}),w=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cd(e){return e&&!!e.\u0275providers}var Id=K({\u0275cmp:K}),Sd=K({\u0275dir:K}),Td=K({\u0275pipe:K}),Md=K({\u0275mod:K}),vi=K({\u0275fac:K}),ar=K({__NG_ELEMENT_ID__:K}),fm=K({__NG_ENV_ID__:K});function Ad(e){return Fa(e,"@NgModule"),e[Md]||null}function Gt(e){return Fa(e,"@Component"),e[Id]||null}function Pa(e){return Fa(e,"@Directive"),e[Sd]||null}function Rd(e){return Fa(e,"@Pipe"),e[Td]||null}function Fa(e,t){if(e==null)throw new E(-919,!1)}function La(e){return typeof e=="string"?e:e==null?"":String(e)}function ym(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():La(e)}var vm=K({ngErrorCode:K}),NC=K({ngErrorMessage:K}),xC=K({ngTokenPath:K});function Nd(e,t){return _m("",-200,t)}function ja(e,t){throw new E(-201,!1)}function _m(e,t,n){let r=new E(t,e);return r[vm]=t,r[NC]=e,n&&(r[xC]=n),r}function OC(e){return e[vm]}var ld;function wm(){return ld}function et(e){let t=ld;return ld=e,t}function xd(e,t,n){let r=Di(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;ja(e,"")}var kC={},nr=kC,PC="__NG_DI_FLAG__",dd=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=rr(n)||0;try{return this.injector.get(t,r&8?null:nr,r)}catch(o){if(ho(o))return o;throw o}}};function FC(e,t=0){let n=Ta();if(n===void 0)throw new E(-203,!1);if(n===null)return xd(e,void 0,t);{let r=LC(t),o=n.retrieve(e,r);if(ho(o)){if(r.optional)return null;throw o}return o}}function R(e,t=0){return(wm()||FC)(Ae(e),t)}function m(e,t){return R(e,rr(t))}function rr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function LC(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function fd(e){let t=[];for(let n=0;n<e.length;n++){let r=Ae(e[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=jC(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(R(o,i))}else t.push(R(r))}return t}function jC(e){return e[PC]}function or(e,t){let n=e.hasOwnProperty(vi);return n?e[vi]:null}function Va(e,t){e.forEach(n=>Array.isArray(n)?Va(n,t):t(n))}function Od(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ci(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Em(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function bm(e,t,n){let r=go(e,t);return r>=0?e[r|1]=n:(r=~r,Em(e,r,t,n)),r}function Ua(e,t){let n=go(e,t);if(n>=0)return e[n|1]}function go(e,t){return VC(e,t,1)}function VC(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var Nn={},tt=[],qt=new w(""),kd=new w("",-1),Pd=new w(""),_i=class{get(t,n=nr){if(n===nr){let o=_m("",-201);throw o.name="\u0275NotFound",o}return n}};function pt(e){return{\u0275providers:e}}function Dm(e){return pt([{provide:qt,multi:!0,useValue:e}])}function Cm(...e){return{\u0275providers:Ba(!0,e),\u0275fromNgModule:!0}}function Ba(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Va(t,s=>{let a=s;Ra(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Im(o,i),n}function Im(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Fd(o,i=>{t(i,r)})}}function Ra(e,t,n,r){if(e=Ae(e),!e)return!1;let o=null,i=ud(e),s=!i&&Gt(e);if(!i&&!s){let c=e.ngModule;if(i=ud(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Ra(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Va(i.imports,l=>{Ra(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Im(u,t)}if(!a){let u=or(o)||(()=>new o);t({provide:o,useFactory:u,deps:tt},o),t({provide:Pd,useValue:o,multi:!0},o),t({provide:qt,useValue:()=>R(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;Fd(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function Fd(e,t){for(let n of e)Cd(n)&&(n=n.\u0275providers),Array.isArray(n)?Fd(n,t):t(n)}var UC=K({provide:String,useValue:K});function Sm(e){return e!==null&&typeof e=="object"&&UC in e}function BC(e){return!!(e&&e.useExisting)}function $C(e){return!!(e&&e.useFactory)}function ir(e){return typeof e=="function"}function Tm(e){return!!e.useClass}var Ii=new w(""),Ma={},hm={},cd;function Si(){return cd===void 0&&(cd=new _i),cd}var de=class{},sr=class extends de{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,pd(t,s=>this.processProvider(s)),this.records.set(kd,po(void 0,this)),o.has("environment")&&this.records.set(de,po(void 0,this));let i=this.records.get(Ii);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Pd,tt,{self:!0}))}retrieve(t,n){let r=rr(n)||0;try{return this.get(t,nr,r)}catch(o){if(ho(o))return o;throw o}}destroy(){yi(this),this._destroyed=!0;let t=O(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(t)}}onDestroy(t){return yi(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){yi(this);let n=Ht(this),r=et(void 0),o;try{return t()}finally{Ht(n),et(r)}}get(t,n=nr,r){if(yi(this),t.hasOwnProperty(fm))return t[fm](this);let o=rr(r),i,s=Ht(this),a=et(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let l=WC(t)&&Di(t);l&&this.injectableDefInScope(l)?u=po(hd(t),Ma):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?Si():this.parent;return n=o&8&&n===nr?null:n,c.get(t,n)}catch(c){let u=OC(c);throw u===-200||u===-201?new E(u,null):c}finally{et(a),Ht(s)}}resolveInjectorInitializers(){let t=O(null),n=Ht(this),r=et(void 0),o;try{let i=this.get(qt,tt,{self:!0});for(let s of i)s()}finally{Ht(n),et(r),O(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(pn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ae(t);let n=ir(t)?t:Ae(t&&t.provide),r=zC(t);if(!ir(t)&&t.multi===!0){let o=this.records.get(n);o||(o=po(void 0,Ma,!0),o.factory=()=>fd(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=O(null);try{if(n.value===hm)throw Nd(pn(t));return n.value===Ma&&(n.value=hm,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&qC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{O(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ae(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hd(e){let t=Di(e),n=t!==null?t.factory:or(e);if(n!==null)return n;if(e instanceof w)throw new E(204,!1);if(e instanceof Function)return HC(e);throw new E(204,!1)}function HC(e){if(e.length>0)throw new E(204,!1);let n=RC(e);return n!==null?()=>n.factory(e):()=>new e}function zC(e){if(Sm(e))return po(void 0,e.useValue);{let t=Ld(e);return po(t,Ma)}}function Ld(e,t,n){let r;if(ir(e)){let o=Ae(e);return or(o)||hd(o)}else if(Sm(e))r=()=>Ae(e.useValue);else if($C(e))r=()=>e.useFactory(...fd(e.deps||[]));else if(BC(e))r=(o,i)=>R(Ae(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Ae(e&&(e.useClass||e.provide));if(GC(e))r=()=>new o(...fd(e.deps));else return or(o)||hd(o)}return r}function yi(e){if(e.destroyed)throw new E(205,!1)}function po(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function GC(e){return!!e.deps}function qC(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function WC(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function pd(e,t){for(let n of e)Array.isArray(n)?pd(n,t):n&&Cd(n)?pd(n.\u0275providers,t):t(n)}function Ne(e,t){let n;e instanceof sr?(yi(e),n=e):n=new dd(e);let r,o=Ht(n),i=et(void 0);try{return t()}finally{Ht(o),et(i)}}function Mm(){return wm()!==void 0||Ta()!=null}var He=0,S=1,N=2,pe=3,gt=4,mt=5,nt=6,mo=7,Fe=8,yt=9,yn=10,Y=11,yo=12,jd=13,cr=14,Ze=15,ur=16,lr=17,dr=18,Ti=19,Vd=20,hn=21,$a=22,An=23,rt=24,fr=25,Mi=26,te=27,Am=1,Ot=6,Wt=7,Ai=8,Ri=9,ze=10;function ot(e){return Array.isArray(e)&&typeof e[Am]=="object"}function it(e){return Array.isArray(e)&&e[Am]===!0}function Ud(e){return(e.flags&4)!==0}function vn(e){return e.componentOffset>-1}function vo(e){return(e.flags&1)===1}function Kt(e){return!!e.template}function hr(e){return(e[N]&512)!==0}function xn(e){return(e[N]&256)===256}var Rm="svg",Nm="math";function st(e){for(;Array.isArray(e);)e=e[He];return e}function Bd(e,t){return st(t[e])}function vt(e,t){return st(t[e.index])}function _o(e,t){return e.data[t]}function xm(e,t){return e[t]}function _t(e,t){let n=t[e];return ot(n)?n:n[He]}function Ha(e){return(e[N]&128)===128}function Om(e){return it(e[pe])}function pr(e,t){return t==null?null:e[t]}function $d(e){e[lr]=0}function Hd(e){e[N]&1024||(e[N]|=1024,Ha(e)&&gr(e))}function km(e,t){for(;e>0;)t=t[cr],e--;return t}function Ni(e){return!!(e[N]&9216||e[rt]?.dirty)}function za(e){e[yn].changeDetectionScheduler?.notify(8),e[N]&64&&(e[N]|=1024),Ni(e)&&gr(e)}function gr(e){e[yn].changeDetectionScheduler?.notify(0);let t=Rn(e);for(;t!==null&&!(t[N]&8192||(t[N]|=8192,!Ha(t)));)t=Rn(t)}function zd(e,t){if(xn(e))throw new E(911,!1);e[hn]===null&&(e[hn]=[]),e[hn].push(t)}function Pm(e,t){if(e[hn]===null)return;let n=e[hn].indexOf(t);n!==-1&&e[hn].splice(n,1)}function Rn(e){let t=e[pe];return it(t)?t[pe]:t}function Fm(e){return e[mo]??=[]}function Lm(e){return e.cleanup??=[]}var V={lFrame:Zm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gd=!1;function jm(){return V.lFrame.elementDepthCount}function Vm(){V.lFrame.elementDepthCount++}function Gd(){V.lFrame.elementDepthCount--}function Ga(){return V.bindingsEnabled}function qd(){return V.skipHydrationRootTNode!==null}function Wd(e){return V.skipHydrationRootTNode===e}function Um(e){V.skipHydrationRootTNode=e}function Kd(){V.skipHydrationRootTNode=null}function Q(){return V.lFrame.lView}function Ge(){return V.lFrame.tView}function Le(e){return V.lFrame.contextLView=e,e[Fe]}function je(e){return V.lFrame.contextLView=null,e}function xe(){let e=Yd();for(;e!==null&&e.type===64;)e=e.parent;return e}function Yd(){return V.lFrame.currentTNode}function Bm(){let e=V.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function wo(e,t){let n=V.lFrame;n.currentTNode=e,n.isParent=t}function Jd(){return V.lFrame.isParent}function $m(){V.lFrame.isParent=!1}function Hm(){return V.lFrame.contextLView}function Zd(){return gd}function wi(e){let t=gd;return gd=e,t}function zm(e){return V.lFrame.bindingIndex=e}function xi(){return V.lFrame.bindingIndex++}function Gm(e){let t=V.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function qm(){return V.lFrame.inI18n}function Wm(e,t){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=e,qa(t)}function Km(){return V.lFrame.currentDirectiveIndex}function qa(e){V.lFrame.currentDirectiveIndex=e}function Ym(e){let t=V.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Qd(e){V.lFrame.currentQueryIndex=e}function KC(e){let t=e[S];return t.type===2?t.declTNode:t.type===1?e[mt]:null}function Xd(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=KC(i),o===null||(i=i[cr],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=V.lFrame=Jm();return r.currentTNode=t,r.lView=e,!0}function Wa(e){let t=Jm(),n=e[S];V.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Jm(){let e=V.lFrame,t=e===null?null:e.child;return t===null?Zm(e):t}function Zm(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Qm(){let e=V.lFrame;return V.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ef=Qm;function Ka(){let e=Qm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xm(e){return(V.lFrame.contextLView=km(e,V.lFrame.contextLView))[Fe]}function mr(){return V.lFrame.selectedIndex}function On(e){V.lFrame.selectedIndex=e}function Ya(){let e=V.lFrame;return _o(e.tView,e.selectedIndex)}function tf(){return V.lFrame.currentNamespace}var ey=!0;function Ja(){return ey}function _n(e){ey=e}function md(e,t=null,n=null,r){let o=nf(e,t,n,r);return o.resolveInjectorInitializers(),o}function nf(e,t=null,n=null,r,o=new Set){let i=[n||tt,Cm(e)];return r=r||(typeof e=="object"?void 0:pn(e)),new sr(i,t||Si(),r||null,o)}var Re=class e{static THROW_IF_NOT_FOUND=nr;static NULL=new _i;static create(t,n){if(Array.isArray(t))return md({name:""},n,t,"");{let r=t.name??"";return md({name:r},t.parent,t.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>R(kd)});static __NG_ELEMENT_ID__=-1},ne=new w(""),wt=(()=>{class e{static __NG_ELEMENT_ID__=YC;static __NG_ENV_ID__=n=>n}return e})(),Na=class extends wt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return xn(this._lView)}onDestroy(t){let n=this._lView;return zd(n,t),()=>Pm(n,t)}};function YC(){return new Na(Q())}var ty=!1,Yt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Te(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new $(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),yd=class extends we{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Mm()&&(this.destroyRef=m(wt,{optional:!0})??void 0,this.pendingTasks=m(Yt,{optional:!0})??void 0)}emit(t){let n=O(null);try{super.next(t)}finally{O(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof Se&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},he=yd;function xa(...e){}function rf(e){let t,n;function r(){e=xa;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function of(e){return queueMicrotask(()=>e()),()=>{e=xa}}var sf="isAngularZone",Ei=sf+"_ID",JC=0,Pe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new he(!1);onMicrotaskEmpty=new he(!1);onStable=new he(!1);onError=new he(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ty}=t;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,XC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new E(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,ZC,xa,xa);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},ZC={};function af(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function QC(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){rf(()=>{e.callbackScheduled=!1,vd(e),e.isCheckStableRunning=!0,af(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),vd(e)}function XC(e){let t=()=>{QC(e)},n=JC++;e._inner=e._inner.fork({name:"angular",properties:{[sf]:!0,[Ei]:n,[Ei+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(eI(c))return r.invokeTask(i,s,a,c);try{return pm(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),gm(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return pm(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!tI(c)&&t(),gm(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,vd(e),af(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function vd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function pm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gm(e){e._nesting--,af(e)}var bi=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new he;onMicrotaskEmpty=new he;onStable=new he;onError=new he;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function eI(e){return ny(e,"__ignore_ng_zone__")}function tI(e){return ny(e,"__scheduler_tick__")}function ny(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var zt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Et=new w("",{factory:()=>{let e=m(Pe),t=m(de),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(zt),n.handleError(r))})}}}),ry={provide:qt,useValue:()=>{let e=m(zt,{optional:!0})},multi:!0},nI=new w("",{factory:()=>{let e=m(ne).defaultView;if(!e)return;let t=m(Et),n=i=>{t(i.reason),i.preventDefault()},r=i=>{i.error?t(i.error):t(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),m(wt).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function cf(){return pt([Dm(()=>void m(nI))])}function re(e,t){let[n,r,o]=zl(e,t?.equal),i=n,s=i[Be];return i.set=r,i.update=o,i.asReadonly=oy.bind(i),i}function oy(){let e=this[Be];if(e.readonlyFn===void 0){let t=()=>this();t[Be]=e,e.readonlyFn=t}return e.readonlyFn}var Oi=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=rI}return e})();function rI(){return new Oi(Q(),xe())}var gn=class{},ki=new w("",{factory:()=>!0});var uf=new w(""),Za=(()=>{class e{internalPendingTasks=m(Yt);scheduler=m(gn);errorHandler=m(Et);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),Qa=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new _d})}return e})(),_d=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Oa=class{[Be];constructor(t){this[Be]=t}destroy(){this[Be].destroy()}};function wn(e,t){let n=t?.injector??m(Re),r=t?.manualCleanup!==!0?n.get(wt):null,o,i=n.get(Oi,null,{optional:!0}),s=n.get(gn);return i!==null?(o=sI(i.view,s,e),r instanceof Na&&r._lView===i.view&&(r=null)):o=aI(e,n.get(Qa),s),o.injector=n,r!==null&&(o.onDestroyFns=[r.onDestroy(()=>o.destroy())]),new Oa(o)}var iy=j(_({},ql),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let e=wi(!1);try{Wl(this)}finally{wi(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=O(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],O(e)}}}),oI=j(_({},iy),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(Jn(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.scheduler.remove(this)}}),iI=j(_({},iy),{consumerMarkedDirty(){this.view[N]|=8192,gr(this.view),this.notifier.notify(13)},destroy(){if(Jn(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.view[An]?.delete(this)}});function sI(e,t,n){let r=Object.create(iI);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=sy(r,n),e[An]??=new Set,e[An].add(r),r.consumerMarkedDirty(r),r}function aI(e,t,n){let r=Object.create(oI);return r.fn=sy(r,e),r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function sy(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}function Ee(e){return Gl(e)}var Xa={JSACTION:"jsaction"};function Bi(e){return{toString:e}.toString()}function mI(e){return typeof e=="function"}function Hy(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var ac=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},Pn=(()=>{let e=()=>zy;return e.ngInherit=!0,e})();function zy(e){return e.type.prototype.ngOnChanges&&(e.setInput=vI),yI}function yI(){let e=qy(this),t=e?.current;if(t){let n=e.previous;if(n===Nn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function vI(e,t,n,r,o){let i=this.declaredInputs[r],s=qy(e)||_I(e,{previous:Nn,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new ac(u&&u.currentValue,n,c===Nn),Hy(e,t,o,n)}var Gy="__ngSimpleChanges__";function qy(e){return e[Gy]||null}function _I(e,t){return e[Gy]=t}var ay=[];var z=function(e,t=null,n){for(let r=0;r<ay.length;r++){let o=ay[r];o(e,t,n)}},B=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(B||{});function wI(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=zy(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Wy(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function tc(e,t,n){Ky(e,t,3,n)}function nc(e,t,n,r){(e[N]&3)===n&&Ky(e,t,n,r)}function lf(e,t){let n=e[N];(n&3)===t&&(n&=16383,n+=1,e[N]=n)}function Ky(e,t,n,r){let o=r!==void 0?e[lr]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[lr]+=65536),(a<i||i==-1)&&(EI(e,n,t,c),e[lr]=(e[lr]&4294901760)+c+2),c++}function cy(e,t){z(B.LifecycleHookStart,e,t);let n=O(null);try{t.call(e)}finally{O(n),z(B.LifecycleHookEnd,e,t)}}function EI(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[N]>>14<e[lr]>>16&&(e[N]&3)===t&&(e[N]+=16384,cy(a,i)):cy(a,i)}var bo=-1,_r=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function bI(e){return(e.flags&8)!==0}function DI(e){return(e.flags&16)!==0}function CI(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];SI(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function II(e){return e===3||e===4||e===6}function SI(e){return e.charCodeAt(0)===64}function Io(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?uy(e,n,o,null,t[++r]):uy(e,n,o,null,null))}}return e}function uy(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function Yy(e){return e!==bo}function cc(e){return e&32767}function TI(e){return e>>16}function uc(e,t){let n=TI(e),r=t;for(;n>0;)r=r[cr],n--;return r}var bf=!0;function ly(e){let t=bf;return bf=e,t}var MI=256,Jy=MI-1,Zy=5,AI=0,Jt={};function RI(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ar)&&(r=n[ar]),r==null&&(r=n[ar]=AI++);let o=r&Jy,i=1<<o;t.data[e+(o>>Zy)]|=i}function lc(e,t){let n=Qy(e,t);if(n!==-1)return n;let r=t[S];r.firstCreatePass&&(e.injectorIndex=t.length,df(r.data,e),df(t,null),df(r.blueprint,null));let o=$f(e,t),i=e.injectorIndex;if(Yy(o)){let s=cc(o),a=uc(o,t),c=a[S].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function df(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function $f(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=rv(o),r===null)return bo;if(n++,o=o[cr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return bo}function Df(e,t,n){RI(e,t,n)}function Xy(e,t,n){if(n&8||e!==void 0)return e;ja(t,"NodeInjector")}function ev(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[yt],i=et(void 0);try{return o?o.get(t,r,n&8):xd(t,r,n&8)}finally{et(i)}}return Xy(r,t,n)}function tv(e,t,n,r=0,o){if(e!==null){if(t[N]&2048&&!(r&2)){let s=PI(e,t,n,r,Jt);if(s!==Jt)return s}let i=nv(e,t,n,r,Jt);if(i!==Jt)return i}return ev(t,n,r,o)}function nv(e,t,n,r,o){let i=OI(n);if(typeof i=="function"){if(!Xd(t,e,r))return r&1?Xy(o,n,r):ev(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))ja(n);else return s}finally{ef()}}else if(typeof i=="number"){let s=null,a=Qy(e,t),c=bo,u=r&1?t[Ze][mt]:null;for((a===-1||r&4)&&(c=a===-1?$f(e,t):t[a+8],c===bo||!fy(r,!1)?a=-1:(s=t[S],a=cc(c),t=uc(c,t)));a!==-1;){let l=t[S];if(dy(i,a,l.data)){let d=NI(a,t,n,s,r,u);if(d!==Jt)return d}c=t[a+8],c!==bo&&fy(r,t[S].data[a+8]===u)&&dy(i,a,t)?(s=l,a=cc(c),t=uc(c,t)):a=-1}}return o}function NI(e,t,n,r,o,i){let s=t[S],a=s.data[e+8],c=r==null?vn(a)&&bf:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=xI(a,s,n,c,u);return l!==null?dc(t,s,l,a,o):Jt}function xI(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&Kt(f)&&f.type===n)return c}return null}function dc(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof _r){let a=i;if(a.resolving){let f=ym(s[n]);throw Nd(f)}let c=ly(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?et(a.injectImpl):null,h=Xd(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&wI(n,s[n],t)}finally{d!==null&&et(d),ly(c),a.resolving=!1,ef()}}return i}function OI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ar)?e[ar]:void 0;return typeof t=="number"?t>=0?t&Jy:kI:t}function dy(e,t,n){let r=1<<e;return!!(n[t+(e>>Zy)]&r)}function fy(e,t){return!(e&2)&&!(e&1&&t)}var vr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return tv(this._tNode,this._lView,t,rr(r),n)}};function kI(){return new vr(xe(),Q())}function Fn(e){return Bi(()=>{let t=e.prototype.constructor,n=t[vi]||Cf(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[vi]||Cf(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Cf(e){return bd(e)?()=>{let t=Cf(Ae(e));return t&&t()}:or(e)}function PI(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[N]&2048&&!hr(s);){let a=nv(i,s,n,r|2,Jt);if(a!==Jt)return a;let c=i.parent;if(!c){let u=s[Vd];if(u){let l=u.get(n,Jt,r);if(l!==Jt)return l}c=rv(s),s=s[cr]}i=c}return o}function rv(e){let t=e[S],n=t.type;return n===2?t.declTNode:n===1?e[mt]:null}function FI(){return Cc(xe(),Q())}function Cc(e,t){return new Ln(vt(e,t))}var Ln=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=FI}return e})();var ov="ngSkipHydration",LI="ngskiphydration";function iv(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===LI)return!0}return!1}function sv(e){return e.hasAttribute(ov)}function fc(e){return(e.flags&128)===128}function av(e){if(fc(e))return!0;let t=e.parent;for(;t;){if(fc(e)||iv(t))return!0;t=t.parent}return!1}var Hf=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(Hf||{}),cv=new Map,jI=0;function VI(){return jI++}function UI(e){cv.set(e[Ti],e)}function If(e){cv.delete(e[Ti])}var hy="__ngContext__";function So(e,t){ot(t)?(e[hy]=t[Ti],UI(t)):e[hy]=t}function uv(e){return dv(e[yo])}function lv(e){return dv(e[gt])}function dv(e){for(;e!==null&&!it(e);)e=e[gt];return e}var Sf;function zf(e){Sf=e}function fv(){if(Sf!==void 0)return Sf;if(typeof document<"u")return document;throw new E(210,!1)}var Qt=new w("",{factory:()=>BI}),BI="ng";var Ic=new w(""),Cr=new w("",{providedIn:"platform",factory:()=>"unknown"});var Sc=new w("",{factory:()=>m(ne).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ao=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>{let n=new e;return n.store=$I(m(ne),m(Qt)),n}});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function $I(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var hv="h",pv="b",HI="f",zI="n",gv="e",mv="t",Tc="c",Gf="x",Li="r",yv="i",vv="n",qf="d";var _v="di",wv="s",Ev="p";var $i=new w(""),bv=!1,Wf=new w("",{factory:()=>bv});var Kf=new w(""),Dv=!1,Cv=new w(""),Yf=new w("",{factory:()=>new Map}),Mc=new w("");var Hi="ngb";var Iv=(e,t,n)=>{let r=e,o=r.__jsaction_fns??new Map,i=o.get(t)??[];i.push(n),o.set(t,i),r.__jsaction_fns=o},Sv=(e,t)=>{let n=e,r=n.getAttribute(Hi)??"",o=t.get(r)??new Set;o.has(n)||o.add(n),t.set(r,o)};var Tv=e=>{e.removeAttribute(Xa.JSACTION),e.removeAttribute(Hi),e.__jsaction_fns=void 0},Mv=new w("",{factory:()=>({})});function Jf(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var Tf=new Map;function Av(e,t){return Tf.set(e,t),()=>Tf.delete(e)}var py=!1,Rv=(e,t,n,r)=>{};function GI(e,t,n,r){Rv(e,t,n,r)}function Nv(){py||(Rv=(e,t,n,r)=>{let o=e[yt].get(Qt);Tf.get(o)?.(t,n,r)},py=!0)}var Ac=new w("");function Rc(e){return(e.flags&32)===32}var qI="__nghData__",Zf=qI,WI="__nghDeferData__",xv=WI;var rc="ngh",Ov="nghm",kv=()=>null;function KI(e,t,n=!1){let r=e.getAttribute(rc);if(r==null)return null;let[o,i]=r.split("|");if(r=n?i:o,!r)return null;let s=i?`|${i}`:"",a=n?o:s,c={};if(r!==""){let l=t.get(Ao,null,{optional:!0});l!==null&&(c=l.get(Zf,[])[Number(r)])}let u={data:c,firstChild:e.firstChild??null};return n&&(u.firstChild=e,Nc(u,0,e.nextSibling)),a?e.setAttribute(rc,a):e.removeAttribute(rc),u}function Pv(){kv=KI}function Fv(e,t,n=!1){return kv(e,t,n)}function Lv(e){let t=e._lView;return t[S].type===2?null:(hr(t)&&(t=t[te]),t)}function YI(e){return e.textContent?.replace(/\s/gm,"")}function JI(e){let t=fv(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(i){let s=YI(i);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,o=[];for(;r=n.nextNode();)o.push(r);for(let i of o)i.textContent==="ngetn"?i.replaceWith(t.createTextNode("")):i.remove()}function Nc(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Mf(e,t){return e.segmentHeads?.[t]??null}function jv(e){return e.get(Cv,!1,{optional:!0})}function ZI(e,t){let n=e.data,r=n[gv]?.[t]??null;return r===null&&n[Tc]?.[t]&&(r=Qf(e,t)),r}function Vv(e,t){return e.data[Tc]?.[t]??null}function Qf(e,t){let n=Vv(e,t)??[],r=0;for(let o of n)r+=o[Li]*(o[Gf]??1);return r}function QI(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[qf];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function Uv(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[qf];e.disconnectedNodes=n?new Set(n):null}return!!QI(e)?.has(t)}function xc(e,t){let n=e[nt];return n!==null&&!qd()&&!Rc(t)&&!Uv(n,t.index-te)}function XI(e,t){let n=t.get(Ac),o=t.get(Ao).get(xv,{}),i=!1,s=e,a=null,c=[];for(;!i&&s;){i=n.has(s);let u=n.hydrating.get(s);if(a===null&&u!=null){a=u.promise;break}c.unshift(s),s=o[s][Ev]}return{parentBlockPromise:a,hydrationQueue:c}}function ff(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===Ov}function gy(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function Bv(e){for(let r of e.body.childNodes)if(ff(r))return;let t=gy(e.body.previousSibling);if(ff(t))return;let n=gy(e.head.lastChild);if(!ff(n))throw new E(-507,!1)}function $v(e,t){let n=e.contentQueries;if(n!==null){let r=O(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Qd(i),a.contentQueries(2,t[s],s)}}}finally{O(r)}}}function Af(e,t,n){Qd(0);let r=O(null);try{t(e,n)}finally{O(r)}}function Xf(e,t,n){if(Ud(t)){let r=O(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{O(r)}}}var Pt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Pt||{});var Rf=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wd})`}};function Oc(e){return e instanceof Rf?e.changingThisBreaksApplicationSecurity:e}var e0=/^>|^->|<!--|-->|--!>|<!-$/g,t0=/(<|>)/g,n0="\u200B$1\u200B";function r0(e){return e.replace(e0,t=>t.replace(t0,n0))}function Hv(e,t){return e.createText(t)}function o0(e,t,n){e.setValue(t,n)}function zv(e,t){return e.createComment(r0(t))}function eh(e,t,n){return e.createElement(t,n)}function hc(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Gv(e,t,n){e.appendChild(t,n)}function my(e,t,n,r,o){r!==null?hc(e,t,n,r,o):Gv(e,t,n)}function th(e,t,n,r){e.removeChild(null,t,n,r)}function qv(e){e.textContent=""}function i0(e,t,n){e.setAttribute(t,"style",n)}function s0(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Wv(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&CI(e,t,r),o!==null&&s0(e,t,o),i!==null&&i0(e,t,i)}function Kv(e){return e.ownerDocument.body}function Yv(e){return e instanceof Function?e():e}function a0(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Jv="ng-template";function c0(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&a0(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(nh(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function nh(e){return e.type===4&&e.value!==Jv}function u0(e,t,n){let r=e.type===4&&!n?Jv:e.value;return t===r}function l0(e,t,n){let r=4,o=e.attrs,i=o!==null?h0(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!kt(r)&&!kt(c))return!1;if(s&&kt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!u0(e,c,n)||c===""&&t.length===1){if(kt(r))return!1;s=!0}}else if(r&8){if(o===null||!c0(e,o,c,n)){if(kt(r))return!1;s=!0}}else{let u=t[++a],l=d0(c,o,nh(e),n);if(l===-1){if(kt(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(kt(r))return!1;s=!0}}}}return kt(r)||s}function kt(e){return(e&1)===0}function d0(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return p0(t,e)}function f0(e,t,n=!1){for(let r=0;r<t.length;r++)if(l0(e,t[r],n))return!0;return!1}function h0(e){for(let t=0;t<e.length;t++){let n=e[t];if(II(n))return t}return e.length}function p0(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function yy(e,t){return e?":not("+t.trim()+")":t}function g0(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!kt(s)&&(t+=yy(i,o),o=""),r=s,i=i||!kt(r);n++}return o!==""&&(t+=yy(i,o)),t}function m0(e){return e.map(g0).join(",")}function y0(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!kt(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var jn={};function rh(e,t,n,r,o,i,s,a,c,u,l){let d=te+r,h=d+o,f=v0(d,h),p=typeof u=="function"?u():u;return f[S]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function v0(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:jn);return n}function _0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=rh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function oh(e,t,n,r,o,i,s,a,c,u,l){let d=t.blueprint.slice();return d[He]=o,d[N]=r|4|128|8|64|1024,(u!==null||e&&e[N]&2048)&&(d[N]|=2048),$d(d),d[pe]=d[cr]=e,d[Fe]=n,d[yn]=s||e&&e[yn],d[Y]=a||e&&e[Y],d[yt]=c||e&&e[yt]||null,d[mt]=i,d[Ti]=VI(),d[nt]=l,d[Vd]=u,d[Ze]=t.type==2?e[Ze]:d,d}function w0(e,t,n){let r=vt(t,e),o=_0(n),i=e[yn].rendererFactory,s=ih(e,oh(e,o,null,Zv(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Zv(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Qv(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function ih(e,t){return e[yo]?e[jd][gt]=t:e[yo]=t,e[jd]=t,t}function ae(e=1){Xv(Ge(),Q(),mr()+e,!1)}function Xv(e,t,n,r){if(!r)if((t[N]&3)===3){let i=e.preOrderCheckHooks;i!==null&&tc(t,i,n)}else{let i=e.preOrderHooks;i!==null&&nc(t,i,0,n)}On(n)}var kc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(kc||{});function Nf(e,t,n,r){let o=O(null);try{let[i,s,a]=e.inputs[n],c=null;(s&kc.SignalBased)!==0&&(c=t[i][Be]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Hy(t,c,i,r)}finally{O(o)}}var Zt=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Zt||{}),E0;function sh(e,t){return E0(e,t)}var To=new Set,Pc=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Pc||{}),Vn=new w(""),vy=new Set;function Xt(e){vy.has(e)||(vy.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var ah=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),e_=[0,1,2,3],t_=(()=>{class e{ngZone=m(Pe);scheduler=m(gn);errorHandler=m(zt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(Vn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&z(B.AfterRenderHooksStart),this.executing=!0;for(let r of e_)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&z(B.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[fr]??=[]).push(n),gr(r),r[N]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Pc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),pc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[fr];t&&(this.view[fr]=t.filter(n=>n!==this))}};function zi(e,t){let n=t?.injector??m(Re);return Xt("NgAfterNextRender"),D0(e,n,t,!0)}function b0(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function D0(e,t,n,r){let o=t.get(ah);o.impl??=t.get(t_);let i=t.get(Vn,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(wt):null,a=t.get(Oi,null,{optional:!0}),c=new pc(o.impl,b0(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var C0=new w("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:m(de)})});function n_(e,t,n){let r=e.get(C0);if(Array.isArray(t))for(let o of t)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function I0(e,t){for(let[n,r]of t)n_(e,r.animateFns)}function _y(e,t,n,r){let o=e?.[Mi]?.enter;t!==null&&o&&o.has(n.index)&&I0(r,o)}function Eo(e,t,n,r,o,i,s,a){if(o!=null){let c,u=!1;it(o)?c=o:ot(o)&&(u=!0,o=o[He]);let l=st(o);e===0&&r!==null?(_y(a,r,i,n),s==null?Gv(t,r,l):hc(t,r,l,s||null,!0)):e===1&&r!==null?(_y(a,r,i,n),hc(t,r,l,s||null,!0)):e===2?wy(a,i,n,d=>{th(t,l,u,d)}):e===3&&wy(a,i,n,()=>{t.destroyNode(l)}),c!=null&&j0(t,e,n,c,i,r,s)}}function S0(e,t){r_(e,t),t[He]=null,t[mt]=null}function T0(e,t,n,r,o,i){r[He]=o,r[mt]=t,Fc(e,r,n,1,o,i)}function r_(e,t){t[yn].changeDetectionScheduler?.notify(9),Fc(e,t,t[Y],2,null,null)}function M0(e){let t=e[yo];if(!t)return hf(e[S],e);for(;t;){let n=null;if(ot(t))n=t[yo];else{let r=t[ze];r&&(n=r)}if(!n){for(;t&&!t[gt]&&t!==e;)ot(t)&&hf(t[S],t),t=t[pe];t===null&&(t=e),ot(t)&&hf(t[S],t),n=t&&t[gt]}t=n}}function ch(e,t){let n=e[Ri],r=n.indexOf(t);n.splice(r,1)}function uh(e,t){if(xn(t))return;let n=t[Y];n.destroyNode&&Fc(e,t,n,3,null,null),M0(t)}function hf(e,t){if(xn(t))return;let n=O(null);try{t[N]&=-129,t[N]|=256,t[rt]&&Jn(t[rt]),N0(e,t),R0(e,t),t[S].type===1&&t[Y].destroy();let r=t[ur];if(r!==null&&it(t[pe])){r!==t[pe]&&ch(r,t);let o=t[dr];o!==null&&o.detachView(e)}If(t)}finally{O(n)}}function wy(e,t,n,r){let o=e?.[Mi];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);e&&To.add(e),n_(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),A0(e,r)}else e&&To.delete(e),r(!1)},o)}function A0(e,t){let n=e[Mi]?.running;if(n){n.then(()=>{e[Mi].running=void 0,To.delete(e),t(!0)});return}t(!1)}function R0(e,t){let n=e.cleanup,r=t[mo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[mo]=null);let o=t[hn];if(o!==null){t[hn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[An];if(i!==null){t[An]=null;for(let s of i)s.destroy()}}function N0(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof _r)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];z(B.LifecycleHookStart,a,c);try{c.call(a)}finally{z(B.LifecycleHookEnd,a,c)}}else{z(B.LifecycleHookStart,o,i);try{i.call(o)}finally{z(B.LifecycleHookEnd,o,i)}}}}}function x0(e,t,n){return O0(e,t.parent,n)}function O0(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[He];if(vn(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Pt.None||o===Pt.Emulated)return null}return vt(r,n)}function k0(e,t,n){return F0(e,t,n)}function P0(e,t,n){return e.type&40?vt(e,n):null}var F0=P0,Ey;function lh(e,t,n,r){let o=x0(e,r,t),i=t[Y],s=r.parent||t[mt],a=k0(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)my(i,o,n[c],a,!1);else my(i,o,n,a,!1);Ey!==void 0&&Ey(i,r,t,n,o)}function Pi(e,t){if(t!==null){let n=t.type;if(n&3)return vt(t,e);if(n&4)return xf(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Pi(e,r);{let o=e[t.index];return it(o)?xf(-1,o):st(o)}}else{if(n&128)return Pi(e,t.next);if(n&32)return sh(t,e)()||st(e[t.index]);{let r=o_(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Rn(e[Ze]);return Pi(o,r)}else return Pi(e,t.next)}}}return null}function o_(e,t){if(t!==null){let r=e[Ze][mt],o=t.projection;return r.projection[o]}return null}function xf(e,t){let n=ze+e+1;if(n<t.length){let r=t[n],o=r[S].firstChild;if(o!==null)return Pi(r,o)}return t[Wt]}function dh(e,t,n,r,o,i,s){for(;n!=null;){let a=r[yt];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&t===0&&(c&&So(st(c),r),n.flags|=2),!Rc(n))if(u&8)dh(e,t,n.child,r,o,i,!1),Eo(t,e,a,o,c,n,i,r);else if(u&32){let l=sh(n,r),d;for(;d=l();)Eo(t,e,a,o,d,n,i,r);Eo(t,e,a,o,c,n,i,r)}else u&16?L0(e,t,r,n,o,i):Eo(t,e,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function Fc(e,t,n,r,o,i){dh(n,r,e.firstChild,t,o,i,!1)}function L0(e,t,n,r,o,i){let s=n[Ze],c=s[mt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Eo(t,e,n[yt],o,l,r,i,n)}else{let u=c,l=s[pe];fc(r)&&(u.flags|=128),dh(e,t,u,l,o,i,!0)}}function j0(e,t,n,r,o,i,s){let a=r[Wt],c=st(r);a!==c&&Eo(t,e,n,i,a,o,s);for(let u=ze;u<r.length;u++){let l=r[u];Fc(l[S],l,e,t,i,a)}}function V0(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Zt.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Zt.Important),e.setStyle(n,r,o,i))}}function i_(e,t,n,r,o){let i=mr(),s=r&2;try{On(-1),s&&t.length>te&&Xv(e,t,te,!1);let a=s?B.TemplateUpdateStart:B.TemplateCreateStart;z(a,o,n),n(r,o)}finally{On(i);let a=s?B.TemplateUpdateEnd:B.TemplateCreateEnd;z(a,o,n)}}function Lc(e,t,n){q0(e,t,n),(n.flags&64)===64&&W0(e,t,n)}function jc(e,t,n=vt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function U0(e,t,n,r){let i=r.get(Wf,bv)||n===Pt.ShadowDom||n===Pt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,i);return B0(s),s}function B0(e){s_(e)}var s_=()=>null;function $0(e){sv(e)?qv(e):JI(e)}function a_(){s_=$0}function H0(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function c_(e,t,n,r,o,i){let s=t[S];if(mh(e,s,t,n,r)){vn(e)&&G0(t,e.index);return}e.type&3&&(n=H0(n)),z0(e,t,n,r,o,i)}function z0(e,t,n,r,o,i){if(e.type&3){let s=vt(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function G0(e,t){let n=_t(t,e);n[N]&16||(n[N]|=64)}function q0(e,t,n){let r=n.directiveStart,o=n.directiveEnd;vn(n)&&w0(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||lc(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=dc(t,e,s,n);if(So(c,t),i!==null&&Z0(t,s-r,c,a,n,i),Kt(a)){let u=_t(n.index,t);u[Fe]=dc(t,e,s,n)}}}function W0(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Km();try{On(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];qa(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&K0(c,u)}}finally{On(-1),qa(s)}}function K0(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function fh(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];f0(t,i.selectors,!1)&&(r??=[],Kt(i)?r.unshift(i):r.push(i))}return r}function Y0(e,t,n,r,o,i){let s=vt(e,t);J0(t[Y],s,i,e.value,n,r,o)}function J0(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?La(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function Z0(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Nf(r,n,c,u)}}function hh(e,t,n,r,o){let i=te+n,s=t[S],a=o(s,t,e,r,n);t[i]=a,wo(e,!0);let c=e.type===2;return c?(Wv(t[Y],a,e),(jm()===0||vo(e))&&So(a,t),Vm()):So(a,t),Ja()&&(!c||!Rc(e))&&lh(s,t,a,e),e}function ph(e){let t=e;return Jd()?$m():(t=t.parent,wo(t,!1)),t}function gh(e,t){let n=e[yt];if(!n)return;let r;try{r=n.get(Et,null)}catch{r=null}r?.(t)}function mh(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=t.data[u];Nf(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=t.data[c];Nf(l,u,r,o),a=!0}return a}function Q0(e,t){let n=_t(t,e),r=n[S];X0(r,n);let o=n[He];o!==null&&n[nt]===null&&(n[nt]=Fv(o,n[yt])),z(B.ComponentStart);try{yh(r,n,n[Fe])}finally{z(B.ComponentEnd,n[Fe])}}function X0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function yh(e,t,n){Wa(t);try{let r=e.viewQuery;r!==null&&Af(1,r,n);let o=e.template;o!==null&&i_(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[dr]?.finishViewCreation(e),e.staticContentQueries&&$v(e,t),e.staticViewQueries&&Af(2,e.viewQuery,n);let i=e.components;i!==null&&eS(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[N]&=-5,Ka()}}function eS(e,t){for(let n=0;n<t.length;n++)Q0(e,t[n])}function u_(e,t,n,r){let o=O(null);try{let i=t.tView,a=e[N]&4096?4096:16,c=oh(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[ur]=u;let l=e[dr];return l!==null&&(c[dr]=l.createEmbeddedView(i)),yh(i,c,n),c}finally{O(o)}}function Of(e,t){return!t||t.firstChild===null||fc(e)}function ji(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(st(i)),it(i)&&l_(i,r);let s=n.type;if(s&8)ji(e,t,n.child,r);else if(s&32){let a=sh(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=o_(t,n);if(Array.isArray(a))r.push(...a);else{let c=Rn(t[Ze]);ji(c[S],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function l_(e,t){for(let n=ze;n<e.length;n++){let r=e[n],o=r[S].firstChild;o!==null&&ji(r[S],r,o,t)}e[Wt]!==e[He]&&t.push(e[Wt])}function d_(e){if(e[fr]!==null){for(let t of e[fr])t.impl.addSequence(t);e[fr].length=0}}var f_=[];function tS(e){return e[rt]??nS(e)}function nS(e){let t=f_.pop()??Object.create(oS);return t.lView=e,t}function rS(e){e.lView[rt]!==e&&(e.lView=null,f_.push(e))}var oS=j(_({},eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{gr(e.lView)},consumerOnSignalRead(){this.lView[rt]=this}});function iS(e){let t=e[rt]??Object.create(sS);return t.lView=e,t}var sS=j(_({},eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Rn(e.lView);for(;t&&!h_(t[S]);)t=Rn(t);t&&Hd(t)},consumerOnSignalRead(){this.lView[rt]=this}});function h_(e){return e.type!==2}function p_(e){if(e[An]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[An])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[N]&8192)}}var aS=100;function g_(e,t=0){let r=e[yn].rendererFactory,o=!1;o||r.begin?.();try{cS(e,t)}finally{o||r.end?.()}}function cS(e,t){let n=Zd();try{wi(!0),kf(e,t);let r=0;for(;Ni(e);){if(r===aS)throw new E(103,!1);r++,kf(e,1)}}finally{wi(n)}}function uS(e,t,n,r){if(xn(t))return;let o=t[N],i=!1,s=!1;Wa(t);let a=!0,c=null,u=null;i||(h_(e)?(u=tS(t),c=to(u)):Xs()===null?(a=!1,u=iS(t),c=to(u)):t[rt]&&(Jn(t[rt]),t[rt]=null));try{$d(t),zm(e.bindingStartIndex),n!==null&&i_(e,t,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&tc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&nc(t,f,0,null),lf(t,0)}if(s||lS(t),p_(t),m_(t,0),e.contentQueries!==null&&$v(e,t),!i)if(l){let f=e.contentCheckHooks;f!==null&&tc(t,f)}else{let f=e.contentHooks;f!==null&&nc(t,f,1),lf(t,1)}fS(e,t);let d=e.components;d!==null&&v_(t,d,0);let h=e.viewQuery;if(h!==null&&Af(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&tc(t,f)}else{let f=e.viewHooks;f!==null&&nc(t,f,2),lf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[$a]){for(let f of t[$a])f();t[$a]=null}i||(d_(t),t[N]&=-73)}catch(l){throw i||gr(t),l}finally{u!==null&&(li(u,c),a&&rS(u)),Ka()}}function m_(e,t){for(let n=uv(e);n!==null;n=lv(n))for(let r=ze;r<n.length;r++){let o=n[r];y_(o,t)}}function lS(e){for(let t=uv(e);t!==null;t=lv(t)){if(!(t[N]&2))continue;let n=t[Ri];for(let r=0;r<n.length;r++){let o=n[r];Hd(o)}}}function dS(e,t,n){z(B.ComponentStart);let r=_t(t,e);try{y_(r,n)}finally{z(B.ComponentEnd,r[Fe])}}function y_(e,t){Ha(e)&&kf(e,t)}function kf(e,t){let r=e[S],o=e[N],i=e[rt],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&di(i)),s||=!1,i&&(i.dirty=!1),e[N]&=-9217,s)uS(r,e,r.template,e[Fe]);else if(o&8192){let a=O(null);try{p_(e),m_(e,1);let c=r.components;c!==null&&v_(e,c,1),d_(e)}finally{O(a)}}}function v_(e,t,n){for(let r=0;r<t.length;r++)dS(e,t[r],n)}function fS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)On(~o);else{let i=o,s=n[++r],a=n[++r];Wm(s,i);let c=t[i];z(B.HostBindingsUpdateStart,c);try{a(2,c)}finally{z(B.HostBindingsUpdateEnd,c)}}}}finally{On(-1)}}function Vc(e,t){let n=Zd()?64:1088;for(e[yn].changeDetectionScheduler?.notify(t);e;){e[N]|=n;let r=Rn(e);if(hr(e)&&!r)return e;e=r}return null}function __(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function w_(e,t,n,r=!0){let o=t[S];if(pS(o,t,e,n),r){let s=xf(n,e),a=t[Y],c=a.parentNode(e[Wt]);c!==null&&T0(o,e[mt],a,t,c,s)}let i=t[nt];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function hS(e,t){let n=gc(e,t);return n!==void 0&&uh(n[S],n),n}function gc(e,t){if(e.length<=ze)return;let n=ze+t,r=e[n];if(r){let o=r[ur];o!==null&&o!==e&&ch(o,r),t>0&&(e[n-1][gt]=r[gt]);let i=Ci(e,ze+t);S0(r[S],r);let s=i[dr];s!==null&&s.detachView(i[S]),r[pe]=null,r[gt]=null,r[N]&=-129}return r}function pS(e,t,n,r){let o=ze+r,i=n.length;r>0&&(n[o-1][gt]=t),r<i-ze?(t[gt]=n[o],Od(n,ze+r,t)):(n.push(t),t[gt]=null),t[pe]=n;let s=t[ur];s!==null&&n!==s&&E_(s,t);let a=t[dr];a!==null&&a.insertView(e),za(t),t[N]|=128}function E_(e,t){let n=e[Ri],r=t[pe];if(ot(r))e[N]|=2;else{let o=r[pe][Ze];t[Ze]!==o&&(e[N]|=2)}n===null?e[Ri]=[t]:n.push(t)}var kn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[S];return ji(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Fe]}set context(t){this._lView[Fe]=t}get destroyed(){return xn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[pe];if(it(t)){let n=t[Ai],r=n?n.indexOf(this):-1;r>-1&&(gc(t,r),Ci(n,r))}this._attachedToViewContainer=!1}uh(this._lView[S],this._lView)}onDestroy(t){zd(this._lView,t)}markForCheck(){Vc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[N]&=-129}reattach(){za(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,g_(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=hr(this._lView),n=this._lView[ur];n!==null&&!t&&ch(n,this._lView),r_(this._lView[S],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t;let n=hr(this._lView),r=this._lView[ur];r!==null&&!n&&E_(r,this._lView),za(this._lView)}};var Gi=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=gS;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=u_(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new kn(i)}}return e})();function gS(){return b_(xe(),Q())}function b_(e,t){return e.type&4?new Gi(t,e,Cc(e,t)):null}function Uc(e,t,n,r,o){let i=e.data[t];if(i===null)i=mS(e,t,n,r,o),qm()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Bm();i.injectorIndex=s===null?-1:s.injectorIndex}return wo(i,!0),i}function mS(e,t,n,r,o){let i=Yd(),s=Jd(),a=s?i:i&&i.parent,c=e.data[t]=vS(e,a,n,t,r,o);return yS(e,c,i,s),c}function yS(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function vS(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return qd()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var _S=new RegExp(`^(\\d+)*(${pv}|${hv})*(.*)`);function wS(e){let t=e.match(_S),[n,r,o,i]=t,s=r?parseInt(r,10):o,a=[];for(let[c,u,l]of i.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[s,...a]}function ES(e){return!e.prev&&e.parent?.type===8}function pf(e){return e.index-te}function bS(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function Bc(e,t,n,r){let o=pf(r),i=bS(e,o);if(i===void 0){let s=e.data[vv];if(s?.[o])i=CS(s[o],n);else if(t.firstChild===r)i=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(ES(r)){let u=pf(r.parent);i=Mf(e,u)}else{let u=vt(c,n);if(a)i=u.firstChild;else{let l=pf(c),d=Mf(e,l);if(c.type===2&&d){let f=Qf(e,l)+1;i=$c(f,d)}else i=u.nextSibling}}}}return i}function $c(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function DS(e,t){let n=e;for(let r=0;r<t.length;r+=2){let o=t[r],i=t[r+1];for(let s=0;s<i;s++)switch(o){case HI:n=n.firstChild;break;case zI:n=n.nextSibling;break}}return n}function CS(e,t){let[n,...r]=wS(e),o;if(n===hv)o=t[Ze][He];else if(n===pv)o=Kv(t[Ze][He]);else{let i=Number(n);o=st(t[i+te])}return DS(o,r)}var IS=!1;function D_(e){IS=e}function SS(e){let t=e[nt];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let o=e[Y];for(let i of r.values())TS(o,n,i)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function TS(e,t,n){for(let r of n.node.cases[n.case]){let o=t.get(r.index-te);o&&th(e,o,!1)}}function vh(e){let t=e[Ot]??[],r=e[pe][Y],o=[];for(let i of t)i.data[_v]!==void 0?o.push(i):C_(i,r);e[Ot]=o}function MS(e){let{lContainer:t}=e,n=t[Ot];if(n===null)return;let o=t[pe][Y];for(let i of n)C_(i,o)}function C_(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[Li];for(;n<o;){let i=r.nextSibling;th(t,r,!1),r=i,n++}}}function Hc(e){vh(e);let t=e[He];ot(t)&&mc(t);for(let n=ze;n<e.length;n++)mc(e[n])}function mc(e){SS(e);let t=e[S];for(let n=te;n<t.bindingStartIndex;n++)if(it(e[n])){let r=e[n];Hc(r)}else ot(e[n])&&mc(e[n])}function _h(e){let t=e._views;for(let n of t){let r=Lv(n);r!==null&&r[He]!==null&&(ot(r)?mc(r):Hc(r))}}function AS(e,t,n,r){e!==null&&(n.cleanup(t),Hc(e.lContainer),_h(r))}function RS(e,t){let n=[];for(let r of t)for(let o=0;o<(r[Gf]??1);o++){let i={data:r,firstChild:null};r[Li]>0&&(i.firstChild=e,e=$c(r[Li],e)),n.push(i)}return[e,n]}var I_=()=>null,NS=()=>null;function S_(){I_=xS,NS=OS}function xS(e,t){return T_(e,t)?e[Ot].shift():(vh(e),null)}function Pf(e,t){return I_(e,t)}function OS(e,t,n){if(t.tView.ssrId===null)return null;let r=Pf(e,t.tView.ssrId);return n[S].firstUpdatePass&&r===null&&kS(n,t),r}function kS(e,t){let n=t;for(;n;){if(by(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(by(e,n))return;n=n.next}}function T_(e,t){let n=e[Ot];return!t||n===null||n.length===0?!1:n[0].data[yv]===t}function by(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return it(r)&&T_(r,n)?(vh(r),!0):!1}var M_=class{},zc=class{},Ff=class{resolveComponentFactory(t){throw new E(917,!1)}},qi=class{static NULL=new Ff},wr=class{},Ir=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>PS()}return e})();function PS(){let e=Q(),t=xe(),n=_t(t.index,e);return(ot(n)?n:e)[Y]}var A_=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var oc={},Do=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,oc,r);return o!==oc||n===oc?o:this.parentInjector.get(t,n,r)}};function yc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Ed(o,a);else if(i==2){let c=a,u=t[++s];r=Ed(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function P(e,t=0){let n=Q();if(n===null)return R(e,t);let r=xe();return tv(r,n,Ae(e),t)}function wh(){let e="invalid";throw new Error(e)}function R_(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}jS(e,t,n,a,i,c,u)}i!==null&&r!==null&&FS(n,r,i)}function FS(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new E(-301,!1);r.push(t[o],i)}}function LS(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function jS(e,t,n,r,o,i,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&Kt(f)&&(c=f,LS(e,n,h)),Df(lc(n,t),e,f.type)}zS(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Qv(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Io(n.mergedAttrs,f.hostAttrs),US(e,n,t,d,f),HS(d,f,o),s!==null&&s.has(f)){let[g,v]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,v+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}VS(e,n,i)}function VS(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Dy(0,t,o,r),Dy(1,t,o,r),Iy(t,r,!1);else{let i=n.get(o);Cy(0,t,i,r),Cy(1,t,i,r),Iy(t,r,!0)}}}function Dy(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),N_(t,i)}}function Cy(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),N_(t,s)}}function N_(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Iy(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||nh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function US(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=or(o.type,!0)),s=new _r(i,Kt(o),P,null);e.blueprint[r]=s,n[r]=s,BS(e,t,r,Qv(e,n,o.hostVars,jn),o)}function BS(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;$S(s)!=a&&s.push(a),s.push(n,r,i)}}function $S(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function HS(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Kt(t)&&(n[""]=e)}}function zS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Eh(e,t,n,r,o,i,s,a){let c=t[S],u=c.consts,l=pr(u,s),d=Uc(c,e,n,r,l);return i&&R_(c,t,d,pr(u,a),o),d.mergedAttrs=Io(d.mergedAttrs,d.attrs),d.attrs!==null&&yc(d,d.attrs,!1),d.mergedAttrs!==null&&yc(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function bh(e,t){Wy(e,t),Ud(t)&&e.queries.elementEnd(t)}function GS(e,t,n,r,o,i){let s=t.consts,a=pr(s,o),c=Uc(t,e,n,r,a);if(c.mergedAttrs=Io(c.mergedAttrs,c.attrs),i!=null){let u=pr(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&yc(c,c.attrs,!1),c.mergedAttrs!==null&&yc(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Dh(e){return O_(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function x_(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function O_(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Wi(e,t,n){if(n===jn)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function ic(e,t,n){return function r(o){let i=vn(e)?_t(e.index,t):t;Vc(i,5);let s=t[Fe],a=Sy(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Sy(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Sy(e,t,n,r){let o=O(null);try{return z(B.OutputStart,t,n),n(r)!==!1}catch(i){return gh(e,i),!1}finally{z(B.OutputEnd,t,n),O(o)}}function k_(e,t,n,r,o,i,s,a){let c=vo(e),u=!1,l=null;if(!r&&c&&(l=WS(t,n,i,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=vt(e,n),h=r?r(d):d;GI(n,h,i,a);let f=o.listen(h,i,a);if(!qS(i)){let p=r?g=>r(st(g[e.index])):e.index;P_(p,t,n,i,a,f,!1)}}return u}function qS(e){return e.startsWith("animation")||e.startsWith("transition")}function WS(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[mo],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function P_(e,t,n,r,o,i,s){let a=t.firstCreatePass?Lm(t):null,c=Fm(n),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function Ty(e,t,n,r,o,i){let s=t[n],a=t[S],u=a.data[n].outputs[r],d=s[u].subscribe(i);P_(e.index,a,t,o,i,d,!0)}var Lf=Symbol("BINDING");var vc=class extends qi{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Gt(t);return new Er(n,this.ngModule)}};function KS(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&kc.SignalBased)!==0};return o&&(i.transform=o),i})}function YS(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function JS(e,t,n){let r=t instanceof de?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Do(n,r):n}function ZS(e){let t=e.get(wr,null);if(t===null)throw new E(407,!1);let n=e.get(A_,null),r=e.get(gn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function QS(e,t){let n=F_(e);return eh(t,n,n==="svg"?Rm:n==="math"?Nm:null)}function F_(e){return(e.selectors[0][0]||"div").toLowerCase()}var Er=class extends zc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=KS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=YS(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=m0(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){z(B.DynamicComponentStart);let a=O(null);try{let c=this.componentDef,u=XS(r,c,s,i),l=JS(c,o||this.ngModule,t),d=ZS(l),h=d.rendererFactory.createRenderer(null,c),f=r?U0(h,r,c.encapsulation,l):QS(c,h),p=s?.some(My)||i?.some(y=>typeof y!="function"&&y.bindings.some(My)),g=oh(null,u,null,512|Zv(c),null,null,d,h,l,null,Fv(f,l,!0));g[te]=f,Wa(g);let v=null;try{let y=Eh(te,g,2,"#host",()=>u.directiveRegistry,!0,0);Wv(h,f,y),So(f,g),Lc(u,g,y),Xf(u,y,g),bh(u,y),n!==void 0&&tT(y,this.ngContentSelectors,n),v=_t(y.index,g),g[Fe]=v[Fe],yh(u,g,null)}catch(y){throw v!==null&&If(v),If(g),y}finally{z(B.DynamicComponentEnd),Ka()}return new _c(this.componentType,g,!!p)}finally{O(a)}}};function XS(e,t,n,r){let o=e?["ng-version","21.0.6"]:y0(t.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[Lf].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[Lf].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=Pa(d);c.push(h)}return rh(0,null,eT(i,s),1,a,c,null,null,null,[o],null)}function eT(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function My(e){let t=e[Lf].kind;return t==="input"||t==="twoWay"}var _c=class extends M_{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=_o(n[S],te),this.location=Cc(this._tNode,n),this.instance=_t(this._tNode.index,n)[Fe],this.hostView=this.changeDetectorRef=new kn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=mh(r,o[S],o,t,n);this.previousInputValues.set(t,n);let s=_t(r.index,o);Vc(s,1)}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function tT(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Sr=(()=>{class e{static __NG_ELEMENT_ID__=nT}return e})();function nT(){let e=xe();return oT(e,Q())}var rT=Sr,L_=class extends rT{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Cc(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){let t=$f(this._hostTNode,this._hostLView);if(Yy(t)){let n=uc(t,this._hostLView),r=cc(t),o=n[S].data[r+8];return new vr(o,n)}else return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Ay(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Pf(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Of(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!mI(t),u;if(c)u=n;else{let v=n||{};u=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let l=c?t:new Er(Gt(t)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let y=(c?d:this.parentInjector).get(de,null);y&&(i=y)}let h=Gt(l.componentType??{}),f=Pf(this._lContainer,h?.id??null),p=f?.firstChild??null,g=l.create(d,o,p,i,s,a);return this.insertImpl(g.hostView,u,Of(this._hostTNode,f)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Om(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[pe],u=new L_(c,c[mt],c[pe]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return w_(s,o,i,r),t.attachToViewContainerRef(),Od(gf(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Ay(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=gc(this._lContainer,n);r&&(Ci(gf(this._lContainer),n),uh(r[S],r))}detach(t){let n=this._adjustIndex(t,-1),r=gc(this._lContainer,n);return r&&Ci(gf(this._lContainer),n)!=null?new kn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ay(e){return e[Ai]}function gf(e){return e[Ai]||(e[Ai]=[])}function oT(e,t){let n,r=t[e.index];return it(r)?n=r:(n=__(r,t,null,e),t[e.index]=n,ih(t,n)),j_(n,t,e,r),new L_(n,e,t)}function iT(e,t){let n=e[Y],r=n.createComment(""),o=vt(t,e),i=n.parentNode(o);return hc(n,i,r,n.nextSibling(o),!1),r}var j_=V_,Ch=()=>!1;function sT(e,t,n){return Ch(e,t,n)}function V_(e,t,n,r){if(e[Wt])return;let o;n.type&8?o=st(r):o=iT(t,n),e[Wt]=o}function aT(e,t,n){if(e[Wt]&&e[Ot])return!0;let r=n[nt],o=t.index-te;if(!r||av(t)||Uv(r,o))return!1;let s=Mf(r,o),a=r.data[Tc]?.[o],[c,u]=RS(s,a);return e[Wt]=c,e[Ot]=u,!0}function cT(e,t,n,r){Ch(e,n,t)||V_(e,t,n,r)}function U_(){j_=cT,Ch=aT}var br=class{},Gc=class{};var wc=class extends br{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new vc(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Ad(t);this._bootstrapComponents=Yv(i.bootstrap),this._r3Injector=nf(t,n,[{provide:br,useValue:this},{provide:qi,useValue:this.componentFactoryResolver},...r],pn(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Ec=class extends Gc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new wc(this.moduleType,t,[])}};var Vi=class extends br{injector;componentFactoryResolver=new vc(this);instance=null;constructor(t){super();let n=new sr([...t.providers,{provide:br,useValue:this},{provide:qi,useValue:this.componentFactoryResolver}],t.parent||Si(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Tr(e,t,n=null){return new Vi({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var uT=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ba(!1,n.type),o=r.length>0?Tr([r],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(R(de))})}return e})();function qe(e){return Bi(()=>{let t=B_(e),n=j(_({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Hf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(uT).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Pt.Emulated,styles:e.styles||tt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Xt("NgStandalone"),$_(n);let r=e.dependencies;return n.directiveDefs=Ry(r,lT),n.pipeDefs=Ry(r,Rd),n.id=hT(n),n})}function lT(e){return Gt(e)||Pa(e)}function en(e){return Bi(()=>({type:e.type,bootstrap:e.bootstrap||tt,declarations:e.declarations||tt,imports:e.imports||tt,exports:e.exports||tt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function dT(e,t){if(e==null)return Nn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=kc.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function fT(e){if(e==null)return Nn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function be(e){return Bi(()=>{let t=B_(e);return $_(t),t})}function B_(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Nn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||tt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:dT(e.inputs,t),outputs:fT(e.outputs),debugInfo:null}}function $_(e){e.features?.forEach(t=>t(e))}function Ry(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function hT(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function pT(e){return Object.getPrototypeOf(e.prototype).constructor}function tn(e){let t=pT(e.type),n=!0,r=[e];for(;t;){let o;if(Kt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new E(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=mf(e.inputs),s.declaredInputs=mf(e.declaredInputs),s.outputs=mf(e.outputs);let a=o.hostBindings;a&&_T(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&yT(e,c),u&&vT(e,u),gT(e,o),mm(e.outputs,o.outputs),Kt(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===tn&&(n=!1)}}t=Object.getPrototypeOf(t)}mT(r)}function gT(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function mT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Io(o.hostAttrs,n=Io(n,o.hostAttrs))}}function mf(e){return e===Nn?{}:e===tt?[]:e}function yT(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function vT(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function _T(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function wT(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=Io(e.mergedAttrs,e.attrs);let l=e.tView=rh(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),l.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),wo(e,!1);let c=H_(n,t,e,r);Ja()&&lh(n,t,c,e),So(c,t);let u=__(c,t,c,e);t[r+te]=u,ih(t,u),sT(u,e,t)}function ET(e,t,n,r,o,i,s,a,c,u,l){let d=n+te,h;return t.firstCreatePass?(h=Uc(t,d,4,s||null,a||null),Ga()&&R_(t,e,h,pr(t.consts,u),fh),Wy(t,h)):h=t.data[d],wT(h,e,t,n,r,o,i,c),vo(h)&&Lc(t,e,h),u!=null&&jc(e,h,l),h}function bt(e,t,n,r,o,i,s,a){let c=Q(),u=Ge(),l=pr(u.consts,i);return ET(c,u,e,t,n,r,o,l,void 0,s,a),bt}var H_=z_;function z_(e,t,n,r){return _n(!0),t[Y].createComment("")}function bT(e,t,n,r){let o=!xc(t,n);_n(o);let i=t[nt]?.data[mv]?.[r]??null;if(i!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=i),o)return z_(e,t);let s=t[nt],a=Bc(s,e,t,n);Nc(s,r,a);let c=Qf(s,r);return $c(c,a)}function G_(){H_=bT}var at=(function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e})(at||{}),Ny=0,DT=1,ge=(function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e})(ge||{});var CT=0,Ki=1;var IT=4,ST=5;var TT=7,Co=8,MT=9,Ih=(function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e})(Ih||{});function sc(e,t){let n=RT(e),r=t[n];if(r!==null){for(let o of r)o();t[n]=null}}function AT(e){sc(1,e),sc(0,e),sc(2,e)}function RT(e){let t=IT;return e===1?t=ST:e===2&&(t=MT),t}function q_(e){return e+1}function Ro(e,t){let n=e[S],r=q_(t.index);return e[r]}function Yi(e,t){let n=q_(t.index);return e.data[n]}function NT(e,t,n){let r=t[S],o=Yi(r,n);switch(e){case ge.Complete:return o.primaryTmplIndex;case ge.Loading:return o.loadingTmplIndex;case ge.Error:return o.errorTmplIndex;case ge.Placeholder:return o.placeholderTmplIndex;default:return null}}function xy(e,t){return t===ge.Placeholder?e.placeholderBlockConfig?.[Ny]??null:t===ge.Loading?e.loadingBlockConfig?.[Ny]??null:null}function xT(e){return e.loadingBlockConfig?.[DT]??null}function Oy(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function OT(e,t){let n=t.primaryTmplIndex+te;return _o(e,n)}var kT=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,o,i){if(!this.cachedInjectors.has(n)){let s=o.length>0?Tr(o,r,i):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e})}return e})();var W_=new w("");function yf(e,t,n){return e.get(kT).getOrCreateInjector(t,e,n,"")}function PT(e,t,n){if(e instanceof Do){let o=e.injector,i=e.parentInjector,s=yf(i,t,n);return new Do(o,s)}let r=e.get(de);if(r!==e){let o=yf(r,t,n);return new Do(e,o)}return yf(e,t,n)}function yr(e,t,n,r=!1){let o=n[pe],i=o[S];if(xn(o))return;let s=Ro(o,t),a=s[Ki],c=s[TT];if(!(c!==null&&e<c)&&ky(a,e)&&ky(s[CT]??-1,e)){let u=Yi(i,t),d=!r&&!0&&(xT(u)!==null||xy(u,ge.Loading)!==null||xy(u,ge.Placeholder))?jT:LT;try{d(e,s,n,t,o)}catch(h){gh(o,h)}}}function FT(e,t){let n=e[Ot]?.findIndex(o=>o.data[wv]===t[Ki])??-1;return{dehydratedView:n>-1?e[Ot][n]:null,dehydratedViewIx:n}}function LT(e,t,n,r,o){z(B.DeferBlockStateStart);let i=NT(e,o,r);if(i!==null){t[Ki]=e;let s=o[S],a=i+te,c=_o(s,a),u=0;hS(n,u);let l;if(e===ge.Complete){let p=Yi(s,r),g=p.providers;g&&g.length>0&&(l=PT(o[yt],p,g))}let{dehydratedView:d,dehydratedViewIx:h}=FT(n,t),f=u_(o,c,null,{injector:l,dehydratedView:d});if(w_(n,f,u,Of(c,d)),Vc(f,2),h>-1&&n[Ot]?.splice(h,1),(e===ge.Complete||e===ge.Error)&&Array.isArray(t[Co])){for(let p of t[Co])p();t[Co]=null}}z(B.DeferBlockStateEnd)}function ky(e,t){return e<t}function Py(e,t,n){e.loadingPromise.then(()=>{e.loadingState===at.COMPLETE?yr(ge.Complete,t,n):e.loadingState===at.FAILED&&yr(ge.Error,t,n)})}var jT=null;var qc=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function K_(e){return typeof e=="function"&&e[Be]!==void 0}function Sh(e){return K_(e)&&typeof e.set=="function"}var Th=new w("");function Un(e){return!!e&&typeof e.then=="function"}function Mh(e){return!!e&&typeof e.subscribe=="function"}var Ah=new w("");function Wc(e){return pt([{provide:Ah,multi:!0,useValue:e}])}var Rh=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=m(Ah,{optional:!0})??[];injector=m(Re);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Ne(this.injector,o);if(Un(i))n.push(i);else if(Mh(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),En=new w("");function Y_(){Hl(()=>{let e="";throw new E(600,e)})}function J_(e){return e.isBoundToModule}var VT=10;var Qe=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(Et);afterRenderManager=m(ah);zonelessEnabled=m(ki);rootEffectScheduler=m(Qa);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new we;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=m(Yt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ee(n=>!n))}constructor(){m(Vn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=m(de);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Re.NULL){return this._injector.get(Pe).run(()=>{z(B.BootstrapComponentStart);let s=n instanceof zc;if(!this._injector.get(Rh).done){let p="";throw new E(405,p)}let c;s?c=n:c=this._injector.get(qi).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=J_(c)?void 0:this._injector.get(br),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(Th,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Fi(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),z(B.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){z(B.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Pc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw z(B.ChangeDetectionEnd),new E(101,!1);let n=O(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,O(n),this.afterTick.next(),z(B.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<VT;){z(B.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{z(B.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Ni(o))continue;let i=r&&!this.zonelessEnabled?0:1;g_(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ni(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Fi(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(En,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Fi(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Fi(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function UT(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function Z_(e,t,n){let r=t[yt],o=t[S];if(e.loadingState!==at.NOT_STARTED)return e.loadingPromise??Promise.resolve();let i=Ro(t,n),s=OT(o,e);e.loadingState=at.IN_PROGRESS,sc(1,i);let a=e.dependencyResolverFn,c=r.get(Za).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(u=>{let l=!1,d=[],h=[];for(let f of u)if(f.status==="fulfilled"){let p=f.value,g=Gt(p)||Pa(p);if(g)d.push(g);else{let v=Rd(p);v&&h.push(v)}}else{l=!0;break}if(l){if(e.loadingState=at.FAILED,e.errorTmplIndex===null){let p=new E(-750,!1);gh(t,p)}}else{e.loadingState=at.COMPLETE;let f=s.tView;if(d.length>0){f.directiveRegistry=Oy(f.directiveRegistry,d);let p=d.map(v=>v.type),g=Ba(!1,...p);e.providers=g}h.length>0&&(f.pipeRegistry=Oy(f.pipeRegistry,h))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=at.COMPLETE,c()}),e.loadingPromise)}function BT(e,t){return t[yt].get(W_,null,{optional:!0})?.behavior!==Ih.Manual}function $T(e,t,n){let r=t[S],o=t[n.index];if(!BT(e,t))return;let i=Ro(t,n),s=Yi(r,n);switch(AT(i),s.loadingState){case at.NOT_STARTED:yr(ge.Loading,n,o),Z_(s,t,n),s.loadingState===at.IN_PROGRESS&&Py(s,n,o);break;case at.IN_PROGRESS:yr(ge.Loading,n,o),Py(s,n,o);break;case at.COMPLETE:yr(ge.Complete,n,o);break;case at.FAILED:yr(ge.Error,n,o);break;default:}}async function Q_(e,t,n){let r=e.get(Ac);if(r.hydrating.has(t))return;let{parentBlockPromise:i,hydrationQueue:s}=XI(t,e);if(s.length===0)return;i!==null&&s.shift(),GT(r,s),i!==null&&await i;let a=s[0];r.has(a)?await Fy(e,s,n):r.awaitParentBlock(a,async()=>await Fy(e,s,n))}async function Fy(e,t,n){let r=e.get(Ac),o=r.hydrating,i=e.get(Yt),s=i.add();for(let c=0;c<t.length;c++){let u=t[c],l=r.get(u);if(l!=null){if(await WT(l),await qT(e),HT(l)){MS(l),Ly(t.slice(c),r);break}o.get(u).resolve()}else{zT(c,t,r),Ly(t.slice(c),r);break}}let a=t[t.length-1];await o.get(a)?.promise,i.remove(s),n&&n(t),AS(r.get(a),t,r,e.get(Qe))}function HT(e){return Ro(e.lView,e.tNode)[Ki]===ge.Error}function zT(e,t,n){let r=e-1,o=r>-1?n.get(t[r]):null;o&&Hc(o.lContainer)}function Ly(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function GT(e,t){for(let n of t)e.hydrating.set(n,UT())}function qT(e){return new Promise(t=>zi(t,{injector:e}))}async function WT(e){let{tNode:t,lView:n}=e,r=Ro(n,t);return new Promise(o=>{KT(r,o),$T(2,n,t)})}function KT(e,t){Array.isArray(e[Co])||(e[Co]=[]),e[Co].push(t)}function Ji(e,t,n,r){let o=Q(),i=xi();if(Wi(o,i,t)){let s=Ge(),a=Ya();Y0(a,o,e,t,n,r)}return Ji}var HU=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Xe(e,t,n){let r=Q(),o=xi();if(Wi(r,o,t)){let i=Ge(),s=Ya();c_(s,r,e,t,r[Y],n)}return Xe}function jy(e,t,n,r,o){mh(t,e,n,o?"class":"style",r)}function J(e,t,n,r){let o=Q(),i=o[S],s=e+te,a=i.firstCreatePass?Eh(s,o,2,t,fh,Ga(),n,r):i.data[s];if(hh(a,o,e,t,Nh),vo(a)){let c=o[S];Lc(c,o,a),Xf(c,a,o)}return r!=null&&jc(o,a),J}function Z(){let e=Ge(),t=xe(),n=ph(t);return e.firstCreatePass&&bh(e,n),Wd(n)&&Kd(),Gd(),n.classesWithoutHost!=null&&bI(n)&&jy(e,n,Q(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&DI(n)&&jy(e,n,Q(),n.stylesWithoutHost,!1),Z}function nn(e,t,n,r){return J(e,t,n,r),Z(),nn}function me(e,t,n,r){let o=Q(),i=o[S],s=e+te,a=i.firstCreatePass?GS(s,i,2,t,n,r):i.data[s];return hh(a,o,e,t,Nh),r!=null&&jc(o,a),me}function Ve(){let e=xe(),t=ph(e);return Wd(t)&&Kd(),Gd(),Ve}function Kc(e,t,n,r){return me(e,t,n,r),Ve(),Kc}var Nh=(e,t,n,r,o)=>(_n(!0),eh(t[Y],r,tf()));function YT(e,t,n,r,o){let i=!xc(t,n);if(_n(i),i)return eh(t[Y],r,tf());let s=t[nt],a=Bc(s,e,t,n);return Vv(s,o)&&Nc(s,o,a.nextSibling),s&&(iv(n)||sv(a))&&vn(n)&&(Um(n),qv(a)),a}function X_(){Nh=YT}function Yc(e,t,n){let r=Q(),o=r[S],i=e+te,s=o.firstCreatePass?Eh(i,r,8,"ng-container",fh,Ga(),t,n):o.data[i];if(hh(s,r,e,"ng-container",ew),vo(s)){let a=r[S];Lc(a,r,s),Xf(a,s,r)}return n!=null&&jc(r,s),Yc}function Jc(){let e=Ge(),t=xe(),n=ph(t);return e.firstCreatePass&&bh(e,n),Jc}var ew=(e,t,n,r,o)=>(_n(!0),zv(t[Y],""));function JT(e,t,n,r,o){let i,s=!xc(t,n);if(_n(s),s)return zv(t[Y],"");let a=t[nt],c=Bc(a,e,t,n),u=ZI(a,o);return Nc(a,o,c),i=$c(u,c),i}function tw(){ew=JT}function rn(){return Q()}var Zi="en-US";var ZT=Zi;function nw(e){typeof e=="string"&&(ZT=e.toLowerCase().replace(/_/g,"-"))}function De(e,t,n){let r=Q(),o=Ge(),i=xe();return rw(o,r,r[Y],i,e,t,n),De}function No(e,t,n){let r=Q(),o=Ge(),i=xe();return(i.type&3||n)&&k_(i,o,r,n,r[Y],e,t,ic(i,r,t)),No}function rw(e,t,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=ic(r,t,i),k_(r,e,t,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=ic(r,t,i),Ty(r,t,h,f,o,c)}if(u&&u.length)for(let d of u)c??=ic(r,t,i),Ty(r,t,d,o,o,c)}}function We(e=1){return Xm(e)}function xh(e){let t=Hm();return xm(t,te+e)}function ec(e,t){return e<<17|t<<2}function Dr(e){return e>>17&32767}function QT(e){return(e&2)==2}function XT(e,t){return e&131071|t<<17}function jf(e){return e|2}function Mo(e){return(e&131068)>>2}function vf(e,t){return e&-131069|t<<2}function eM(e){return(e&1)===1}function Vf(e){return e|1}function tM(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=Dr(s),c=Mo(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||go(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=Dr(e[a+1]);e[r+1]=ec(h,a),h!==0&&(e[h+1]=vf(e[h+1],r)),e[a+1]=XT(e[a+1],r)}else e[r+1]=ec(a,0),a!==0&&(e[a+1]=vf(e[a+1],r)),a=r;else e[r+1]=ec(c,0),a===0?a=r:e[c+1]=vf(e[c+1],r),c=r;u&&(e[r+1]=jf(e[r+1])),Vy(e,l,r,!0),Vy(e,l,r,!1),nM(t,l,e,r,i),s=ec(a,c),i?t.classBindings=s:t.styleBindings=s}function nM(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&go(i,t)>=0&&(n[r+1]=Vf(n[r+1]))}function Vy(e,t,n,r){let o=e[n+1],i=t===null,s=r?Dr(o):Mo(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];rM(c,t)&&(a=!0,e[s+1]=r?Vf(u):jf(u)),s=r?Dr(u):Mo(u)}a&&(e[n+1]=r?jf(o):Vf(o))}function rM(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?go(e,t)>=0:!1}function Mr(e,t){return oM(e,t,null,!0),Mr}function oM(e,t,n,r){let o=Q(),i=Ge(),s=Gm(2);if(i.firstUpdatePass&&sM(i,e,s,r),t!==jn&&Wi(o,s,t)){let a=i.data[mr()];dM(i,a,o,o[Y],e,o[s+1]=fM(t,n),r,s)}}function iM(e,t){return t>=e.expandoStartIndex}function sM(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[mr()],s=iM(e,n);hM(i,r)&&t===null&&!s&&(t=!1),t=aM(o,i,t,r),tM(o,i,t,n,s,r)}}function aM(e,t,n,r){let o=Ym(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=_f(null,e,t,n,r),n=Ui(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=_f(o,e,t,n,r),i===null){let c=cM(e,t,r);c!==void 0&&Array.isArray(c)&&(c=_f(null,e,t,c[1],r),c=Ui(c,t.attrs,r),uM(e,t,r,c))}else i=lM(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function cM(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Mo(r)!==0)return e[Dr(r)]}function uM(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[Dr(o)]=r}function lM(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Ui(r,s,n)}return Ui(r,t.attrs,n)}function _f(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Ui(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Ui(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),bm(e,s,n?!0:t[++i]))}return e===void 0?null:e}function dM(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=eM(u)?Uy(c,t,n,o,Mo(u),s):void 0;if(!bc(l)){bc(i)||QT(u)&&(i=Uy(c,null,n,o,a,s));let d=Bd(mr(),n);V0(r,s,d,o,i)}}function Uy(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===jn&&(h=d?tt:void 0);let f=d?Ua(h,r):l===r?h:void 0;if(u&&!bc(f)&&(f=Ua(c,r)),bc(f)&&(a=f,s))return a;let p=e[o+1];o=s?Dr(p):Mo(p)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Ua(c,r))}return a}function bc(e){return e!==void 0}function fM(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=pn(Oc(e)))),e}function hM(e,t){return(e.flags&(t?8:16))!==0}function L(e,t=""){let n=Q(),r=Ge(),o=e+te,i=r.firstCreatePass?Uc(r,o,1,t,null):r.data[o],s=ow(r,n,i,t,e);n[o]=s,Ja()&&lh(r,n,s,i),wo(i,!1)}var ow=(e,t,n,r,o)=>(_n(!0),Hv(t[Y],r));function pM(e,t,n,r,o){let i=!xc(t,n);if(_n(i),i)return Hv(t[Y],r);let s=t[nt];return Bc(s,e,t,n)}function iw(){ow=pM}function gM(e,t,n,r=""){return Wi(e,xi(),n)?t+La(n)+r:jn}function Zc(e){return ct("",e),Zc}function ct(e,t,n){let r=Q(),o=gM(r,e,t,n);return o!==jn&&mM(r,mr(),o),ct}function mM(e,t,n){let r=Bd(t,e);o0(e[Y],r,n)}function xo(e,t,n){Sh(t)&&(t=t());let r=Q(),o=xi();if(Wi(r,o,t)){let i=Ge(),s=Ya();c_(s,r,e,t,r[Y],n)}return xo}function Qi(e,t){let n=Sh(e);return n&&e.set(t),n}function Oo(e,t){let n=Q(),r=Ge(),o=xe();return rw(r,n,n[Y],o,e,t),Oo}function By(e,t,n){let r=Ge();r.firstCreatePass&&sw(t,r.data,r.blueprint,Kt(e),n)}function sw(e,t,n,r,o){if(e=Ae(e),Array.isArray(e))for(let i=0;i<e.length;i++)sw(e[i],t,n,r,o);else{let i=Ge(),s=Q(),a=xe(),c=ir(e)?e:Ae(e.provide),u=Ld(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ir(e)||!e.multi){let f=new _r(u,o,P,null),p=Ef(c,t,o?l:l+h,d);p===-1?(Df(lc(a,s),i,c),wf(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Ef(c,t,l+h,d),p=Ef(c,t,l,l+h),g=f>=0&&n[f],v=p>=0&&n[p];if(o&&!v||!o&&!g){Df(lc(a,s),i,c);let y=_M(o?vM:yM,n.length,o,r,u,e);!o&&v&&(n[p].providerFactory=y),wf(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=aw(n[o?p:f],u,!o&&r);wf(i,e,f>-1?f:p,y)}!o&&r&&v&&n[p].componentProviders++}}}function wf(e,t,n,r){let o=ir(t),i=Tm(t);if(o||i){let c=(i?Ae(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function aw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ef(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function yM(e,t,n,r,o){return Uf(this.multi,[])}function vM(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=dc(r,r[S],this.providerFactory.index,o);s=c.slice(0,a),Uf(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Uf(i,s);return s}function Uf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function _M(e,t,n,r,o,i){let s=new _r(e,n,P,null);return s.multi=[],s.index=t,s.componentProviders=0,aw(s,o,r&&!n),s}function ko(e,t){return n=>{n.providersResolver=(r,o)=>By(r,o?o(e):e,!1),t&&(n.viewProvidersResolver=(r,o)=>By(r,o?o(t):t,!0))}}function Oh(e,t){return b_(e,t)}var Dc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},kh=(()=>{class e{compileModuleSync(n){return new Ec(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Ad(n),i=Yv(o.declarations).reduce((s,a)=>{let c=Gt(a);return c&&s.push(new Er(c)),s},[]);return new Dc(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cw=(()=>{class e{applicationErrorHandler=m(Et);appRef=m(Qe);taskService=m(Yt);ngZone=m(Pe);zonelessEnabled=m(ki);tracing=m(Vn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Se;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ei):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(uf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?of:rf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ei+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,of(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uw(){return[{provide:gn,useExisting:cw},{provide:Pe,useClass:bi},{provide:ki,useValue:!0}]}function wM(){return typeof $localize<"u"&&$localize.locale||Zi}var Qc=new w("",{factory:()=>m(Qc,{optional:!0,skipSelf:!0})||wM()});function Ar(e,t){return ea(e,t?.equal)}var Vh={JSACTION:"__jsaction",OWNER:"__owner"},hw={};function EM(e){return e[Vh.JSACTION]}function lw(e,t){e[Vh.JSACTION]=t}function bM(e){return hw[e]}function DM(e,t){hw[e]=t}var T={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},CM=[T.MOUSEENTER,T.MOUSELEAVE,"pointerenter","pointerleave"],YU=[T.CLICK,T.DBLCLICK,T.FOCUSIN,T.FOCUSOUT,T.KEYDOWN,T.KEYUP,T.KEYPRESS,T.MOUSEOVER,T.MOUSEOUT,T.SUBMIT,T.TOUCHSTART,T.TOUCHEND,T.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],IM=[T.FOCUS,T.BLUR,T.ERROR,T.LOAD,T.TOGGLE],Uh=e=>IM.indexOf(e)>=0;function SM(e){return e===T.MOUSEENTER?T.MOUSEOVER:e===T.MOUSELEAVE?T.MOUSEOUT:e===T.POINTERENTER?T.POINTEROVER:e===T.POINTERLEAVE?T.POINTEROUT:e}function TM(e,t,n,r){let o=!1;Uh(t)&&(o=!0);let i=typeof r=="boolean"?{capture:o,passive:r}:o;return e.addEventListener(t,n,i),{eventType:t,handler:n,capture:o,passive:r}}function MM(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function AM(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var dw=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function RM(e){return e.which===2||e.which==null&&e.button===4}function NM(e){return dw&&e.metaKey||!dw&&e.ctrlKey||RM(e)||e.shiftKey}function xM(e,t,n){let r=e.relatedTarget;return(e.type===T.MOUSEOVER&&t===T.MOUSEENTER||e.type===T.MOUSEOUT&&t===T.MOUSELEAVE||e.type===T.POINTEROVER&&t===T.POINTERENTER||e.type===T.POINTEROUT&&t===T.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function OM(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let o=r,i=e[o];typeof i!="function"&&(n[o]=i)}return e.type===T.MOUSEOVER?n.type=T.MOUSEENTER:e.type===T.MOUSEOUT?n.type=T.MOUSELEAVE:e.type===T.POINTEROVER?n.type=T.POINTERENTER:n.type=T.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var kM=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),nu=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){kM&&(this.element.style.cursor="pointer"),this.handlerInfos.push(TM(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)MM(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},PM={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Bn(e){return e.eventType}function Bh(e,t){e.eventType=t}function eu(e){return e.event}function pw(e,t){e.event=t}function gw(e){return e.targetElement}function mw(e,t){e.targetElement=t}function yw(e){return e.eic}function FM(e,t){e.eic=t}function LM(e){return e.timeStamp}function jM(e,t){e.timeStamp=t}function tu(e){return e.eia}function vw(e,t,n){e.eia=[t,n]}function Ph(e){e.eia=void 0}function Xc(e){return e[1]}function VM(e){return e.eirp}function _w(e,t){e.eirp=t}function ww(e){return e.eir}function Ew(e,t){e.eir=t}function bw(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function UM(e,t,n,r,o,i,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:o,eia:i,eirp:s,eiack:a}}var Fh=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return Bn(this.eventInfo)}setEventType(t){Bh(this.eventInfo,t)}getEvent(){return eu(this.eventInfo)}setEvent(t){pw(this.eventInfo,t)}getTargetElement(){return gw(this.eventInfo)}setTargetElement(t){mw(this.eventInfo,t)}getContainer(){return yw(this.eventInfo)}setContainer(t){FM(this.eventInfo,t)}getTimestamp(){return LM(this.eventInfo)}setTimestamp(t){jM(this.eventInfo,t)}getAction(){let t=tu(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){Ph(this.eventInfo);return}vw(this.eventInfo,t.name,t.element)}getIsReplay(){return VM(this.eventInfo)}setIsReplay(t){_w(this.eventInfo,t)}getResolved(){return ww(this.eventInfo)}setResolved(t){Ew(this.eventInfo,t)}clone(){return new e(bw(this.eventInfo))}},BM={},$M=/\s*;\s*/,HM=T.CLICK,Lh=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&Bn(t)===T.CLICK&&NM(eu(t))?Bh(t,T.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){ww(t)||(this.populateAction(t,gw(t)),Ew(t,!0))}resolveParentAction(t){let n=tu(t),r=n&&Xc(n);Ph(t);let o=r&&this.getParentNode(r);o&&this.populateAction(t,o)}populateAction(t,n){let r=n;for(;r&&r!==yw(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!tu(t));)r=this.getParentNode(r);let o=tu(t);if(o&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(Bn(t)===T.MOUSEENTER||Bn(t)===T.MOUSELEAVE||Bn(t)===T.POINTERENTER||Bn(t)===T.POINTERLEAVE)))if(xM(eu(t),Bn(t),Xc(o))){let i=OM(eu(t),Xc(o));pw(t,i),mw(t,Xc(o))}else Ph(t)}getParentNode(t){let n=t[Vh.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),o=r[Bn(n)];o!==void 0&&vw(n,o,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=EM(t);if(!n){let r=t.getAttribute(Xa.JSACTION);if(!r)n=BM,lw(t,n);else{if(n=bM(r),!n){n={};let o=r.split($M);for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let a=s.indexOf(PM.EVENT_ACTION_SEPARATOR),c=a!==-1,u=c?s.substr(0,a).trim():HM,l=c?s.substr(a+1).trim():s;n[u]=l}DM(r,n)}lw(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Dw=(function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e})(Dw||{}),jh=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new Fh(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&zM(r.element,n)&&AM(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function zM(e,t){return e.tagName==="A"&&(t.getEventType()===T.CLICK||t.getEventType()===T.CLICKMOD)}var Cw=Symbol.for("propagationStopped"),$h={REPLAY:101};var GM="`preventDefault` called during event replay.";var qM="`composedPath` called during event replay.",ru=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new Lh({clickModSupport:n}),this.dispatcher=new jh(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&YM(t),WM(t);t.getAction();){if(JM(t),Uh(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),KM(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function WM(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[Cw]=!0,n()};Rr(t,"stopPropagation",r),Rr(t,"stopImmediatePropagation",r)}function KM(e){return!!e.getEvent()[Cw]}function YM(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);Rr(t,"target",n),Rr(t,"eventPhase",$h.REPLAY),Rr(t,"preventDefault",()=>{throw r(),new Error(GM+"")}),Rr(t,"composedPath",()=>{throw new Error(qM+"")})}function JM(e){let t=e.getEvent(),n=e.getAction()?.element;n&&Rr(t,"currentTarget",n,{configurable:!0})}function Rr(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function Iw(e,t){e.ecrd(n=>{t.dispatch(n)},Dw.I_AM_THE_JSACTION_FRAMEWORK)}function ZM(e){return e?.q??[]}function QM(e){e&&(fw(e.c,e.et,e.h),fw(e.c,e.etc,e.h,!0))}function fw(e,t,n,r){for(let o=0;o<t.length;o++)e.removeEventListener(t[o],n,r)}var XM=!1,Sw=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=XM;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,o){let i=UM(n,r,r.target,o,Date.now());this.handleEventInfo(i)}handleEventInfo(n){if(!this.dispatcher){_w(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,o){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&CM.indexOf(n)>=0)return;let i=(a,c,u)=>{this.handleEvent(a,c,u)};this.eventHandlers[n]=i;let s=SM(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{i(n,c,a)},o)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),QM(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let o=n[r],i=this.getEventTypesForBrowserEventType(o.eventType);for(let s=0;s<i.length;s++){let a=bw(o);Bh(a,i[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let o=0;o<this.queuedEventInfos.length;o++)this.handleEventInfo(this.queuedEventInfos[o]);this.queuedEventInfos=null}}}return e})();function Tw(e,t=window){return ZM(t._ejsas?.[e])}function Hh(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var Fw=Symbol("InputSignalNode#UNSET"),xA=j(_({},ta),{transformFn:void 0,applyValueToInputSignal(e,t){fi(e,t)}});function Lw(e,t){let n=Object.create(xA);n.value=e,n.transformFn=t?.transform;function r(){if(ui(n),n.value===Fw){let o=null;throw new E(-950,o)}return n.value}return r[Be]=n,r}function Mw(e,t){return Lw(e,t)}function OA(e){return Lw(Fw,e)}var jw=(Mw.required=OA,Mw);var zh=new w(""),kA=new w("");function Xi(e){return!e.moduleRef}function PA(e){let t=Xi(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Pe);return n.run(()=>{Xi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Et),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Xi(e)){let i=()=>t.destroy(),s=e.platformInjector.get(zh);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(zh);s.add(i),e.moduleRef.onDestroy(()=>{Fi(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return LA(r,n,()=>{let i=t.get(Yt),s=i.add(),a=t.get(Rh);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Qc,Zi);if(nw(c||Zi),!t.get(kA,!0))return Xi(e)?t.get(Qe):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Xi(e)){let l=t.get(Qe);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return FA?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var FA;function LA(e,t,n){try{let r=n();return Un(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var iu=null;function jA(e=[],t){return Re.create({name:t,providers:[{provide:Ii,useValue:"platform"},{provide:zh,useValue:new Set([()=>iu=null])},...e]})}function VA(e=[]){if(iu)return iu;let t=jA(e);return iu=t,Y_(),UA(t),t}function UA(e){let t=e.get(Ic,null);Ne(e,()=>{t?.forEach(n=>n())})}var Nr=(()=>{class e{static __NG_ELEMENT_ID__=BA}return e})();function BA(e){return $A(xe(),Q(),(e&16)===16)}function $A(e,t,n){if(vn(e)&&!n){let r=_t(e.index,t);return new kn(r,r)}else if(e.type&175){let r=t[Ze];return new kn(r,t)}return null}var Gh=class{constructor(){}supports(t){return Dh(t)}create(t){return new qh(t)}},HA=(e,t)=>t,qh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||HA}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Aw(r,o,i)?n:r,a=Aw(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Dh(t))throw new E(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,x_(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new Wh(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new au),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new au),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Wh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Kh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},au=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Kh,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Aw(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function Rw(){return new Jh([new Gh])}var Jh=(()=>{class e{factories;static \u0275prov=D({token:e,providedIn:"root",factory:Rw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{let r=m(e,{optional:!0,skipSelf:!0});return e.create(n,r||Rw())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new E(901,!1)}}return e})();function Vw(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;z(B.BootstrapApplicationStart);try{let i=o?.injector??VA(r),s=[uw(),ry,...n||[]],a=new Vi({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return PA({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{z(B.BootstrapApplicationEnd)}}var ou=new WeakSet,Nw="",su=[];function xw(e){return e.get(Kf,Dv)}function Uw(){let e=[{provide:Kf,useFactory:()=>{let t=!0;{let n=m(Qt);t=!!window._ejsas?.[n]}return t&&Xt("NgEventReplay"),t}}];return e.push({provide:qt,useValue:()=>{let t=m(Qe),{injector:n}=t;if(!ou.has(t)){let r=m(Yf);if(xw(n)){Nv();let o=n.get(Qt),i=Av(o,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(Iv(s,a,c),Sv(s,r))});t.onDestroy(i)}}},multi:!0},{provide:En,useFactory:()=>{let t=m(Qe),{injector:n}=t;return()=>{if(!xw(n)||ou.has(t))return;ou.add(t);let r=n.get(Qt);t.onDestroy(()=>{ou.delete(t),Hh(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let o=n.get(Mv);zA(o,n);let i=n.get(Yf);i.get(Nw)?.forEach(Tv),i.delete(Nw);let s=o.instance;jv(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var zA=(e,t)=>{let n=t.get(Qt),r=window._ejsas[n],o=e.instance=new Sw(new nu(r.c));for(let a of r.et)o.addEvent(a);for(let a of r.etc)o.addEvent(a);let i=Tw(n);o.replayEarlyEventInfos(i),Hh(n);let s=new ru(a=>{GA(t,a,a.currentTarget)});Iw(o,s)};function GA(e,t,n){let r=(n&&n.getAttribute(Hi))??"";/d\d+/.test(r)?qA(r,e,t,n):t.eventPhase===$h.REPLAY&&Jf(t,n)}function qA(e,t,n,r){su.push({event:n,currentTarget:r}),Q_(t,e,WA)}function WA(e){let t=[...su],n=new Set(e);su=[];for(let{event:r,currentTarget:o}of t){let i=o.getAttribute(Hi);n.has(i)?Jf(r,o):su.push({event:r,currentTarget:o})}}var Ow=!1;function KA(){Ow||(Ow=!0,Pv(),X_(),iw(),tw(),G_(),U_(),S_(),a_())}function YA(e){return e.whenStable()}function Bw(){let e=[{provide:$i,useFactory:()=>{let t=!0;return t=!!m(Ao,{optional:!0})?.get(Zf,null),t&&Xt("NgHydration"),t}},{provide:qt,useValue:()=>{D_(!1);let t=m(ne);m($i)&&(Bv(t),KA())},multi:!0}];return e.push({provide:Wf,useFactory:()=>m($i)},{provide:En,useFactory:()=>{if(m($i)){let t=m(Qe);return()=>{YA(t).then(()=>{t.destroyed||_h(t)})}}return()=>{}},multi:!0}),pt(e)}function es(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function $w(e){let t=Gt(e);if(!t)return null;let n=new Er(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Hw=null;function Dt(){return Hw}function Zh(e){Hw??=e}var ts=class{},Fo=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(zw),providedIn:"platform"})}return e})(),Qh=new w(""),zw=(()=>{class e extends Fo{_location;_history;_doc=m(ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dt().getBaseHref(this._doc)}onPopState(n){let r=Dt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Dt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function cu(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Gw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Ft(e){return e&&e[0]!=="?"?`?${e}`:e}var bn=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(lu),providedIn:"root"})}return e})(),uu=new w(""),lu=(()=>{class e extends bn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return cu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ft(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Ft(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Ft(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(R(Fo),R(uu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$n=(()=>{class e{_subject=new we;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=QA(Gw(qw(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ft(r))}normalize(n){return e.stripTrailingSlash(ZA(this._basePath,qw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ft(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ft(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Ft;static joinWithSlash=cu;static stripTrailingSlash=Gw;static \u0275fac=function(r){return new(r||e)(R(bn))};static \u0275prov=D({token:e,factory:()=>JA(),providedIn:"root"})}return e})();function JA(){return new $n(R(bn))}function ZA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function qw(e){return e.replace(/\/index.html$/,"")}function QA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Xh=(()=>{class e extends bn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=cu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Ft(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Ft(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(R(Fo),R(uu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var du=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hu=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new du(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),Ww(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Ww(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(P(Sr),P(Gi),P(Jh))};static \u0275dir=be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Ww(e,t){e.context.$implicit=t.item}var xr=(()=>{class e{_viewContainer;_context=new fu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Kw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Kw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(P(Sr),P(Gi))};static \u0275dir=be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),fu=class{$implicit=null;ngIf=null};function Kw(e,t){if(e&&!e.createEmbeddedView)throw new E(2020,!1)}var on=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=xt({})}return e})();function ep(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var ns=class{};var np="browser";function Yw(e){return e===np}var Jw=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new tp(m(ne),window)})}return e})(),tp=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(j(_({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=XA(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Nt(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(j(_({},n),{left:o-s[0],top:i-s[1]}))}};function XA(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var rs=class{_doc;constructor(t){this._doc=t}manager},pu=(()=>{class e extends rs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(R(ne))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),yu=new w(""),ap=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof pu));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof pu);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(R(yu),R(Pe))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),op="ng-app-id";function Zw(e){for(let t of e)t.remove()}function Qw(e,t){let n=t.createElement("style");return n.textContent=e,n}function eR(e,t,n,r){let o=e.head?.querySelectorAll(`style[${op}="${t}"],link[${op}="${t}"]`);if(o)for(let i of o)i.removeAttribute(op),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function sp(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var cp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,eR(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Qw);r?.forEach(o=>this.addUsage(o,this.external,sp))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Zw(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Zw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Qw(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,sp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(R(ne),R(Qt),R(Sc,8),R(Cr))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ip={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},up=/%COMP%/g;var eE="%COMP%",tR=`_nghost-${eE}`,nR=`_ngcontent-${eE}`,rR=!0,oR=new w("",{factory:()=>rR});function iR(e){return nR.replace(up,e)}function sR(e){return tR.replace(up,e)}function tE(e,t){return t.map(n=>n.replace(up,e))}var lp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,o,i,s,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.defaultRenderer=new os(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof mu?o.applyToHost(n):o instanceof is&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Pt.Emulated:i=new mu(c,u,r,this.appId,l,s,a,d);break;case Pt.ShadowDom:return new gu(c,n,r,s,a,this.nonce,d,u);case Pt.ExperimentalIsolatedShadowDom:return new gu(c,n,r,s,a,this.nonce,d);default:i=new is(c,u,r,l,s,a,d);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(R(ap),R(cp),R(Qt),R(oR),R(ne),R(Pe),R(Sc),R(Vn,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),os=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(ip[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Xw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Xw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=ip[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=ip[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Zt.DashCase|Zt.Important)?t.style.setProperty(n,r,o&Zt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Zt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Dt().getGlobalEventTarget(this.doc,t),!t))throw new E(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Xw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var gu=class extends os{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,o,i,s,a,c){super(t,o,i,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=tE(r.id,u);for(let d of u){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let l=r.getExternalStyles?.();if(l)for(let d of l){let h=sp(d,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},is=class extends os{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c){super(t,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?tE(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&To.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mu=class extends is{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c){let u=o+"-"+r.id;super(t,n,r,i,s,a,c,u),this.contentAttr=iR(u),this.hostAttr=sR(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var vu=class e extends ts{supportsDOMEvents=!0;static makeCurrent(){Zh(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=aR();return n==null?null:cR(n)}resetBaseElement(){ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ep(document.cookie,t)}},ss=null;function aR(){return ss=ss||document.head.querySelector("base"),ss?ss.getAttribute("href"):null}function cR(e){return new URL(e,document.baseURI).pathname}var uR=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),nE=["alt","control","meta","shift"],lR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},rE=(()=>{class e extends rs{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nE.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=lR[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),nE.forEach(s=>{if(s!==o){let a=dR[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(R(ne))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function dp(e,t,n){let r=_({rootComponent:e,platformRef:n?.platformRef},fR(t));return Vw(r)}function fR(e){return{appProviders:[...yR,...e?.providers??[]],platformProviders:mR}}function hR(){vu.makeCurrent()}function pR(){return new zt}function gR(){return zf(document),document}var mR=[{provide:Cr,useValue:np},{provide:Ic,useValue:hR,multi:!0},{provide:ne,useFactory:gR}];var yR=[{provide:Ii,useValue:"root"},{provide:zt,useFactory:pR},{provide:yu,useClass:pu,multi:!0},{provide:yu,useClass:rE,multi:!0},lp,cp,ap,{provide:wr,useExisting:lp},{provide:ns,useClass:uR},[]];var as=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var vR="text/plain",_R="application/json",mq=`${_R}, ${vR}, */*`;var hp=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(hp||{}),fp=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new as,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}};var _u=class e extends fp{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=hp.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}};var oE=new w("");var wR=new w(""),ER="b",bR="h",DR="s",CR="st",IR="u",SR="rt",pp=new w(""),TR=["GET","HEAD"];function MR(e,t){let f=m(pp),{isCacheActive:n}=f,r=Og(f,["isCacheActive"]),{transferCache:o,method:i}=e;if(!n||o===!1||i==="POST"&&!r.includePostRequests&&!o||i!=="POST"&&!TR.includes(i)||!r.includeRequestsWithAuthHeaders&&AR(e)||r.filter?.(e)===!1)return t(e);let s=m(Ao);if(m(wR,{optional:!0}))throw new E(2803,!1);let c=e.url,u=RR(e,c),l=s.get(u,null),d=r.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(d=o.includeHeaders),l){let{[ER]:p,[SR]:g,[bR]:v,[DR]:y,[CR]:U,[IR]:I}=l,b=p;switch(g){case"arraybuffer":b=new TextEncoder().encode(p).buffer;break;case"blob":b=new Blob([p]);break}let H=new as(v);return F(new _u({body:b,headers:H,status:y,statusText:U,url:I}))}return t(e)}function AR(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function iE(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function RR(e,t){let{params:n,method:r,responseType:o}=e,i=iE(n),s=e.serializeBody();s instanceof URLSearchParams?s=iE(s):typeof s!="string"&&(s="");let a=[r,o,t,s,i].join("|"),c=NR(a);return c}function NR(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function sE(e){return[{provide:pp,useFactory:()=>(Xt("NgHttpTransferCache"),_({isCacheActive:!0},e))},{provide:oE,useValue:MR,multi:!0},{provide:En,multi:!0,useFactory:()=>{let t=m(Qe),n=m(pp);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var aE=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(R(ne))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wu=(function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e})(wu||{});function xR(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function cE(){return xR(wu.EventReplay,Uw())}function uE(...e){let t=[],n=new Set;for(let{\u0275providers:o,\u0275kind:i}of e)n.add(i),o.length&&t.push(o);let r=n.has(wu.HttpTransferCacheOptions);return pt([[],Bw(),n.has(wu.NoHttpTransferCache)||r?[]:sE({}),t])}var x="primary",vs=Symbol("RouteTitle"),_p=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Fr(e){return new _p(e)}function vE(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Su(e){return new Promise((t,n)=>{e.pipe(fn()).subscribe({next:r=>t(r),error:r=>n(r)})})}function kR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!sn(e[n],t[n]))return!1;return!0}function sn(e,t){let n=e?wp(e):void 0,r=t?wp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!_E(e[o],t[o]))return!1;return!0}function wp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function _E(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function wE(e){return e.length>0?e[e.length-1]:null}function Lr(e){return Ea(e)?e:Un(e)?se(Promise.resolve(e)):F(e)}function EE(e){return Ea(e)?Su(e):Promise.resolve(e)}var PR={exact:DE,subset:CE},bE={exact:FR,subset:LR,ignored:()=>!0};function lE(e,t,n){return PR[n.paths](e.root,t.root,n.matrixParams)&&bE[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function FR(e,t){return sn(e,t)}function DE(e,t,n){if(!kr(e.segments,t.segments)||!Du(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!DE(e.children[r],t.children[r],n))return!1;return!0}function LR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_E(e[n],t[n]))}function CE(e,t,n){return IE(e,t,t.segments,n)}function IE(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!kr(o,n)||t.hasChildren()||!Du(o,n,r))}else if(e.segments.length===n.length){if(!kr(e.segments,n)||!Du(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!CE(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!kr(e.segments,o)||!Du(e.segments,o,r)||!e.children[x]?!1:IE(e.children[x],t,i,r)}}function Du(e,t,n){return t.every((r,o)=>bE[n](e[o].parameters,r.parameters))}var jt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new G([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fr(this.queryParams),this._queryParamMap}toString(){return UR.serialize(this)}},G=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cu(this)}},Hn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Fr(this.parameters),this._parameterMap}toString(){return TE(this)}};function jR(e,t){return kr(e,t)&&e.every((n,r)=>sn(n.parameters,t[r].parameters))}function kr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function VR(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===x&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==x&&(n=n.concat(t(o,r)))}),n}var jr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new Dn,providedIn:"root"})}return e})(),Dn=class{parse(t){let n=new bp(t);return new jt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${cs(t.root,!0)}`,r=HR(t.queryParams),o=typeof t.fragment=="string"?`#${BR(t.fragment)}`:"";return`${n}${r}${o}`}},UR=new Dn;function Cu(e){return e.segments.map(t=>TE(t)).join("/")}function cs(e,t){if(!e.hasChildren())return Cu(e);if(t){let n=e.children[x]?cs(e.children[x],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==x&&r.push(`${o}:${cs(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=VR(e,(r,o)=>o===x?[cs(e.children[x],!1)]:[`${o}:${cs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[x]!=null?`${Cu(e)}/${n[0]}`:`${Cu(e)}/(${n.join("//")})`}}function SE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eu(e){return SE(e).replace(/%3B/gi,";")}function BR(e){return encodeURI(e)}function Ep(e){return SE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iu(e){return decodeURIComponent(e)}function dE(e){return Iu(e.replace(/\+/g,"%20"))}function TE(e){return`${Ep(e.path)}${$R(e.parameters)}`}function $R(e){return Object.entries(e).map(([t,n])=>`;${Ep(t)}=${Ep(n)}`).join("")}function HR(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Eu(n)}=${Eu(o)}`).join("&"):`${Eu(n)}=${Eu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var zR=/^[^\/()?;#]+/;function gp(e){let t=e.match(zR);return t?t[0]:""}var GR=/^[^\/()?;=#]+/;function qR(e){let t=e.match(GR);return t?t[0]:""}var WR=/^[^=?&#]+/;function KR(e){let t=e.match(WR);return t?t[0]:""}var YR=/^[^&#]+/;function JR(e){let t=e.match(YR);return t?t[0]:""}var bp=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new G([],{}):new G([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[x]=new G(t,n)),r}parseSegment(){let t=gp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new Hn(Iu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=qR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=gp(this.remaining);o&&(r=o,this.capture(r))}t[Iu(n)]=Iu(r)}parseQueryParam(t){let n=KR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=JR(this.remaining);s&&(r=s,this.capture(r))}let o=dE(n),i=dE(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gp(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new E(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=x);let s=this.parseChildren();n[i??x]=Object.keys(s).length===1&&s[x]?s[x]:new G([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}};function ME(e){return e.segments.length>0?new G([],{[x]:e}):e}function AE(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=AE(o);if(r===x&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new G(e.segments,t);return ZR(n)}function ZR(e){if(e.numberOfChildren===1&&e.children[x]){let t=e.children[x];return new G(e.segments.concat(t.segments),t.children)}return e}function Bo(e){return e instanceof jt}function RE(e,t,n=null,r=null,o=new Dn){let i=NE(e);return xE(i,t,n,r,o)}function NE(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new G(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=ME(r);return t??o}function xE(e,t,n,r,o){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return mp(i,i,i,n,r,o);let s=QR(t);if(s.toRoot())return mp(i,i,new G([],{}),n,r,o);let a=XR(s,i,e),c=a.processChildren?ls(a.segmentGroup,a.index,s.commands):kE(a.segmentGroup,a.index,s.commands);return mp(i,a.segmentGroup,c,n,r,o)}function Tu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function fs(e){return typeof e=="object"&&e!=null&&e.outlets}function fE(e,t,n){e||="\u0275";let r=new jt;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function mp(e,t,n,r,o,i){let s={};for(let[u,l]of Object.entries(r??{}))s[u]=Array.isArray(l)?l.map(d=>fE(u,d,i)):fE(u,l,i);let a;e===t?a=n:a=OE(e,t,n);let c=ME(AE(a));return new jt(c,s,o)}function OE(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=OE(i,t,n)}),new G(e.segments,r)}var Mu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Tu(r[0]))throw new E(4003,!1);let o=r.find(fs);if(o&&o!==wE(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Mu(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Mu(n,t,r)}var jo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function XR(e,t,n){if(e.isAbsolute)return new jo(t,!0,0);if(!n)return new jo(t,!1,NaN);if(n.parent===null)return new jo(n,!0,0);let r=Tu(e.commands[0])?0:1,o=n.segments.length-1+r;return eN(n,o,e.numberOfDoubleDots)}function eN(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new E(4005,!1);o=r.segments.length}return new jo(r,!1,o-i)}function tN(e){return fs(e[0])?e[0].outlets:{[x]:e}}function kE(e,t,n){if(e??=new G([],{}),e.segments.length===0&&e.hasChildren())return ls(e,t,n);let r=nN(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new G(e.segments.slice(0,r.pathIndex),{});return i.children[x]=new G(e.segments.slice(r.pathIndex),e.children),ls(i,0,o)}else return r.match&&o.length===0?new G(e.segments,{}):r.match&&!e.hasChildren()?Dp(e,t,n):r.match?ls(e,0,o):Dp(e,t,n)}function ls(e,t,n){if(n.length===0)return new G(e.segments,{});{let r=tN(n),o={};if(Object.keys(r).some(i=>i!==x)&&e.children[x]&&e.numberOfChildren===1&&e.children[x].segments.length===0){let i=ls(e.children[x],t,n);return new G(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=kE(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new G(e.segments,o)}}function nN(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(fs(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!pE(c,u,s))return i;r+=2}else{if(!pE(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Dp(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(fs(i)){let c=rN(i.outlets);return new G(r,c)}if(o===0&&Tu(n[0])){let c=e.segments[t];r.push(new Hn(c.path,hE(n[0]))),o++;continue}let s=fs(i)?i.outlets[x]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Tu(a)?(r.push(new Hn(s,hE(a))),o+=2):(r.push(new Hn(s,{})),o++)}return new G(r,{})}function rN(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Dp(new G([],{}),0,r))}),t}function hE(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function pE(e,t,n){return e==n.path&&sn(t,n.parameters)}var Vo="imperative",ye=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(ye||{}),lt=class{id;url;constructor(t,n){this.id=t,this.url=n}},zn=class extends lt{type=ye.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vt=class extends lt{urlAfterRedirects;type=ye.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ke=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Ke||{}),$o=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})($o||{}),an=class extends lt{reason;code;type=ye.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},cn=class extends lt{reason;code;type=ye.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Ho=class extends lt{error;target;type=ye.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hs=class extends lt{urlAfterRedirects;state;type=ye.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Au=class extends lt{urlAfterRedirects;state;type=ye.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ru=class extends lt{urlAfterRedirects;state;shouldActivate;type=ye.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nu=class extends lt{urlAfterRedirects;state;type=ye.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xu=class extends lt{urlAfterRedirects;state;type=ye.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ou=class{route;type=ye.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ku=class{route;type=ye.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pu=class{snapshot;type=ye.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fu=class{snapshot;type=ye.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lu=class{snapshot;type=ye.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ju=class{snapshot;type=ye.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zo=class{routerEvent;position;anchor;type=ye.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ps=class{},Go=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function oN(e){return!(e instanceof ps)&&!(e instanceof Go)}function iN(e,t){return e.providers&&!e._injector&&(e._injector=Tr(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Lt(e){return e.outlet||x}function sN(e,t){let n=e.filter(r=>Lt(r)===t);return n.push(...e.filter(r=>Lt(r)!==t)),n}function Ko(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Vu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ko(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Vr(this.rootInjector)}},Vr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Vu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(R(de))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Cp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Cp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Ip(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Ip(t,this._root).map(n=>n.value)}};function Cp(e,t){if(e===t.value)return t;for(let n of t.children){let r=Cp(e,n);if(r)return r}return null}function Ip(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Ip(e,n);if(r.length)return r.unshift(t),r}return[]}var ut=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var gs=class extends Uu{snapshot;constructor(t,n){super(t),this.snapshot=n,Np(this,t)}toString(){return this.snapshot.toString()}};function PE(e){let t=aN(e),n=new Te([new Hn("",{})]),r=new Te({}),o=new Te({}),i=new Te({}),s=new Te(""),a=new Cn(n,r,i,s,o,x,e,t.root);return a.snapshot=t.root,new gs(new ut(a,[]),t)}function aN(e){let t={},n={},r={},i=new Pr([],t,r,"",n,x,e,null,{});return new ms("",new ut(i,[]))}var Cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(u=>u[vs]))??F(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(t=>Fr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(t=>Fr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bu(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:_(_({},t.params),e.params),data:_(_({},t.data),e.data),resolve:_(_(_(_({},e.data),t.data),o?.data),e._resolvedData)}:r={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},o&&LE(o)&&(r.resolve[vs]=o.title),r}var Pr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[vs]}constructor(t,n,r,o,i,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ms=class extends Uu{url;constructor(t,n){super(n),this.url=t,Np(this,n)}toString(){return FE(this._root)}};function Np(e,t){t.value._routerState=e,t.children.forEach(n=>Np(e,n))}function FE(e){let t=e.children.length>0?` { ${e.children.map(FE).join(", ")} } `:"";return`${e.value}${t}`}function yp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,sn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),sn(t.params,n.params)||e.paramsSubject.next(n.params),kR(t.url,n.url)||e.urlSubject.next(n.url),sn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Sp(e,t){let n=sn(e.params,t.params)&&jR(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Sp(e.parent,t.parent))}function LE(e){return typeof e.title=="string"||e.title===null}var jE=new w(""),_s=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=x;activateEvents=new he;deactivateEvents=new he;attachEvents=new he;detachEvents=new he;routerOutletData=jw();parentContexts=m(Vr);location=m(Sr);changeDetector=m(Nr);inputBinder=m(ws,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Tp(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=be({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pn]})}return e})(),Tp=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===Cn?this.route:t===Vr?this.childContexts:t===jE?this.outletData:this.parent.get(t,n)}},ws=new w(""),xp=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Ia([r.queryParams,r.params,r.data]).pipe(Rt(([i,s,a],c)=>(a=_(_(_({},i),s),a),c===0?F(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=$w(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Op=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=qe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&nn(0,"router-outlet")},dependencies:[_s],encapsulation:2})}return e})();function kp(e){let t=e.children&&e.children.map(kp),n=t?j(_({},e),{children:t}):_({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==x&&(n.component=Op),n}function cN(e,t,n){let r=ys(e,t._root,n?n._root:void 0);return new gs(r,t)}function ys(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=uN(e,t,n);return new ut(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ys(e,a)),s}}let r=lN(t.value),o=t.children.map(i=>ys(e,i));return new ut(r,o)}}function uN(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return ys(e,r,o);return ys(e,r)})}function lN(e){return new Cn(new Te(e.url),new Te(e.params),new Te(e.queryParams),new Te(e.fragment),new Te(e.data),e.outlet,e.component,e)}var qo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},VE="ngNavigationCancelingError";function $u(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Bo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=UE(!1,Ke.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function UE(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[VE]=!0,n.cancellationCode=t,n}function dN(e){return BE(e)&&Bo(e.url)}function BE(e){return!!e&&e[VE]}var fN=(e,t,n,r)=>ee(o=>(new Mp(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Mp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),yp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Lo(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Lo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Lo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Lo(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new ju(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Fu(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(yp(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Hu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Uo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function hN(e,t,n){let r=e._root,o=t?t._root:null;return us(r,o,n,[r.value])}function pN(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Yo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Dd(e)?e:t.get(e):r}function us(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Lo(t);return e.children.forEach(s=>{gN(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ds(a,n.getContext(s),o)),o}function gN(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=mN(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Hu(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?us(e,t,a?a.children:null,r,o):us(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Uo(a.outlet.component,s))}else s&&ds(t,a,o),o.canActivateChecks.push(new Hu(r)),i.component?us(e,null,a?a.children:null,r,o):us(e,null,n,r,o);return o}function mN(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!kr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!kr(e.url,t.url)||!sn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sp(e,t)||!sn(e.queryParams,t.queryParams);case"paramsChange":default:return!Sp(e,t)}}function ds(e,t,n){let r=Lo(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?ds(s,t.children.getContext(i),n):ds(s,null,n):ds(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Uo(t.outlet.component,o)):n.canDeactivateChecks.push(new Uo(null,o)):n.canDeactivateChecks.push(new Uo(null,o))}function Es(e){return typeof e=="function"}function yN(e){return typeof e=="boolean"}function vN(e){return e&&Es(e.canLoad)}function _N(e){return e&&Es(e.canActivate)}function wN(e){return e&&Es(e.canActivateChild)}function EN(e){return e&&Es(e.canDeactivate)}function bN(e){return e&&Es(e.canMatch)}function $E(e){return e instanceof tr||e?.name==="EmptyError"}var bu=Symbol("INITIAL_VALUE");function Wo(){return Rt(e=>Ia(e.map(t=>t.pipe(dn(1),sd(bu)))).pipe(ee(t=>{for(let n of t)if(n!==!0){if(n===bu)return bu;if(n===!1||DN(n))return n}return!0}),ht(t=>t!==bu),dn(1)))}function DN(e){return Bo(e)||e instanceof qo}function HE(e){return e.aborted?F(void 0).pipe(dn(1)):new $(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function zE(e){return mi(HE(e))}function CN(e,t){return Me(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?F(j(_({},n),{guardsResult:!0})):IN(s,r,o,e).pipe(Me(a=>a&&yN(a)?SN(r,i,e,t):F(a)),ee(a=>j(_({},n),{guardsResult:a})))})}function IN(e,t,n,r){return se(e).pipe(Me(o=>NN(o.component,o.route,n,t,r)),fn(o=>o!==!0,!0))}function SN(e,t,n,r){return se(t).pipe(fo(o=>uo(MN(o.route.parent,r),TN(o.route,r),RN(e,o.path,n),AN(e,o.route,n))),fn(o=>o!==!0,!0))}function TN(e,t){return e!==null&&t&&t(new Lu(e)),F(!0)}function MN(e,t){return e!==null&&t&&t(new Pu(e)),F(!0)}function AN(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let o=r.map(i=>gi(()=>{let s=Ko(t)??n,a=Yo(i,s),c=_N(a)?a.canActivate(t,e):Ne(s,()=>a(t,e));return Lr(c).pipe(fn())}));return F(o).pipe(Wo())}function RN(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>pN(s)).filter(s=>s!==null).map(s=>gi(()=>{let a=s.guards.map(c=>{let u=Ko(s.node)??n,l=Yo(c,u),d=wN(l)?l.canActivateChild(r,e):Ne(u,()=>l(r,e));return Lr(d).pipe(fn())});return F(a).pipe(Wo())}));return F(i).pipe(Wo())}function NN(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return F(!0);let s=i.map(a=>{let c=Ko(t)??o,u=Yo(a,c),l=EN(u)?u.canDeactivate(e,t,n,r):Ne(c,()=>u(e,t,n,r));return Lr(l).pipe(fn())});return F(s).pipe(Wo())}function xN(e,t,n,r,o){let i=t.canLoad;if(i===void 0||i.length===0)return F(!0);let s=i.map(a=>{let c=Yo(a,e),u=vN(c)?c.canLoad(t,n):Ne(e,()=>c(t,n)),l=Lr(u);return o?l.pipe(zE(o)):l});return F(s).pipe(Wo(),GE(r))}function GE(e){return Xl($e(t=>{if(typeof t!="boolean")throw $u(e,t)}),ee(t=>t===!0))}function ON(e,t,n,r,o){let i=t.canMatch;if(!i||i.length===0)return F(!0);let s=i.map(a=>{let c=Yo(a,e),u=bN(c)?c.canMatch(t,n):Ne(e,()=>c(t,n)),l=Lr(u);return o?l.pipe(zE(o)):l});return F(s).pipe(Wo(),GE(r))}var Or=class qE extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,qE.prototype)}},Ap=class WE extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,WE.prototype)}};function kN(e){throw new E(4e3,!1)}function PN(e){throw UE(!1,Ke.GuardRejected)}var FN=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}async lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return r;if(o.numberOfChildren>1||!o.children[x])throw kN(`${t.redirectTo}`);o=o.children[x]}}async applyRedirectCommands(t,n,r,o,i){let s=await LN(n,o,i);if(s instanceof jt)throw new Ap(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Ap(a);return a}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new jt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new G(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new E(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function LN(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=t;return Su(Lr(Ne(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d}))))}var Rp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jN(e,t,n,r,o,i){let s=KE(e,t,n);return s.matched?(r=iN(t,r),ON(r,t,n,o,i).pipe(ee(a=>a===!0?s:_({},Rp)))):F(s)}function KE(e,t,n){if(t.path==="**")return VN(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_({},Rp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||vE)(n,e,t);if(!o)return _({},Rp);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?_(_({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function VN(e){return{matched:!0,parameters:e.length>0?wE(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function gE(e,t,n,r){return n.length>0&&$N(e,n,r)?{segmentGroup:new G(t,BN(r,new G(n,e.children))),slicedSegments:[]}:n.length===0&&HN(e,n,r)?{segmentGroup:new G(e.segments,UN(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new G(e.segments,e.children),slicedSegments:n}}function UN(e,t,n,r){let o={};for(let i of n)if(Gu(e,t,i)&&!r[Lt(i)]){let s=new G([],{});o[Lt(i)]=s}return _(_({},r),o)}function BN(e,t){let n={};n[x]=t;for(let r of e)if(r.path===""&&Lt(r)!==x){let o=new G([],{});n[Lt(r)]=o}return n}function $N(e,t,n){return n.some(r=>Gu(e,t,r)&&Lt(r)!==x)}function HN(e,t,n){return n.some(r=>Gu(e,t,r))}function Gu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zN(e,t,n){return t.length===0&&!e.children[n]}var GN=class{};async function qN(e,t,n,r,o,i,s="emptyOnly",a){return new KN(e,t,n,r,o,s,i,a).recognize()}var WN=31,KN=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new FN(this.urlSerializer,this.urlTree)}noMatchError(t){return new E(4002,`'${t.segmentGroup}'`)}async recognize(){let t=gE(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(t),o=new ut(r,n),i=new ms("",o),s=RE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}async match(t){let n=new Pr([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),x,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,t,x,n),rootSnapshot:n}}catch(r){if(r instanceof Ap)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Or?this.noMatchError(r):r}}async processSegmentGroup(t,n,r,o,i){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,i);let s=await this.processSegment(t,n,r,r.segments,o,!0,i);return s instanceof ut?[s]:[]}async processChildren(t,n,r,o){let i=[];for(let c of Object.keys(r.children))c==="primary"?i.unshift(c):i.push(c);let s=[];for(let c of i){let u=r.children[c],l=sN(n,c),d=await this.processSegmentGroup(t,l,u,c,o);s.push(...d)}let a=YE(s);return YN(a),a}async processSegment(t,n,r,o,i,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a)}catch(u){if(u instanceof Or||$E(u))continue;throw u}if(zN(r,o,i))return new GN;throw new Or(r)}async processSegmentAgainstRoute(t,n,r,o,i,s,a,c){if(Lt(r)!==s&&(s===x||!Gu(o,i,r)))throw new Or(o);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,o,r,i,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c);throw new Or(o)}async expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=KE(n,o,i);if(!c)throw new Or(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WN&&(this.allowRedirects=!1));let f=new Pr(i,u,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,mE(o),Lt(o),o.component??o._loadedComponent??null,o,yE(o)),p=Bu(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,t),v=await this.applyRedirects.lineralizeSegments(o,g);return this.processSegment(t,r,n,v.concat(h),s,!1,a)}async matchSegmentAgainstRoute(t,n,r,o,i,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Su(jN(n,r,o,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Or(n);t=r._injector??t;let{routes:c}=await this.getChildConfig(t,r,o),u=r._loadedInjector??t,{parameters:l,consumedSegments:d,remainingSegments:h}=a,f=new Pr(d,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,mE(r),Lt(r),r.component??r._loadedComponent??null,r,yE(r)),p=Bu(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:v}=gE(n,d,h,c);if(v.length===0&&g.hasChildren()){let I=await this.processChildren(u,c,g,f);return new ut(f,I)}if(c.length===0&&v.length===0)return new ut(f,[]);let y=Lt(r)===i,U=await this.processSegment(u,c,g,v,y?x:i,!0,f);return new ut(f,U instanceof ut?[U]:[])}async getChildConfig(t,n,r){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Su(xN(t,n,r,this.urlSerializer,this.abortSignal))){let i=await this.configLoader.loadChildren(t,n);return n._loadedRoutes=i.routes,n._loadedInjector=i.injector,i}throw PN(n)}return{routes:[],injector:t}}};function YN(e){e.sort((t,n)=>t.value.outlet===x?-1:n.value.outlet===x?1:t.value.outlet.localeCompare(n.value.outlet))}function JN(e){let t=e.value.routeConfig;return t&&t.path===""}function YE(e){let t=[],n=new Set;for(let r of e){if(!JN(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=YE(r.children);t.push(new ut(r.value,o))}return t.filter(r=>!n.has(r))}function mE(e){return e.data||{}}function yE(e){return e.resolve||{}}var ZN=new w("",{factory:()=>qN});function QN(e,t,n,r,o,i,s){let a=e.get(ZN);return Me(c=>F(c).pipe(Rt(u=>a(e,t,n,r,u.extractedUrl,o,i,s)),ee(({state:u,tree:l})=>j(_({},c),{targetSnapshot:u,urlAfterRedirects:l}))))}function XN(e,t){return Me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return F(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of JE(c))s.add(u);let a=0;return se(s).pipe(fo(c=>i.has(c)?ex(c,r,e,t):(c.data=Bu(c,c.parent,e).resolve,F(void 0))),$e(()=>a++),Sa(1),Me(c=>a===s.size?F(n):Ye))})}function JE(e){let t=e.children.map(n=>JE(n)).flat();return[e,...t]}function ex(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!LE(o)&&(i[vs]=o.title),gi(()=>(e.data=Bu(e,e.parent,n).resolve,tx(i,e,t,r).pipe(ee(s=>(e._resolvedData=s,e.data=_(_({},e.data),s),null)))))}function tx(e,t,n,r){let o=wp(e);if(o.length===0)return F({});let i={};return se(o).pipe(Me(s=>nx(e[s],t,n,r).pipe(fn(),$e(a=>{if(a instanceof qo)throw $u(new Dn,a);i[s]=a}))),Sa(1),ee(()=>i),lo(s=>$E(s)?Ye:nd(s)))}function nx(e,t,n,r){let o=Ko(t)??r,i=Yo(e,o),s=i.resolve?i.resolve(t,n):Ne(o,()=>i(t,n));return Lr(s)}function vp(e){return Rt(t=>{let n=e(t);return n?se(n).pipe(ee(()=>t)):F(t)})}var Pp=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===x);return r}getResolvedTitleForRoute(n){return n.data[vs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(ZE),providedIn:"root"})}return e})(),ZE=(()=>{class e extends Pp{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(R(aE))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ur=new w("",{factory:()=>({})}),Br=new w(""),qu=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(kh);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await EE(Ne(n,()=>r.loadComponent())),s=await eb(XE(i));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await QE(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=i.routes,r._loadedInjector=i.injector,i}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function QE(e,t,n,r){let o=await EE(Ne(n,()=>e.loadChildren())),i=await eb(XE(o)),s;i instanceof Gc||Array.isArray(i)?s=i:s=await t.compileModuleAsync(i),r&&r(e);let a,c,u=!1;return Array.isArray(s)?(c=s,u=!0):(a=s.create(n).injector,c=a.get(Br,[],{optional:!0,self:!0}).flat()),{routes:c.map(kp),injector:a}}function rx(e){return e&&typeof e=="object"&&"default"in e}function XE(e){return rx(e)?e.default:e}async function eb(e){return e}var Wu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(ox),providedIn:"root"})}return e})(),ox=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fp=new w(""),Lp=new w("");function tb(e,t,n){let r=e.get(Lp),o=e.get(ne);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),ix(e)));a.ready.catch(u=>{}),a.finished.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&Ne(e,()=>c({transition:a,from:t,to:n})),s}function ix(e){return new Promise(t=>{zi({read:()=>setTimeout(t)},{injector:e})})}var sx=()=>{},jp=new w(""),Ku=(()=>{class e{currentNavigation=re(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=re(null);events=new we;transitionAbortWithErrorSubject=new we;configLoader=m(qu);environmentInjector=m(de);destroyRef=m(wt);urlSerializer=m(jr);rootContexts=m(Vr);location=m($n);inputBindingEnabled=m(ws,{optional:!0})!==null;titleStrategy=m(Pp);options=m(Ur,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(Wu);createViewTransition=m(Fp,{optional:!0});navigationErrorHandler=m(jp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>F(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Ou(o)),r=o=>this.events.next(new ku(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Ee(()=>{this.transitions?.next(j(_({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Te(null),this.transitions.pipe(ht(r=>r!==null),Rt(r=>{let o=!1,i=new AbortController;return F(r).pipe(Rt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ke.SupersededByNewNavigation),Ye;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?j(_({},a),{previousNavigation:null}):null,abort:()=>i.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new cn(s.id,this.urlSerializer.serialize(s.rawUrl),"",$o.IgnoredSameUrlNavigation)),s.resolve(!1),Ye;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return F(s).pipe(Rt(l=>(this.events.next(new zn(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ye:Promise.resolve(l))),QN(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),$e(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let d=new hs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new zn(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);let v=PE(this.rootComponentType).snapshot;return this.currentTransition=r=j(_({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:j(_({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=d,y)),F(r)}else return this.events.next(new cn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",$o.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ye}),$e(s=>{let a=new Au(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ee(s=>(this.currentTransition=r=j(_({},s),{guards:hN(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),CN(this.environmentInjector,s=>this.events.next(s)),$e(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw $u(this.urlSerializer,s.guardsResult);let a=new Ru(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ht(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ke.GuardRejected),!1)),vp(s=>{if(s.guards.canActivateChecks.length!==0)return F(s).pipe($e(a=>{let c=new Nu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Rt(a=>{let c=!1;return F(a).pipe(XN(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Ke.NoDataFromResolver)}}))}),$e(a=>{let c=new xu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),vp(s=>{let a=u=>{let l=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let d=Ko(u)??this.environmentInjector;l.push(this.configLoader.loadComponent(d,u.routeConfig).then(h=>{u.component=h}))}for(let d of u.children)l.push(...a(d));return l},c=a(s.targetSnapshot.root);return c.length===0?F(s):se(Promise.all(c).then(()=>s))}),vp(()=>this.afterPreactivation()),Rt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?se(c).pipe(ee(()=>r)):F(r)}),ee(s=>{let a=cN(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=j(_({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),$e(()=>{this.events.next(new ps)}),fN(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),dn(1),mi(HE(i.signal).pipe(ht(()=>!o&&!r.targetRouterState),$e(()=>{this.cancelNavigationTransition(r,i.signal.reason+"",Ke.Aborted)}))),$e({next:s=>{o=!0,this.currentNavigation.update(a=>(a.abort=sx,a)),this.lastSuccessfulNavigation.set(Ee(this.currentNavigation)),this.events.next(new Vt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),mi(this.transitionAbortWithErrorSubject.pipe($e(s=>{throw s}))),id(()=>{i.abort(),o||this.cancelNavigationTransition(r,"",Ke.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),lo(s=>{if(this.destroyed)return r.resolve(!1),Ye;if(o=!0,BE(s))this.events.next(new an(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),dN(s)?this.events.next(new Go(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ho(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ne(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof qo){let{message:u,cancellationCode:l}=$u(this.urlSerializer,c);this.events.next(new an(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Go(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Ye}))}))}cancelNavigationTransition(n,r,o){let i=new an(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ee(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ax(e){return e!==Vo}var nb=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(cx),providedIn:"root"})}return e})(),zu=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},cx=(()=>{class e extends zu{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Fn(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vp=(()=>{class e{urlSerializer=m(jr);options=m(Ur,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m($n);urlHandlingStrategy=m(Wu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof jt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=PE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>m(rb),providedIn:"root"})}return e})(),rb=(()=>{class e extends Vp{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof zn?this.updateStateMemento():n instanceof cn?this.commitTransition(r):n instanceof hs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ps?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof an&&n.code!==Ke.SupersededByNewNavigation&&n.code!==Ke.Redirect?this.restoreHistory(r):n instanceof Ho?this.restoreHistory(r,!0):n instanceof Vt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=_(_({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Fn(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yu(e,t){e.events.pipe(ht(n=>n instanceof Vt||n instanceof an||n instanceof Ho||n instanceof cn),ee(n=>n instanceof Vt||n instanceof cn?0:(n instanceof an?n.code===Ke.Redirect||n.code===Ke.SupersededByNewNavigation:!1)?2:1),ht(n=>n!==2),dn(1)).subscribe(()=>{t()})}var ux={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ce=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(qc);stateManager=m(Vp);options=m(Ur,{optional:!0})||{};pendingTasks=m(Yt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(Ku);urlSerializer=m(jr);location=m($n);urlHandlingStrategy=m(Wu);injector=m(de);_events=new we;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(nb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(Br,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(ws,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Se;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Ee(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof an&&r.code!==Ke.Redirect&&r.code!==Ke.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vt)this.navigated=!0;else if(r instanceof Go){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=_({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ax(o.source)},s);this.scheduleNavigation(a,Vo,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}oN(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=_({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(Et)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ee(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(kp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=_(_({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=NE(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return xE(d,n,l,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Bo(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Vo,null,r)}navigate(n,r={skipLocationChange:!1}){return dx(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Nt(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=_({},ux):r===!1?o=_({},lx):o=r,Bo(n))return lE(this.currentUrlTree,n,o);let i=this.parseUrl(n);return lE(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return Yu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dx(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new E(4008,!1)}var bs=class{};var ob=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(ht(n=>n instanceof Vt),fo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Tr(i.providers,n,`Route: ${i.path}`));let s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return se(o).pipe(co())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=se(this.loader.loadChildren(n,r)):o=F(null);let i=o.pipe(Me(s=>s===null?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return se([i,s]).pipe(co())}else return i})}static \u0275fac=function(r){return new(r||e)(R(Ce),R(de),R(bs),R(qu))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ib=new w(""),fx=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Vo;restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof zn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Vt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof cn&&n.code===$o.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof zo))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new zo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){wh()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function Bp(e,...t){return pt([{provide:Br,multi:!0,useValue:e},[],{provide:Cn,useFactory:sb},{provide:En,multi:!0,useFactory:ab},t.map(n=>n.\u0275providers)])}function sb(){return m(Ce).routerState.root}function Ds(e,t){return{\u0275kind:e,\u0275providers:t}}function ab(){let e=m(Re);return t=>{let n=e.get(Qe);if(t!==n.components[0])return;let r=e.get(Ce),o=e.get(cb);e.get($p)===1&&r.initialNavigation(),e.get(db,null,{optional:!0})?.setUpPreloading(),e.get(ib,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var cb=new w("",{factory:()=>new we}),$p=new w("",{factory:()=>1});function ub(){let e=[{provide:Mc,useValue:!0},{provide:$p,useValue:0},Wc(()=>{let t=m(Re);return t.get(Qh,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(Ce),i=t.get(cb);Yu(o,()=>{r(!0)}),t.get(Ku).afterPreactivation=()=>(r(!0),i.closed?F(void 0):i),o.initialNavigation()}))})];return Ds(2,e)}function lb(){let e=[Wc(()=>{m(Ce).setUpLocationChangeListener()}),{provide:$p,useValue:2}];return Ds(3,e)}var db=new w("");function fb(e){return Ds(0,[{provide:db,useExisting:ob},{provide:bs,useExisting:e}])}function hb(){return Ds(8,[xp,{provide:ws,useExisting:xp}])}function pb(e){Xt("NgRouterViewTransitions");let t=[{provide:Fp,useValue:tb},{provide:Lp,useValue:_({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ds(9,t)}var gb=[$n,{provide:jr,useClass:Dn},Ce,Vr,{provide:Cn,useFactory:sb},qu,[]],Hp=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[gb,[],{provide:Br,multi:!0,useValue:n},[],r?.errorHandler?{provide:jp,useValue:r.errorHandler}:[],{provide:Ur,useValue:r||{}},r?.useHash?px():gx(),hx(),r?.preloadingStrategy?fb(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?mx(r):[],r?.bindToComponentInputs?hb().\u0275providers:[],r?.enableViewTransitions?pb().\u0275providers:[],yx()]}}static forChild(n){return{ngModule:e,providers:[{provide:Br,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=xt({})}return e})();function hx(){return{provide:ib,useFactory:()=>{let e=m(Jw),t=m(Pe),n=m(Ur),r=m(Ku),o=m(jr);return n.scrollOffset&&e.setOffset(n.scrollOffset),new fx(o,r,e,t,n)}}}function px(){return{provide:bn,useClass:Xh}}function gx(){return{provide:bn,useClass:lu}}function mx(e){return[e.initialNavigation==="disabled"?lb().\u0275providers:[],e.initialNavigation==="enabledBlocking"?ub().\u0275providers:[]]}var Up=new w("");function yx(){return[{provide:Up,useFactory:ab},{provide:En,multi:!0,useExisting:Up}]}var mb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var Jo=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Is=class extends Jo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Zo=class extends Jo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Qo=class extends Jo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Ju=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(Ju||{});var Ss=class{constructor(t,{headers:n={},customFetch:r,region:o=Ju.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=mb(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ca(this,arguments,void 0,function*(n,r={}){var o;let i,s;try{let{headers:a,method:c,body:u,signal:l,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let v=l;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),l?(v=s.signal,l.addEventListener("abort",()=>s.abort())):v=s.signal);let y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:v}).catch(H=>{throw new Is(H)}),U=y.headers.get("x-relay-error");if(U&&U==="true")throw new Zo(y);if(!y.ok)throw new Qo(y);let I=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),b;return I==="application/json"?b=yield y.json():I==="application/octet-stream"||I==="application/pdf"?b=yield y.blob():I==="text/event-stream"?b=y:I==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Qo||a instanceof Zo?a.context:void 0}}finally{i&&clearTimeout(i)}})}};var vb=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},_x=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,a=null,c=null,u=i.status,l=i.statusText;if(i.ok){var d,h;if(n.method!=="HEAD"){var f;let y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}let g=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,u=406,l="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let g=await i.text();try{s=JSON.parse(g),Array.isArray(s)&&i.status===404&&(a=[],s=null,u=200,l="OK")}catch{i.status===404&&g===""?(u=204,l="No Content"):s={message:g}}if(s&&n.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,u=200,l="OK"),s&&n.shouldThrowOnError)throw new vb(s)}return{error:s,data:a,count:c,status:u,statusText:l}});return this.shouldThrowOnError||(o=o.catch(i=>{var s;let a="",c=i?.cause;if(c){var u,l,d,h;let p=(u=c?.message)!==null&&u!==void 0?u:"",g=(l=c?.code)!==null&&l!==void 0?l:"";a=`${(d=i?.name)!==null&&d!==void 0?d:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(h=c?.name)!==null&&h!==void 0?h:"Error"}: ${p}`,g&&(a+=` (${g})`),c?.stack&&(a+=`
${c.stack}`)}else{var f;a=(f=i?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},wx=class extends _x{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){let i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},yb=new RegExp("[,()]"),Xo=class extends wx{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&yb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&yb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Ex=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){let{head:n=!1,count:r}=t??{},o=n?"HEAD":"GET",i=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Xo({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let i=e.reduce((s,a)=>s.concat(Object.keys(a)),[]);if(i.length>0){let s=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",s.join(","))}}return new Xo({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){var i;let s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){let c=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Xo({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;let r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Xo({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;let n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Xo({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},_b=class wb{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ex(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new Xo({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};var zp=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Gp=zp;var Eb="2.89.0";var bb=`realtime-js/${Eb}`,qp="1.0.0",Db="2.0.0",Wp=qp;var Ts=1e4,Cb=1e3,Ib=100,Gn=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Gn||{}),ve=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(ve||{}),Ct=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Ct||{}),Kp=(function(e){return e.websocket="websocket",e})(Kp||{}),$r=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})($r||{});var Zu=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var o,i;let s=t.topic,a=(o=t.ref)!==null&&o!==void 0?o:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,l=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(l).length===0?"":JSON.stringify(l);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+u.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,u.length),p.setUint8(g++,d.length),p.setUint8(g++,n),Array.from(c,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(s,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(u,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(d,y=>p.setUint8(g++,y.charCodeAt(0)));var v=new Uint8Array(f.byteLength+r.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(r),f.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[o,i,s,a,c]=r;return n({join_ref:o,ref:i,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,o)}}_decodeUserBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,u=r.decode(t.slice(c,c+o));c=c+o;let l=r.decode(t.slice(c,c+i));c=c+i;let d=r.decode(t.slice(c,c+s));c=c+s;let h=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:l,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var ei=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var oe=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(oe||{}),Jp=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=bx(s,e,t,o),i),{}):{}},bx=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?Sb(i,s):Yp(s)},Sb=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return Sx(t,n)}switch(e){case oe.bool:return Dx(t);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Cx(t);case oe.json:case oe.jsonb:return Ix(t);case oe.timestamp:return Tx(t);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Yp(t);default:return Yp(t)}},Yp=e=>e,Dx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Cx=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ix=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Sx=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Sb(t,a))}return e},Tx=e=>typeof e=="string"?e.replace(" ","T"):e,Qu=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var ti=class{constructor(t,n,r={},o=Ts){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Ms=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),p=l.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var As=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(As||{}),In=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(In||{});var Rs=class e{constructor(t,n={config:{}},r){var o,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ti(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new ei(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ms(this),this.broadcastEndpointURL=Qu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[As.PRESENCE]&&this.bindings[As.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(In.CHANNEL_ERROR,f)),this._onClose(()=>t?.(In.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(In.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,v=(p=g?.length)!==null&&p!==void 0?p:0,y=[];for(let U=0;U<v;U++){let I=g[U],{filter:{event:b,schema:H,table:$t,filter:X}}=I,ie=f&&f[U];if(ie&&ie.event===b&&e.isFilterValueEqual(ie.schema,H)&&e.isFilterValueEqual(ie.table,$t)&&e.isFilterValueEqual(ie.filter,X))y.push(Object.assign(Object.assign({},I),{id:ie.id}));else{this.unsubscribe(),this.state=ve.errored,t?.(In.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(In.SUBSCRIBED);return}}).receive("error",f=>{this.state=ve.errored,t?.(In.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(In.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ve.joined&&t===As.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");let i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ve.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ti(this,Ct.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ve.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ti(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ib){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Ct;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,g,v;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,g,v,y,U,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let b=f.id,H=(p=f.filter)===null||p===void 0?void 0:p.event;return b&&((g=n.ids)===null||g===void 0?void 0:g.includes(b))&&(H==="*"||H?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let b=(U=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return b==="*"||b===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:v,commit_timestamp:y,type:U,errors:I}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:U,new:{},old:{},errors:I}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ct.close,{},t)}_onError(t){this._on(Ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Jp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Jp(t.columns,t.old_record)),n}};var Zp=()=>{},Xu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ax=[1e3,2e3,5e3,1e4],Rx=1e4,Nx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ns=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ts,this.transport=null,this.heartbeatIntervalMs=Xu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zp,this.ref=0,this.reconnectTimer=null,this.vsn=Wp,this.logger=Zp,this.conn=null,this.sendBuffer=[],this.serializer=new Zu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Kp.websocket}`,this.httpEndpoint=Qu(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gn.connecting:return $r.Connecting;case Gn.open:return $r.Open;case Gn.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Rs(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Cb,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Gn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gn.open||this.conn.readyState===Gn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([Nx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{let i={access_token:n,version:bb};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(Ct.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ei(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,u,l,d,h,f;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ts,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Xu.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Zp,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Wp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t?.reconnectAfterMs)!==null&&u!==void 0?u:p=>Ax[p-1]||Rx,this.vsn){case qp:this.encode=(l=t?.encode)!==null&&l!==void 0?l:(p,g)=>g(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case Db:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var xs=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xx(e,t,n){let r=new URL(t,e);if(n)for(let[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}async function Ox(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function kx(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:i,headers:s}){let a=xx(e.baseUrl,r,o),c=await Ox(e.auth),u=await t(a,{method:n,headers:_(_(_({},i?{"Content-Type":"application/json"}:{}),c),s),body:i?JSON.stringify(i):void 0}),l=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&l?JSON.parse(l):l;if(!u.ok){let f=d?h:void 0,p=f?.error;throw new xs(p?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function el(e){return e.join("")}var Px=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:el(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${el(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${el(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${el(e.namespace)}`}),!0}catch(t){if(t instanceof xs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof xs&&n.status===409)return;throw n}}};function ni(e){return e.join("")}var Fx=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ni(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ni(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ni(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ni(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof xs&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof xs&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Tb=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=kx({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new Px(this.client,t),this.tableOps=new Fx(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var tl=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Lx=class extends tl{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eg=class extends tl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}},rg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jx=()=>Response,tg=e=>{if(Array.isArray(e))return e.map(n=>tg(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=tg(r)}),t},Vx=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ux=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Bx(e,t){if(Os(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $x(e){var t=Bx(e,"string");return Os(t)=="symbol"?t:t+""}function Hx(e,t,n){return(t=$x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mb(Object(n),!0).forEach(function(r){Hx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Qp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},zx=async(e,t,n)=>{e instanceof await jx()&&!n?.noResolveJson?e.json().then(r=>{let o=e.status||500,i=r?.statusCode||o+"";t(new Lx(Qp(r),o,i))}).catch(r=>{t(new eg(Qp(r),r))}):t(new eg(Qp(e),e))},Gx=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(Vx(r)?(o.headers=A({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),A(A({},o),n))};async function Ps(e,t,n,r,o,i){return new Promise((s,a)=>{e(n,Gx(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>zx(c,a,r))})}async function ks(e,t,n,r){return Ps(e,"GET",t,n,r)}async function Ut(e,t,n,r,o){return Ps(e,"POST",t,r,o,n)}async function ng(e,t,n,r,o){return Ps(e,"PUT",t,r,o,n)}async function qx(e,t,n,r){return Ps(e,"HEAD",t,A(A({},n),{},{noResolveJson:!0}),r)}async function og(e,t,n,r,o){return Ps(e,"DELETE",t,r,o,n)}var Wx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ce(t))return{data:null,error:t};throw t}}},Nb;Nb=Symbol.toStringTag;var Kx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Nb]="BlobDownloadBuilder",this.promise=null}asStream(){return new Wx(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ce(t))return{data:null,error:t};throw t}}},Yx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ab={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Jx=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=rg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var o=this;try{let i,s=A(A({},Ab),r),a=A(A({},o.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",o.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=o.toBase64(o.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=A(A({},a),r.headers));let u=o._removeEmptyFolders(t),l=o._getFinalPath(u),d=await(e=="PUT"?ng:Ut)(o.fetch,`${o.url}/object/${l}`,i,A({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(o.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var o=this;let i=o._removeEmptyFolders(e),s=o._getFinalPath(i),a=new URL(o.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,u=A({upsert:Ab.upsert},r),l=A(A({},o.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType),{data:{path:i,fullPath:(await ng(o.fetch,a.toString(),c,{headers:l})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(ce(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e),o=A({},n.headers);t?.upsert&&(o["x-upsert"]="true");let i=await Ut(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(n.url+i.url),a=s.searchParams.get("token");if(!a)throw new tl("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Ut(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async copy(e,t,n){var r=this;try{return{data:{path:(await Ut(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,n){var r=this;try{let o=r._getFinalPath(e),i=await Ut(r.fetch,`${r.url}/object/sign/${o}`,A({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,n){var r=this;try{let o=await Ut(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(s=>A(A({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),o=r?`?${r}`:"",i=this._getFinalPath(e),s=()=>ks(this.fetch,`${this.url}/${n}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new Kx(s,this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);try{return{data:tg(await ks(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await qx(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ce(r)&&r instanceof eg){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);let i=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await og(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{let o=A(A(A({},Yx),t),{},{prefix:e||""});return{data:await Ut(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},n),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async listV2(e,t){var n=this;try{let r=A({},e);return{data:await Ut(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},xb="2.89.0",Ob={"X-Client-Info":`storage-js/${xb}`},Zx=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let o=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=A(A({},Ob),t),this.fetch=rg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{let n=t.listBucketOptionsToQueryString(e);return{data:await ks(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ks(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Ut(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await ng(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Ut(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await og(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Qx=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},Ob),t),this.fetch=rg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ut(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await ks(t.fetch,o,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await og(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!Ux(e))throw new tl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new Tb({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,i){let s=o[i];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(o,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},ig={"X-Client-Info":`storage-js/${xb}`,"Content-Type":"application/json"},kb=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function dt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Xp=class extends kb{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xx=class extends kb{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};var sg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var eO=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Rb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tO=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let r=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{let s=i?.statusCode||i?.code||r+"";t(new Xp(Rb(i),r,s))}).catch(()=>{let i=r+"";t(new Xp(o.statusText||`HTTP ${r} error`,r,i))});else{let i=r+"";t(new Xp(o.statusText||`HTTP ${r} error`,r,i))}}else t(new Xx(Rb(e),e))},nO=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(eO(r)?(o.headers=A({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,A(A({},o),n))};async function rO(e,t,n,r,o,i){return new Promise((s,a)=>{e(n,nO(t,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>tO(c,a,r))})}async function ft(e,t,n,r,o){return rO(e,"POST",t,r,o,n)}var oO=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},ig),t),this.fetch=sg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ft(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await ft(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await ft(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await ft(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}},iO=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},ig),t),this.fetch=sg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ft(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await ft(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ft(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await ft(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ft(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}},sO=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},ig),t),this.fetch=sg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ft(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ft(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await ft(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await ft(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}},aO=class extends sO{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cO(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},cO=class extends oO{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new uO(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},uO=class extends iO{constructor(e,t,n,r,o){super(e,t,o),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Pb=class extends Zx{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Jx(this.url,this.headers,e,this.fetch)}get vectors(){return new aO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qx(this.url+"/iceberg",this.headers,this.fetch)}};var nl="2.89.0";var Hr=30*1e3,rl=3,ol=rl*Hr,Fb="http://localhost:9999",Lb="supabase.auth.token";var jb={"X-Client-Info":`gotrue-js/${nl}`};var Fs="X-Supabase-Api-Version",ag={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ub=600*1e3;var qn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function C(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var il=class extends qn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Bb(e){return C(e)&&e.name==="AuthApiError"}var It=class extends qn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Bt=class extends qn{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},Oe=class extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function $b(e){return C(e)&&e.name==="AuthSessionMissingError"}var Sn=class extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},zr=class extends Bt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Gr=class extends Bt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Hb(e){return C(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ls=class extends Bt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},sl=class extends Bt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var ri=class extends Bt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function al(e){return C(e)&&e.name==="AuthRetryableFetchError"}var js=class extends Bt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var qr=class extends Bt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zb=` 	
\r=`.split(""),lO=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zb.length;t+=1)e[zb[t].charCodeAt(0)]=-2;for(let t=0;t<cl.length;t+=1)e[cl[t].charCodeAt(0)]=t;return e})();function Gb(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(cl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(cl[r]),t.queuedBits-=6}}function qb(e,t,n){let r=lO[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cg(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{hO(s,r,n)};for(let s=0;s<e.length;s+=1)qb(e.charCodeAt(s),o,i);return t.join("")}function dO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fO(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}dO(r,t)}}function hO(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Wn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)qb(e.charCodeAt(o),n,r);return new Uint8Array(t)}function Wb(e){let t=[];return fO(e,n=>t.push(n)),new Uint8Array(t)}function Tn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>Gb(o,n,r)),Gb(null,n,r),t.join("")}function Kb(e){return Math.round(Date.now()/1e3)+e}function Yb(){return Symbol("auth-callback")}var _e=()=>typeof window<"u"&&typeof document<"u",Wr={tested:!1,writable:!1},ul=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function Jb(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var ll=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Kn=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ie=async(e,t)=>{await e.removeItem(t)},Vs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Vs.promiseConstructor=Promise;function dl(e){let t=e.split(".");if(t.length!==3)throw new qr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Vb.test(t[r]))throw new qr("JWT not in base64url format");return{header:JSON.parse(cg(t[0])),payload:JSON.parse(cg(t[1])),signature:Wn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Qb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xb(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function pO(e){return("0"+e.toString(16)).substr(-2)}function gO(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,pO).join("")}async function mO(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function yO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await mO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yr(e,t,n=!1){let r=gO(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await Kr(e,`${t}-code-verifier`,o);let i=await yO(r);return[i,r===i?"plain":"s256"]}var vO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eD(e){let t=e.headers.get(Fs);if(!t||!t.match(vO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tD(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var _O=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jr(e){if(!_O.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fl(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rD(e,t){return new Proxy(e,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,o)}})}function ug(e){return JSON.parse(JSON.stringify(e))}var Zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wO=[502,503,504];async function oD(e){var t;if(!Zb(e))throw new ri(Zr(e),0);if(wO.includes(e.status))throw new ri(Zr(e),e.status);let n;try{n=await e.json()}catch(i){throw new It(Zr(i),i)}let r,o=eD(e);if(o&&o.getTime()>=ag["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new js(Zr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Oe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new js(Zr(n),e.status,n.weak_password.reasons);throw new il(Zr(n),e.status||500,r)}var EO=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function M(e,t,n,r){var o;let i=Object.assign({},r?.headers);i[Fs]||(i[Fs]=ag["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await bO(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function bO(e,t,n,r,o,i){let s=EO(t,r,o,i),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new ri(Zr(c),0)}if(a.ok||await oD(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await oD(c)}}function St(e){var t;let n=null;DO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Kb(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function lg(e){let t=St(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function un(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iD(e){return{data:e,error:null}}function sD(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=er(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function dg(e){return e}function DO(e){return e.access_token&&e.refresh_token&&e.expires_in}var hl=["global","local","others"];var oi=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ll(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=hl[0]){if(hl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hl.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:un})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=er(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:sD,redirectTo:n?.redirectTo})}catch(n){if(C(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:un})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:dg});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(C(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Jr(t);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:un})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Jr(t);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:un})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Jr(t);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:un})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Jr(t.userId);try{let{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(C(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Jr(t.userId),Jr(t.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await M(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:dg});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(C(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await M(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await M(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await M(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}};function fg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var Qr={debug:!!(globalThis&&ul()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Us=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},pl=class extends Us{};async function hg(e,t,n){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pl(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qr.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function aD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function cD(e){return parseInt(e,16)}function uD(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function lD(e){var t;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=pg(e.address),p=l?`${l}://${r}`:r,g=e.statement?`${e.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(y+=`
Expiration Time: ${o.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let U=`
Resources:`;for(let I of u){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);U+=`
- ${I}`}y+=U}return`${v}
${y}`}var ue=class extends Error{constructor({message:t,code:n,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},Xr=class extends ue{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function dD({error:e,options:t}){var n,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(gg(s)){if(i.rp.id!==s)return new ue({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fD({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(gg(r)){if(n.rpId!==r)return new ue({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var mg=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},CO=new mg;function pD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,o=er(e,["challenge","user","excludeCredentials"]),i=Wn(t).buffer,s=Object.assign(Object.assign({},n),{id:Wn(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Wn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function gD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=er(e,["challenge","allowCredentials"]),o=Wn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Wn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function mD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Tn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Tn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Tn(new Uint8Array(o.authenticatorData)),clientDataJSON:Tn(new Uint8Array(o.clientDataJSON)),signature:Tn(new Uint8Array(o.signature)),userHandle:o.userHandle?Tn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hD(){var e,t;return!!(_e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function IO(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xr("Browser returned unexpected credential type",t)}:{data:null,error:new Xr("Empty credential response",t)}}catch(t){return{data:null,error:dD({error:t,options:e})}}}async function SO(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xr("Browser returned unexpected credential type",t)}:{data:null,error:new Xr("Empty credential response",t)}}catch(t){return{data:null,error:fD({error:t,options:e})}}}var TO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},MO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gl(...e){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of e)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(t(s)){let a=r[i];t(a)?r[i]=gl(a,s):r[i]=gl(s)}else r[i]=s}return r}function AO(e,t){return gl(TO,e,t||{})}function RO(e,t){return gl(MO,e,t||{})}var ml=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},i){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:a};let c=o??CO.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{let u=AO(s.webauthn.credential_options.publicKey,i?.create),{data:l,error:d}=await IO({publicKey:u,signal:c});return l?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}case"request":{let u=RO(s.webauthn.credential_options.publicKey,i?.request),{data:l,error:d}=await SO(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return l?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}}}catch(s){return C(s)?{data:null,error:s}:{data:null,error:new It("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new qn("rpId is required for WebAuthn authentication")};try{if(!hD())return{data:null,error:new It("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return C(s)?{data:null,error:s}:{data:null,error:new It("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new qn("rpId is required for WebAuthn registration")};try{if(!hD())return{data:null,error:new It("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(l=>{var d;return(d=l.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:a};let{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return C(s)?{data:null,error:s}:{data:null,error:new It("Unexpected error in register",s)}}}};aD();var NO={url:Fb,storageKey:Lb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vD(e,t,n){return await n()}var ii={},xO=(()=>{class e{get jwks(){var n,r;return(r=(n=ii[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ii[this.storageKey]=Object.assign(Object.assign({},ii[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ii[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ii[this.storageKey]=Object.assign(Object.assign({},ii[this.storageKey]),{cachedAt:n})}constructor(n){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},NO),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&_e()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new oi({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ll(s.fetch),this.lock=s.lock||vD,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&_e()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=hg:this.lock=vD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ml(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ul()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=fg(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${nl}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},o="none";if(_e()&&(r=Jb(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),_e()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Hb(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return C(r)?this._returnResult({error:r}):this._returnResult({error:new It("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:St}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,g=null;this.flowType==="pkce"&&([p,g]=await Yr(this.storage,this.storageKey)),s=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:St})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:St})}else throw new zr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await Ie(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(await Ie(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:lg})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:lg})}else throw new zr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){let s=new Sn;return this._returnResult({data:{user:null,session:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,g;if("message"in n)p=n.message,g=n.signature;else{let{chain:v,wallet:y,statement:U,options:I}=n,b;if(_e())if(typeof y=="object")b=y;else{let ln=window;if("ethereum"in ln&&typeof ln.ethereum=="object"&&"request"in ln.ethereum&&typeof ln.ethereum.request=="function")b=ln.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}let H=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),$t=await b.request({method:"eth_requestAccounts"}).then(ln=>ln).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$t||$t.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let X=pg($t[0]),ie=(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ie){let ln=await b.request({method:"eth_chainId"});ie=cD(ln)}let KD={domain:H.host,address:X,statement:U,uri:H.href,version:"1",chainId:ie,nonce:(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=lD(KD),g=await b.request({method:"personal_sign",params:[uD(p),X]})}try{let{data:v,error:y}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:St});if(y)throw y;if(!v||!v.session||!v.user){let U=new Sn;return this._returnResult({data:{user:null,session:null},error:U})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(C(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let g,v;if("message"in n)g=n.message,v=n.signature;else{let{chain:y,wallet:U,statement:I,options:b}=n,H;if(_e())if(typeof U=="object")H=U;else{let X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))H=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=U}let $t=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in H&&H.signIn){let X=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:$t.host,uri:$t.href}),I?{statement:I}:null)),ie;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")ie=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)ie=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ie&&"signature"in ie&&(typeof ie.signedMessage=="string"||ie.signedMessage instanceof Uint8Array)&&ie.signature instanceof Uint8Array)g=typeof ie.signedMessage=="string"?ie.signedMessage:new TextDecoder().decode(ie.signedMessage),v=ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${$t.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${$t.href}`,`Issued At: ${(i=(o=b?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(ie=>`- ${ie}`)]:[]].join(`
`);let X=await H.signMessage(new TextEncoder().encode(g),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=X}}try{let{data:y,error:U}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Tn(v)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:St});if(U)throw U;if(!y||!y.session||!y.user){let I=new Sn;return this._returnResult({data:{user:null,session:null},error:I})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:U})}catch(y){if(C(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(n){let r=await Kn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{if(!o&&this.flowType==="pkce")throw new sl;let{data:s,error:a}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:St});if(await Ie(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new Sn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Ie(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:St}),{data:u,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){let d=new Sn;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await Yr(this.storage,this.storageKey));let{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new zr("You must provide either an email or phone number.")}catch(c){if(await Ie(this.storage,`${this.storageKey}-code-verifier`),C(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:St});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(n){var r,o,i,s,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Yr(this.storage,this.storageKey));let l=await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:iD});return!((s=l.data)===null||s===void 0)&&s.url&&_e()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(await Ie(this.storage,`${this.storageKey}-code-verifier`),C(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Oe;let{error:i}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(n){if(C(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await M(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await M(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new zr("You must provide either an email or phone number and a type")}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<ol:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await Kn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=fl()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=rD(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:un}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oe}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:un})})}catch(r){if(C(r))return $b(r)&&(await this._removeSession(),await Ie(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new Oe;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await Yr(this.storage,this.storageKey));let{data:l,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:un});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(o){if(await Ie(this.storage,`${this.storageKey}-code-verifier`),C(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Oe;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=dl(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(C(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Oe;let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!_e())throw new Gr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Gr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ls("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ls("No code detected.");let{data:I,error:b}=await this._exchangeCodeForSession(n.code);if(b)throw b;let H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:I.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new Gr("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:v,error:y}=await this._getUser(s);if(y)throw y;let U={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:n.type},error:null})}catch(o){if(C(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Kn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({error:s});let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(Bb(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await Ie(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=Yb(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Yr(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Ie(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return _e()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(C(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:u,access_token:l,nonce:d}=n,h=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:St}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Sn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await Ie(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await Xb(async i=>(i>0&&await Qb(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:St})),(i,s)=>{let a=200*Math.pow(2,i);return s&&al(s)&&Date.now()+a-o<Hr})}catch(o){if(this._debug(r,"error",o),C(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),_e()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await Kn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Kr(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:fl()}else if(i&&!i.user&&!i.user){let a=await Kn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Ie(this.storage,this.storageKey+"-user"),await Kr(this.storage,this.storageKey,i)):i.user=fl()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ol;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${ol}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),al(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new Oe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Vs;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Oe;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),C(s)){let a={data:null,error:s};return al(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Ie(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Kr(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=ug(i);await Kr(this.storage,this.storageKey,s)}else{let i=ug(r);await Kr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ie(this.storage,this.storageKey),await Ie(this.storage,this.storageKey+"-code-verifier"),await Ie(this.storage,this.storageKey+"-user"),this.userStorage&&await Ie(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&_e()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Hr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Hr}ms, refresh threshold is ${rl} ticks`),i<=rl&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Us)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_e()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await Yr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await M(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:u,error:l}=await M(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?this._returnResult({data:null,error:l}):(n.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?mD(n.webauthn.credential_response):yD(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:u}=await M(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await M(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:pD(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:gD(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:o},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=dl(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?await M(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Oe})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Oe});let a=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&_e()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Oe});let a=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&_e()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await M(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Oe})})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(await M(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oe})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+Ub>i)return o;let{data:s,error:a}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=dl(o);r?.allowExpired||tD(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=nD(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Wb(`${c}.${u}`)))throw new qr("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}}}return e.nextInstanceID={},e})(),yg=xO;var OO=yg,vg=OO;var kO="2.89.0",Bs="";typeof Deno<"u"?Bs="deno":typeof document<"u"?Bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bs="react-native":Bs="node";var PO={"X-Client-Info":`supabase-js-${Bs}/${kO}`},FO={headers:PO},LO={schema:"public"},jO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VO={};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function UO(e,t){if($s(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BO(e){var t=UO(e,"string");return $s(t)=="symbol"?t:t+""}function $O(e,t,n){return(t=BO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(r){$O(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var HO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zO=()=>Headers,GO=(e,t,n)=>{let r=HO(n),o=zO();return async(i,s)=>{var a;let c=(a=await t())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,le(le({},s),{},{headers:u}))}};function qO(e){return e.endsWith("/")?e:e+"/"}function WO(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=t,h={db:le(le({},c),o),auth:le(le({},u),i),realtime:le(le({},l),s),storage:{},global:le(le(le({},d),a),{},{headers:le(le({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function KO(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var YO=class extends vg{constructor(e){super(e)}},JO=class{constructor(e,t,n){var r,o;this.supabaseUrl=e,this.supabaseKey=t;let i=KO(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);let s=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:LO,realtime:VO,auth:le(le({},jO),{},{storageKey:s}),global:FO},c=WO(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(l,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=GO(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(l=>this.realtime.setAuth(l)).catch(l=>console.warn("Failed to set initial Realtime auth token:",l)),this.rest=new _b(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Pb(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ss(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:i,flowType:s,lock:a,debug:c,throwOnError:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YO({url:this.authUrl.href,headers:le(le({},h),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,flowType:s,lock:a,debug:c,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ns(this.realtimeUrl.href,le(le({},e),{},{params:le(le({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},wD=(e,t,n)=>new JO(e,t,n);function ZO(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ZO()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var _g={production:!1,supabaseUrl:"https://xonhsgfrverqtglwejdg.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvbmhzZ2ZydmVycXRnbHdlamRnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5ODA4MjMsImV4cCI6MjA4MTU1NjgyM30.rd-i3a0jqTapBMRWG3FuP00iTLG2kTHF88jvJSnMQ10"};var Tt=class e{supabase=null;platformId=m(Cr);user=re(null);loading=re(!0);profile=re(null);authReady=re(!1);constructor(){Yw(this.platformId)?(this.supabase=wD(_g.supabaseUrl,_g.supabaseAnonKey),this.init()):(this.loading.set(!1),this.authReady.set(!1))}async init(){if(!this.supabase)return;let{data:t}=await this.supabase.auth.getSession();this.user.set(t.session?.user??null),this.user()&&this.loadProfile(),this.supabase.auth.onAuthStateChange((n,r)=>{this.user.set(r?.user??null),r?.user?this.loadProfile():this.profile.set(null)}),this.loading.set(!1),this.authReady.set(!0)}async login(t,n){return this.supabase.auth.signInWithPassword({email:t,password:n})}async isUsernameAvailable(t){let{data:n,error:r}=await this.supabase.from("profiles").select("username").eq("username",t).limit(1);return r?(console.error("Username check failed",r),!1):n.length===0}async registerWithUsername(t,n,r){if(!await this.isUsernameAvailable(r))return{error:{message:"Username already taken"}};let{data:i,error:s}=await this.supabase.auth.signUp({email:t,password:n});return s||!i.user?{error:s}:this.supabase.from("profiles").insert({id:i.user.id,username:r})}async logout(){await this.supabase.auth.signOut(),this.user.set(null),this.profile.set(null)}async loadProfile(){if(!this.user()||!this.supabase)return;let{data:t,error:n}=await this.supabase.from("profiles").select("*").eq("id",this.user().id).single();n||this.profile.set(t)}isAuthenticated(){return!!this.user()}get username(){return this.profile()?.username??null}static \u0275fac=function(n){return new(n||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var yl=class e{constructor(t,n){this.auth=t;this.router=n;wn(()=>{this.auth.authReady()&&(this.auth.user()||this.router.navigate(["/login"]))})}gotogames(){this.router.navigate(["/games"]),console.log("zrayga")}static \u0275fac=function(n){return new(n||e)(P(Tt),P(Ce))};static \u0275cmp=qe({type:e,selectors:[["app-scores"]],decls:7,vars:0,consts:[[1,"scores-page"],[3,"click"]],template:function(n,r){n&1&&(me(0,"div",0)(1,"h1"),L(2,"Scores \u{1F3C6}"),Ve(),me(3,"p"),L(4,"You are connected \u{1F389}"),Ve(),me(5,"button",1),No("click",function(){return r.gotogames()}),L(6,"Go to Games"),Ve()())},styles:[".scores-page[_ngcontent-%COMP%]{padding:40px;color:#fff}.logout[_ngcontent-%COMP%]{background:none;border:1px solid #f9a8d4;color:#f9a8d4;padding:8px 16px;border-radius:999px;cursor:pointer;font-size:.85rem;margin-bottom:24px}.logout[_ngcontent-%COMP%]:hover{background:#f9a8d426}"]})};var vl=class e{constructor(t,n){this.auth=t;this.router=n;wn(()=>{this.auth.isAuthenticated()&&this.router.navigate(["/games"])})}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||e)(P(Tt),P(Ce))};static \u0275cmp=qe({type:e,selectors:[["app-homepage"]],decls:29,vars:0,consts:[[1,"homepage"],[1,"hero"],[1,"subtitle"],[1,"emoji-row"],[1,"emoji-card"],[1,"cta",3,"click"],[1,"warning"]],template:function(n,r){n&1&&(me(0,"div",0)(1,"main",1)(2,"h1"),L(3,"Play. Laugh. Ruin friendships."),Ve(),me(4,"p",2),L(5," Mini games designed to expose your friends."),Kc(6,"br"),L(7," All love. Mostly. "),Ve(),me(8,"div",3)(9,"div",4),L(10,"\u{1F602}"),me(11,"span"),L(12,"Laugh at others"),Ve()(),me(13,"div",4),L(14,"\u{1F608}"),me(15,"span"),L(16,"Be annoying"),Ve()(),me(17,"div",4),L(18,"\u{1F3C6}"),me(19,"span"),L(20,"Win. Brag."),Ve()(),me(21,"div",4),L(22,"\u{1F624}"),me(23,"span"),L(24,"Rage a little"),Ve()()(),me(25,"button",5),No("click",function(){return r.goToLogin()}),L(26," \u{1F496} Play with friends "),Ve(),me(27,"small",6),L(28," Friendships not guaranteed. "),Ve()()())},dependencies:[on],styles:[".homepage[_ngcontent-%COMP%]{min-height:calc(100vh - 64px);background:#0f172a;color:#f8fafc;font-family:Inter,system-ui,sans-serif}.hero[_ngcontent-%COMP%]{text-align:center;padding:80px 20px}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;color:#f9a8d4}.subtitle[_ngcontent-%COMP%]{margin-top:16px;font-size:1.1rem;opacity:.9}.emoji-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;margin:48px 0;flex-wrap:wrap}.emoji-card[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:18px;padding:22px 18px;width:130px;font-size:2.2rem;text-align:center;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease,background .25s ease;animation:_ngcontent-%COMP%_goofyIdle 5.5s infinite ease-in-out}.emoji-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.emoji-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:1.3s}.emoji-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:2.6s}.emoji-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:3.9s}@keyframes _ngcontent-%COMP%_goofyIdle{0%{transform:translateY(0) rotate(0) scale(1)}20%{transform:translateY(-4px) rotate(-1.5deg) scale(1.02)}40%{transform:translateY(2px) rotate(1deg) scale(.99)}60%{transform:translateY(-6px) rotate(-2deg) scale(1.03)}80%{transform:translateY(1px) rotate(1.2deg) scale(1)}to{transform:translateY(0) rotate(0) scale(1)}}.emoji-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.8rem;margin-top:8px}.emoji-card[_ngcontent-%COMP%]:hover{animation-play-state:paused;transform:translateY(-8px) scale(1.08) rotate(-2deg);background:#f9a8d426;box-shadow:0 12px 30px #f9a8d459}.cta[_ngcontent-%COMP%]{margin-top:24px;background:#f9a8d4;color:#0f172a;border:none;padding:14px 32px;font-size:1.1rem;border-radius:30px;cursor:pointer;font-weight:700;transition:transform .2s ease,box-shadow .2s ease}.cta[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 0 20px #f9a8d499}.warning[_ngcontent-%COMP%]{display:block;margin-top:12px;opacity:.6;font-size:.85rem}@media(max-width:768px){.emoji-card[_ngcontent-%COMP%]{width:45%;animation:none!important;transition:none!important;transform:none!important}}@media(hover:none){.emoji-card[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none;background:inherit}}"]})};var AD=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(P(Ir),P(Ln))};static \u0275dir=be({type:e})}return e})(),QO=(()=>{class e extends AD{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Fn(e)))(o||e)}})();static \u0275dir=be({type:e,features:[tn]})}return e})(),RD=new w("");var XO={provide:RD,useExisting:mn(()=>Tl),multi:!0};function ek(){let e=Dt()?Dt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var tk=new w(""),Tl=(()=>{class e extends AD{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!ek())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(P(Ir),P(Ln),P(tk,8))};static \u0275dir=be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&De("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[ko([XO]),tn]})}return e})();function nk(e){return e==null||rk(e)===0}function rk(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var bg=new w(""),ND=new w("");function ok(e){return nk(e.value)?{required:!0}:null}function ED(e){return null}function xD(e){return e!=null}function OD(e){return Un(e)?se(e):e}function kD(e){let t={};return e.forEach(n=>{t=n!=null?_(_({},t),n):t}),Object.keys(t).length===0?null:t}function PD(e,t){return t.map(n=>n(e))}function ik(e){return!e.validate}function FD(e){return e.map(t=>ik(t)?t:n=>t.validate(n))}function sk(e){if(!e)return null;let t=e.filter(xD);return t.length==0?null:function(n){return kD(PD(n,t))}}function Dg(e){return e!=null?sk(FD(e)):null}function ak(e){if(!e)return null;let t=e.filter(xD);return t.length==0?null:function(n){let r=PD(n,t).map(OD);return rd(r).pipe(ee(kD))}}function Cg(e){return e!=null?ak(FD(e)):null}function bD(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ck(e){return e._rawValidators}function uk(e){return e._rawAsyncValidators}function wg(e){return e?Array.isArray(e)?e:[e]:[]}function wl(e,t){return Array.isArray(e)?e.includes(t):e===t}function DD(e,t){let n=wg(t);return wg(e).forEach(o=>{wl(n,o)||n.push(o)}),n}function CD(e,t){return wg(t).filter(n=>!wl(e,n))}var El=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Dg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Cg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},ci=class extends El{name;get formDirective(){return null}get path(){return null}},Ys=class extends El{_parent=null;name=null;valueAccessor=null},bl=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var LD=(()=>{class e extends bl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(P(Ys,2))};static \u0275dir=be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Mr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[tn]})}return e})(),jD=(()=>{class e extends bl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(P(ci,10))};static \u0275dir=be({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Mr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[tn]})}return e})();var zs="VALID",_l="INVALID",si="PENDING",Gs="DISABLED",Yn=class{},Dl=class extends Yn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ws=class extends Yn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ks=class extends Yn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ai=class extends Yn{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Eg=class extends Yn{source;constructor(t){super(),this.source=t}},Cl=class extends Yn{source;constructor(t){super(),this.source=t}};function VD(e){return(Ml(e)?e.validators:e)||null}function lk(e){return Array.isArray(e)?Dg(e):e||null}function UD(e,t){return(Ml(t)?t.asyncValidators:e)||null}function dk(e){return Array.isArray(e)?Cg(e):e||null}function Ml(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function fk(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new E(1e3,"");if(!r[n])throw new E(1001,"")}function hk(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new E(1002,"")})}var Il=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ee(this.statusReactive)}set status(t){Ee(()=>this.statusReactive.set(t))}_status=Ar(()=>this.statusReactive());statusReactive=re(void 0);get valid(){return this.status===zs}get invalid(){return this.status===_l}get pending(){return this.status==si}get disabled(){return this.status===Gs}get enabled(){return this.status!==Gs}errors;get pristine(){return Ee(this.pristineReactive)}set pristine(t){Ee(()=>this.pristineReactive.set(t))}_pristine=Ar(()=>this.pristineReactive());pristineReactive=re(!0);get dirty(){return!this.pristine}get touched(){return Ee(this.touchedReactive)}set touched(t){Ee(()=>this.touchedReactive.set(t))}_touched=Ar(()=>this.touchedReactive());touchedReactive=re(!1);get untouched(){return!this.touched}_events=new we;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(DD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(DD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(CD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(CD(t,this._rawAsyncValidators))}hasValidator(t){return wl(this._rawValidators,t)}hasAsyncValidator(t){return wl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(j(_({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ks(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ks(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(j(_({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ws(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ws(!0,r))}markAsPending(t={}){this.status=si;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ai(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(j(_({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Gs,this.errors=null,this._forEachChild(o=>{o.disable(j(_({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dl(this.value,r)),this._events.next(new ai(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=zs,this._forEachChild(r=>{r.enable(j(_({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(j(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zs||this.status===si)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dl(this.value,n)),this._events.next(new ai(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(j(_({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gs:zs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=si,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=OD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ai(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?Gs:this.errors?_l:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(si)?si:this._anyControlsHaveStatus(_l)?_l:zs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new Ws(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ks(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ml(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=lk(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=dk(this._rawAsyncValidators)}},Sl=class extends Il{constructor(t,n,r){super(VD(n),UD(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){hk(this,!0,t),Object.keys(t).forEach(r=>{fk(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,j(_({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Cl(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ig=new w("",{factory:()=>Sg}),Sg="always";function pk(e,t){return[...t.path,e]}function BD(e,t,n=Sg){$D(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),mk(e,t),vk(e,t),yk(e,t),gk(e,t)}function ID(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function gk(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function $D(e,t){let n=ck(e);t.validator!==null?e.setValidators(bD(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=uk(e);t.asyncValidator!==null?e.setAsyncValidators(bD(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();ID(t._rawValidators,o),ID(t._rawAsyncValidators,o)}function mk(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&HD(e,t)})}function yk(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&HD(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function HD(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function vk(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function _k(e,t){e==null,$D(e,t)}function wk(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Ek(e){return Object.getPrototypeOf(e.constructor)===QO}function bk(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Dk(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===Tl?n=i:Ek(i)?r=i:o=i}),o||r||n||null}var Ck={provide:ci,useExisting:mn(()=>Tg)},qs=Promise.resolve(),Tg=(()=>{class e extends ci{callSetDisabledState;get submitted(){return Ee(this.submittedReactive)}_submitted=Ar(()=>this.submittedReactive());submittedReactive=re(!1);_directives=new Set;form;ngSubmit=new he;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new Sl({},Dg(n),Cg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){qs.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),BD(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){qs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){qs.then(()=>{let r=this._findContainer(n.path),o=new Sl({});_k(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){qs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){qs.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),bk(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Eg(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(P(bg,10),P(ND,10),P(Ig,8))};static \u0275dir=be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&De("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ko([Ck]),tn]})}return e})();function SD(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function TD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ik=class extends Il{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(VD(n),UD(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ml(n)&&(n.nonNullable||n.initialValueIsDefault)&&(TD(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Cl(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){SD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){SD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){TD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Sk={provide:Ys,useExisting:mn(()=>Mg)},MD=Promise.resolve(),Mg=(()=>{class e extends Ys{_changeDetectorRef;callSetDisabledState;control=new Ik;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new he;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Dk(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),wk(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){BD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){MD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&es(r);MD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?pk(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(P(ci,9),P(bg,10),P(ND,10),P(RD,10),P(Nr,8),P(Ig,8))};static \u0275dir=be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ko([Sk]),tn,Pn]})}return e})();var zD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=be({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var Tk=(()=>{class e{_validator=ED;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ED,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=be({type:e,features:[Pn]})}return e})();var Mk={provide:bg,useExisting:mn(()=>Ag),multi:!0};var Ag=(()=>{class e extends Tk{required;inputName="required";normalizeInput=es;createValidator=n=>ok;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Fn(e)))(o||e)}})();static \u0275dir=be({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Ji("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ko([Mk]),tn]})}return e})();var Ak=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=xt({})}return e})();var GD=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Ig,useValue:n.callSetDisabledState??Sg}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=en({type:e});static \u0275inj=xt({imports:[Ak]})}return e})();function Nk(e,t){e&1&&(Yc(0),L(1," Welcome back "),J(2,"span",13),L(3,"\u{1F44B}"),Z(),Jc())}function xk(e,t){e&1&&(L(0," Create an account "),J(1,"span",13),L(2,"\u{1F680}"),Z())}function Ok(e,t){if(e&1){let n=rn();J(0,"input",14),Oo("ngModelChange",function(o){Le(n);let i=We();return Qi(i.username,o)||(i.username=o),je(o)}),Z()}if(e&2){let n=We();xo("ngModel",n.username)}}function kk(e,t){if(e&1&&(J(0,"p",15),L(1),Z()),e&2){let n=We();ae(),Zc(n.error())}}var Al=class e{constructor(t,n){this.auth=t;this.router=n;wn(()=>{this.auth.authReady()&&this.auth.user()&&this.router.navigate(["/games"])})}mode=re("login");loading=re(!1);error=re(null);email="";password="";username="";toggleMode(){this.mode.set(this.mode()==="login"?"register":"login"),this.error.set(null),this.username=""}async submit(){this.loading.set(!0),this.error.set(null);try{let t=this.mode()==="login"?await this.auth.login(this.email,this.password):await this.auth.registerWithUsername(this.email,this.password,this.username);if(t?.error){t.error.message.includes("duplicate")?this.error.set("Username already taken"):this.error.set(t.error.message);return}this.router.navigate(["/games"])}catch{this.error.set("Something went wrong. Try again.")}finally{this.loading.set(!1)}}static \u0275fac=function(n){return new(n||e)(P(Tt),P(Ce))};static \u0275cmp=qe({type:e,selectors:[["app-login"]],decls:17,vars:10,consts:[["register",""],[1,"login-page"],[1,"card"],[1,"title"],[4,"ngIf","ngIfElse"],[1,"subtitle"],[3,"ngSubmit"],["type","text","placeholder","Username","name","username","required","",3,"ngModel","ngModelChange",4,"ngIf"],["type","email","placeholder","Email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","placeholder","Password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"switch",3,"click"],[1,"emoji"],["type","text","placeholder","Username","name","username","required","",3,"ngModelChange","ngModel"],[1,"error"]],template:function(n,r){if(n&1){let o=rn();J(0,"div",1)(1,"div",2)(2,"h1",3),bt(3,Nk,4,0,"ng-container",4)(4,xk,3,0,"ng-template",null,0,Oh),Z(),J(6,"p",5),L(7),Z(),J(8,"form",6),De("ngSubmit",function(){return Le(o),je(r.submit())}),bt(9,Ok,1,1,"input",7),J(10,"input",8),Oo("ngModelChange",function(s){return Le(o),Qi(r.email,s)||(r.email=s),je(s)}),Z(),J(11,"input",9),Oo("ngModelChange",function(s){return Le(o),Qi(r.password,s)||(r.password=s),je(s)}),Z(),J(12,"button",10),L(13),Z()(),bt(14,kk,2,1,"p",11),J(15,"button",12),De("click",function(){return Le(o),je(r.toggleMode())}),L(16),Z()()()}if(n&2){let o=xh(5);ae(3),Xe("ngIf",r.mode()==="login")("ngIfElse",o),ae(4),ct(" ",r.mode()==="login"?"Log in to play with friends":"Sign up and ruin friendships"," "),ae(2),Xe("ngIf",r.mode()==="register"),ae(),xo("ngModel",r.email),ae(),xo("ngModel",r.password),ae(),Xe("disabled",r.loading()),ae(),ct(" ",r.loading()?"Please wait...":r.mode()==="login"?"Login":"Register"," "),ae(),Xe("ngIf",r.error()),ae(2),ct(" ",r.mode()==="login"?"Don't have an account? Register":"Already have an account? Login"," ")}},dependencies:[on,xr,GD,zD,Tl,LD,jD,Ag,Mg,Tg],styles:[".login-page[_ngcontent-%COMP%]{min-height:10vh;display:flex;align-items:center;justify-content:center;background:#0f172ad9;padding:20px;color:#fff}.card[_ngcontent-%COMP%]{background:#ffffff0f;padding:40px 36px;border-radius:22px;width:100%;max-width:380px;text-align:center;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 20px 60px #00000073}.title[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;margin-bottom:6px;color:#f9a8d4;font-size:1.7rem;font-weight:600;letter-spacing:-.4px}.title[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:1.2em}.subtitle[_ngcontent-%COMP%]{color:#ffffffbf;font-size:.95rem;margin-bottom:26px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}input[_ngcontent-%COMP%]{width:100%;padding:13px 16px;border-radius:14px;border:none;background:#ffffff14;color:#fff;font-size:.95rem}input[_ngcontent-%COMP%]::placeholder{color:#ffffff73}input[_ngcontent-%COMP%]:focus{outline:2px solid #f9a8d4;background:#ffffff1a}button[type=submit][_ngcontent-%COMP%]{margin-top:8px;width:100%;padding:14px;border-radius:999px;border:none;background:linear-gradient(135deg,#f9a8d4,#f472b6);color:#0b1020;font-weight:600;font-size:.95rem;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.error[_ngcontent-%COMP%]{margin-top:12px;font-size:.85rem;color:#ff8a8a}.switch[_ngcontent-%COMP%]{margin-top:18px;background:none;border:none;color:#f9a8d4;cursor:pointer;font-size:.85rem;opacity:.9}.switch[_ngcontent-%COMP%]:hover{text-decoration:underline}@media(max-width:480px){.card[_ngcontent-%COMP%]{padding:32px 24px}.title[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}}@media(prefers-reduced-motion:reduce){*[_ngcontent-%COMP%]{animation:none!important;transition:none!important}}"]})};function Pk(e,t){e&1&&(J(0,"small"),L(1,"Coming soon"),Z())}function Fk(e,t){if(e&1){let n=rn();J(0,"div",5),De("click",function(){Le(n);let o=We();return je(o.clickgame())}),L(1),J(2,"span"),L(3),bt(4,Pk,2,0,"small",6),Z()()}if(e&2){let n=t.$implicit;Mr("disabled",n.comingSoon),ae(),ct(" ",n.emoji," "),ae(2),ct(" ",n.title," "),ae(),Xe("ngIf",n.comingSoon)}}var Rl=class e{constructor(t,n){this.auth=t;this.router=n;wn(()=>{console.log("v\xE9rification de l'authentification pour acc\xE9der aux jeux",!this.auth.authReady()),this.auth.authReady()&&(console.log("v\xE9rification de l'authentification pour acc\xE9der aux jeux",!this.auth.authReady()),this.auth.user()||this.router.navigate(["/login"]))})}clickgame(){this.router.navigate(["/games/guessnumber"])}games=[{emoji:"\u{1F602}",title:"Laugh at others",comingSoon:!1},{emoji:"\u{1F608}",title:"Be annoying",comingSoon:!0},{emoji:"\u{1F3C6}",title:"Win. Brag.",comingSoon:!0},{emoji:"\u{1F624}",title:"Rage a little",comingSoon:!0}];static \u0275fac=function(n){return new(n||e)(P(Tt),P(Ce))};static \u0275cmp=qe({type:e,selectors:[["app-games"]],decls:8,vars:1,consts:[[1,"games-page"],[1,"hero"],[1,"subtitle"],[1,"emoji-row"],["class","emoji-card",3,"disabled","click",4,"ngFor","ngForOf"],[1,"emoji-card",3,"click"],[4,"ngIf"]],template:function(n,r){n&1&&(J(0,"div",0)(1,"main",1)(2,"h1"),L(3,"Your games \u{1F3AE}"),Z(),J(4,"p",2),L(5," Choose a game and ruin friendships responsibly. "),Z(),J(6,"div",3),bt(7,Fk,5,5,"div",4),Z()()()),n&2&&(ae(7),Xe("ngForOf",r.games))},dependencies:[on,hu,xr],styles:[".games-page[_ngcontent-%COMP%]{min-height:calc(100vh - 64px);background:#0f172a;color:#f8fafc;font-family:Inter,system-ui,sans-serif}.hero[_ngcontent-%COMP%]{text-align:center;padding:80px 20px}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.6rem;font-weight:800;color:#f9a8d4}.subtitle[_ngcontent-%COMP%]{margin-top:12px;font-size:1.05rem;opacity:.9}.emoji-card.disabled[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none;background:#ffffff0d}.emoji-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;margin:48px 0;flex-wrap:wrap}.emoji-card[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:18px;padding:22px 18px;width:150px;font-size:2.4rem;text-align:center;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease,background .25s ease;animation:_ngcontent-%COMP%_goofyIdle 5.5s infinite ease-in-out}.emoji-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.emoji-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:1.3s}.emoji-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:2.6s}.emoji-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:3.9s}.emoji-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.8rem;margin-top:10px}.emoji-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:.65rem;opacity:.6;margin-top:4px}.emoji-card[_ngcontent-%COMP%]:hover{animation-play-state:paused;transform:translateY(-8px) scale(1.08) rotate(-2deg);background:#f9a8d426;box-shadow:0 12px 30px #f9a8d459}.emoji-card.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.emoji-card.disabled[_ngcontent-%COMP%]:hover{animation-play-state:running;transform:none;box-shadow:none;background:#ffffff0d}@keyframes _ngcontent-%COMP%_goofyIdle{0%{transform:translateY(0) rotate(0) scale(1)}20%{transform:translateY(-4px) rotate(-1.5deg) scale(1.02)}40%{transform:translateY(2px) rotate(1deg) scale(.99)}60%{transform:translateY(-6px) rotate(-2deg) scale(1.03)}80%{transform:translateY(1px) rotate(1.2deg) scale(1)}to{transform:translateY(0) rotate(0) scale(1)}}@media(max-width:768px){.emoji-card[_ngcontent-%COMP%]{width:45%;animation:none!important;transition:none!important;transform:none!important}}@media(hover:none){.emoji-card[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none;background:inherit}}"]})};var qD=[{path:"",component:vl},{path:"games/guessnumber",component:yl},{path:"login",component:Al},{path:"games",component:Rl},{path:"**",redirectTo:""}];var WD={providers:[cf(),Bp(qD),uE(cE())]};function Lk(e,t){if(e&1){let n=rn();J(0,"button",5),De("click",function(){Le(n);let o=We();return je(o.goToLogin())}),L(1," Login "),Z()}}function jk(e,t){if(e&1){let n=rn();J(0,"div",9)(1,"div",10),L(2),Z(),nn(3,"hr"),J(4,"button",11),De("click",function(){Le(n);let o=We(2);return je(o.goToProfile())}),L(5,"Profile"),Z(),J(6,"button",11),De("click",function(){Le(n);let o=We(2);return je(o.goToSettings())}),L(7,"Settings"),Z(),nn(8,"hr"),J(9,"button",12),De("click",function(){Le(n);let o=We(2);return je(o.logout())}),L(10,"Logout"),Z()()}if(e&2){let n=We(2);ae(2),ct(" @",n.auth.username||"user"," ")}}function Vk(e,t){if(e&1){let n=rn();J(0,"div",6)(1,"div",7),De("click",function(){Le(n);let o=We();return je(o.toggleMenu())}),L(2),Z(),bt(3,jk,11,1,"div",8),Z()}if(e&2){let n,r=We();ae(2),ct(" ",(r.auth.username==null||(n=r.auth.username.charAt(0))==null?null:n.toUpperCase())||"?"," "),ae(),Xe("ngIf",r.menuOpen())}}var Nl=class e{constructor(t,n){this.auth=t;this.router=n}menuOpen=re(!1);goToLogin(){this.router.navigate(["/login"])}goHome(){this.auth.isAuthenticated()?this.router.navigate(["/games"]):this.router.navigate(["/"])}goToProfile(){this.menuOpen.set(!1),this.router.navigate(["/profile"])}goToSettings(){this.menuOpen.set(!1),this.router.navigate(["/settings"])}async logout(){this.menuOpen.set(!1),await this.auth.logout(),console.log("d\xE9connect\xE9"),this.router.navigate(["/"])}toggleMenu(){this.menuOpen.update(t=>!t)}static \u0275fac=function(n){return new(n||e)(P(Tt),P(Ce))};static \u0275cmp=qe({type:e,selectors:[["app-header"]],decls:5,vars:2,consts:[[1,"header"],[1,"logo",3,"click"],["src","images/homielogo.png","alt","HomieGamingHub logo"],["class","login-btn",3,"click",4,"ngIf"],["class","profile",4,"ngIf"],[1,"login-btn",3,"click"],[1,"profile"],[1,"avatar",3,"click"],["class","menu",4,"ngIf"],[1,"menu"],[1,"username"],[3,"click"],[1,"logout",3,"click"]],template:function(n,r){n&1&&(J(0,"header",0)(1,"div",1),De("click",function(){return r.goHome()}),nn(2,"img",2),Z(),bt(3,Lk,2,0,"button",3)(4,Vk,4,2,"div",4),Z()),n&2&&(ae(3),Xe("ngIf",r.auth.authReady()&&!r.auth.user()),ae(),Xe("ngIf",r.auth.authReady()&&r.auth.user()))},dependencies:[on,xr,Hp],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 32px;background:#0f172ad9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:sticky;top:0;z-index:100}.username[_ngcontent-%COMP%]{width:100%;color:#ffc8e6cc;text-align:left;cursor:pointer;border-radius:4px;padding:6px 12px;font-size:.9rem;font-weight:1500;background:#4b3a4354}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;width:auto;transition:transform .3s ease,filter .3s ease}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08) rotate(-2deg);filter:drop-shadow(0 0 10px rgba(249,168,212,.6))}.login-btn[_ngcontent-%COMP%]{background:transparent;color:#f9a8d4;border:1.5px solid rgba(249,168,212,.6);padding:8px 22px;border-radius:999px;font-size:1.1rem;font-weight:600;cursor:pointer;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:background .25s ease,color .25s ease,transform .2s ease,box-shadow .25s ease,border-color .25s ease}.login-btn[_ngcontent-%COMP%]:hover{background:#f9a8d426;border-color:#f9a8d4;box-shadow:0 0 18px #f9a8d480;transform:translateY(-2px)}.profile[_ngcontent-%COMP%]{position:relative}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:#f9a8d4;color:#0f172a;display:flex;align-items:center;justify-content:center;font-weight:700;cursor:pointer}.menu[_ngcontent-%COMP%]{position:absolute;right:0;top:54px;background:#0f172a;border-radius:16px;padding:8px;min-width:160px;box-shadow:0 12px 30px #00000073}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;background:none;border:none;color:#f8fafc;padding:10px 14px;text-align:left;cursor:pointer;border-radius:8px}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f9a8d426}.menu[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{color:#ff8a8a}.menu[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;height:1px;background:#ffffff1a;margin:6px 0}@media(max-width:768px){.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .login-btn[_ngcontent-%COMP%]{animation:none!important;transition:none!important;transform:none!important}}"]})};var xl=class e{title=re("homiegaminghub");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=qe({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&nn(0,"app-header")(1,"router-outlet")},dependencies:[_s,Nl],encapsulation:2})};dp(xl,WD).catch(e=>console.error(e));
