var WE=Object.defineProperty,KE=Object.defineProperties;var YE=Object.getOwnPropertyDescriptors;var $i=Object.getOwnPropertySymbols;var ph=Object.prototype.hasOwnProperty,gh=Object.prototype.propertyIsEnumerable;var hh=(e,t,n)=>t in e?WE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||={})ph.call(t,n)&&hh(e,n,t[n]);if($i)for(var n of $i(t))gh.call(t,n)&&hh(e,n,t[n]);return e},Q=(e,t)=>KE(e,YE(t));var mh=(e,t)=>{var n={};for(var r in e)ph.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$i)for(var r of $i(e))t.indexOf(r)<0&&gh.call(e,r)&&(n[r]=e[r]);return n};var _e=null,Bi=!1,Qc=1,JE=null,We=Symbol("SIGNAL");function M(e){let t=_e;return _e=e,t}function Vi(){return _e}var Hi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zi(e){if(Bi)throw new Error("");if(_e===null)return;_e.consumerOnSignalRead(e);let t=_e.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=_e.recomputing;if(r&&(n=t!==void 0?t.nextProducer:_e.producers,n!==void 0&&n.producer===e)){_e.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===_e&&(!r||QE(o,_e)))return;let i=sr(_e),s={producer:e,consumer:_e,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};_e.producersTail=s,t!==void 0?t.nextProducer=s:_e.producers=s,i&&_h(e,s)}function yh(){Qc++}function vh(e){if(!(sr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Qc)){if(!e.producerMustRecompute(e)&&!qi(e)){Zc(e);return}e.producerRecomputeValue(e),Zc(e)}}function Xc(e){if(e.consumers===void 0)return;let t=Bi;Bi=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||ZE(r)}}finally{Bi=t}}function eu(){return _e?.consumerAllowSignalWrites!==!1}function ZE(e){e.dirty=!0,Xc(e),e.consumerMarkedDirty?.(e)}function Zc(e){e.dirty=!1,e.lastCleanEpoch=Qc}function Gi(e){return e&&wh(e),M(e)}function wh(e){e.producersTail=void 0,e.recomputing=!0}function tu(e,t){M(t),e&&Eh(e)}function Eh(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(sr(e))do n=nu(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function qi(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(vh(n),r!==n.version))return!0}return!1}function oo(e){if(sr(e)){let t=e.producers;for(;t!==void 0;)t=nu(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function _h(e,t){let n=e.consumersTail,r=sr(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)_h(o.producer,o)}function nu(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!sr(t)){let i=t.producers;for(;i!==void 0;)i=nu(i)}return n}function sr(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Dh(e){JE?.(e)}function QE(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function bh(e,t){return Object.is(e,t)}function XE(){throw new Error}var Ch=XE;function Ih(e){Ch(e)}function ru(e){Ch=e}var e_=null;function ou(e,t){let n=Object.create(Wi);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Th(n);return r[We]=n,Dh(n),[r,s=>io(n,s),s=>Sh(n,s)]}function Th(e){return zi(e),e.value}function io(e,t){eu()||Ih(e),e.equal(e.value,t)||(e.value=t,t_(e))}function Sh(e,t){eu()||Ih(e),io(e,t(e.value))}var Wi=Q(w({},Hi),{equal:bh,value:void 0,kind:"signal"});function t_(e){e.version++,yh(),Xc(e),e_?.(e)}function iu(e){let t=M(null);try{return e()}finally{M(t)}}function O(e){return typeof e=="function"}function ar(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ki=ar(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function so(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ve=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(i){t=i instanceof Ki?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Rh(i)}catch(s){t=t??[],s instanceof Ki?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ki(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Rh(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&so(n,t)}remove(t){let{_finalizers:n}=this;n&&so(n,t),t instanceof e&&t._removeParent(this)}};ve.EMPTY=(()=>{let e=new ve;return e.closed=!0,e})();var su=ve.EMPTY;function Yi(e){return e instanceof ve||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function Rh(e){O(e)?e():e.unsubscribe()}var nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cr={setTimeout(e,t,...n){let{delegate:r}=cr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=cr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ji(e){cr.setTimeout(()=>{let{onUnhandledError:t}=nt;if(t)t(e);else throw e})}function ao(){}var Ah=au("C",void 0,void 0);function Mh(e){return au("E",void 0,e)}function Nh(e){return au("N",e,void 0)}function au(e,t,n){return{kind:e,value:t,error:n}}var mn=null;function ur(e){if(nt.useDeprecatedSynchronousErrorHandling){let t=!mn;if(t&&(mn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=mn;if(mn=null,n)throw r}}else e()}function Oh(e){nt.useDeprecatedSynchronousErrorHandling&&mn&&(mn.errorThrown=!0,mn.error=e)}var yn=class extends ve{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Yi(t)&&t.add(this)):this.destination=o_}static create(t,n,r){return new lr(t,n,r)}next(t){this.isStopped?uu(Nh(t),this):this._next(t)}error(t){this.isStopped?uu(Mh(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?uu(Ah,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},n_=Function.prototype.bind;function cu(e,t){return n_.call(e,t)}var lu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Zi(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Zi(r)}else Zi(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Zi(n)}}},lr=class extends yn{constructor(t,n,r){super();let o;if(O(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&nt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&cu(t.next,i),error:t.error&&cu(t.error,i),complete:t.complete&&cu(t.complete,i)}):o=t}this.destination=new lu(o)}};function Zi(e){nt.useDeprecatedSynchronousErrorHandling?Oh(e):Ji(e)}function r_(e){throw e}function uu(e,t){let{onStoppedNotification:n}=nt;n&&cr.setTimeout(()=>n(e,t))}var o_={closed:!0,next:ao,error:r_,complete:ao};var dr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rt(e){return e}function du(...e){return fu(e)}function fu(e){return e.length===0?rt:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var B=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=s_(n)?n:new lr(n,r,o);return ur(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=xh(r),new r((o,i)=>{let s=new lr({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[dr](){return this}pipe(...n){return fu(n)(this)}toPromise(n){return n=xh(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function xh(e){var t;return(t=e??nt.Promise)!==null&&t!==void 0?t:Promise}function i_(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}function s_(e){return e&&e instanceof yn||i_(e)&&Yi(e)}function a_(e){return O(e?.lift)}function H(e){return t=>{if(a_(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(e,t,n,r,o){return new hu(e,t,n,r,o)}var hu=class extends yn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var kh=ar(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=(()=>{class e extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Qi(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new kh}next(n){ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?su:(this.currentObservers=null,i.push(n),new ve(()=>{this.currentObservers=null,so(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new B;return n.source=this,n}}return e.create=(t,n)=>new Qi(t,n),e})(),Qi=class extends De{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:su}};var we=class extends De{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Ne=new B(e=>e.complete());function Ph(e){return e&&O(e.schedule)}function Lh(e){return e[e.length-1]}function Fh(e){return O(Lh(e))?e.pop():void 0}function Yt(e){return Ph(Lh(e))?e.pop():void 0}function wn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Xi(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function jh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vn(e){return this instanceof vn?(this.v=e,this):new vn(e)}function Uh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(g){return new Promise(function(v,y){i.push([f,g,v,y])>1||c(f,g)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(g){h(i[0][3],g)}}function u(f){f.value instanceof vn?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function $h(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof jh=="function"?jh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var es=e=>e&&typeof e.length=="number"&&typeof e!="function";function ts(e){return O(e?.then)}function ns(e){return O(e[dr])}function rs(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function os(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function c_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var is=c_();function ss(e){return O(e?.[is])}function as(e){return Uh(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield vn(n.read());if(o)return yield vn(void 0);yield yield vn(r)}}finally{n.releaseLock()}})}function cs(e){return O(e?.getReader)}function pe(e){if(e instanceof B)return e;if(e!=null){if(ns(e))return u_(e);if(es(e))return l_(e);if(ts(e))return d_(e);if(rs(e))return Bh(e);if(ss(e))return f_(e);if(cs(e))return h_(e)}throw os(e)}function u_(e){return new B(t=>{let n=e[dr]();if(O(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function l_(e){return new B(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function d_(e){return new B(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ji)})}function f_(e){return new B(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Bh(e){return new B(t=>{p_(e,t).catch(n=>t.error(n))})}function h_(e){return Bh(as(e))}function p_(e,t){var n,r,o,i;return Xi(this,void 0,void 0,function*(){try{for(n=$h(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Oe(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function us(e,t=0){return H((n,r)=>{n.subscribe(G(r,o=>Oe(r,e,()=>r.next(o),t),()=>Oe(r,e,()=>r.complete(),t),o=>Oe(r,e,()=>r.error(o),t)))})}function ls(e,t=0){return H((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Vh(e,t){return pe(e).pipe(ls(t),us(t))}function Hh(e,t){return pe(e).pipe(ls(t),us(t))}function zh(e,t){return new B(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Gh(e,t){return new B(n=>{let r;return Oe(n,t,()=>{r=e[is](),Oe(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>O(r?.return)&&r.return()})}function ds(e,t){if(!e)throw new Error("Iterable cannot be null");return new B(n=>{Oe(n,t,()=>{let r=e[Symbol.asyncIterator]();Oe(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function qh(e,t){return ds(as(e),t)}function Wh(e,t){if(e!=null){if(ns(e))return Vh(e,t);if(es(e))return zh(e,t);if(ts(e))return Hh(e,t);if(rs(e))return ds(e,t);if(ss(e))return Gh(e,t);if(cs(e))return qh(e,t)}throw os(e)}function ge(e,t){return t?Wh(e,t):pe(e)}function L(...e){let t=Yt(e);return ge(e,t)}function pu(e,t){let n=O(e)?e:()=>e,r=o=>o.error(n());return new B(t?o=>t.schedule(r,0,o):r)}function fs(e){return!!e&&(e instanceof B||O(e.lift)&&O(e.subscribe))}var En=ar(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function J(e,t){return H((n,r)=>{let o=0;n.subscribe(G(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:g_}=Array;function m_(e,t){return g_(t)?e(...t):e(t)}function Kh(e){return J(t=>m_(e,t))}var{isArray:y_}=Array,{getPrototypeOf:v_,prototype:w_,keys:E_}=Object;function Yh(e){if(e.length===1){let t=e[0];if(y_(t))return{args:t,keys:null};if(__(t)){let n=E_(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function __(e){return e&&typeof e=="object"&&v_(e)===w_}function Jh(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function gu(...e){let t=Yt(e),n=Fh(e),{args:r,keys:o}=Yh(e);if(r.length===0)return ge([],t);let i=new B(D_(r,t,o?s=>Jh(o,s):rt));return n?i.pipe(Kh(n)):i}function D_(e,t,n=rt){return r=>{Zh(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Zh(t,()=>{let u=ge(e[c],t),l=!1;u.subscribe(G(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Zh(e,t,n){e?Oe(n,e,t):t()}function Qh(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&t.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{i&&t.next(g),u++;let v=!1;pe(n(g,l++)).subscribe(G(t,y=>{o?.(y),i?f(y):t.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){let y=c.shift();s?Oe(t,s,()=>p(y)):p(y)}h()}catch(y){t.error(y)}}))};return e.subscribe(G(t,f,()=>{d=!0,h()})),()=>{a?.()}}function Ce(e,t,n=1/0){return O(t)?Ce((r,o)=>J((i,s)=>t(r,i,o,s))(pe(e(r,o))),n):(typeof t=="number"&&(n=t),H((r,o)=>Qh(r,o,e,n)))}function Xh(e=1/0){return Ce(rt,e)}function ep(){return Xh(1)}function fr(...e){return ep()(ge(e,Yt(e)))}function co(e){return new B(t=>{pe(e()).subscribe(t)})}function mt(e,t){return H((n,r)=>{let o=0;n.subscribe(G(r,i=>e.call(t,i,o++)&&r.next(i)))})}function uo(e){return H((t,n)=>{let r=null,o=!1,i;r=t.subscribe(G(n,void 0,void 0,s=>{i=pe(e(s,uo(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function hs(e,t){return O(t)?Ce(e,t,1):Ce(e,1)}function mu(e){return H((t,n)=>{let r=!1;t.subscribe(G(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function xt(e){return e<=0?()=>Ne:H((t,n)=>{let r=0;t.subscribe(G(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function tp(e=b_){return H((t,n)=>{let r=!1;t.subscribe(G(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function b_(){return new En}function yu(e){return H((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function kt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?mt((o,i)=>e(o,i,r)):rt,xt(1),n?mu(t):tp(()=>new En))}function ps(e){return e<=0?()=>Ne:H((t,n)=>{let r=[];t.subscribe(G(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function vu(...e){let t=Yt(e);return H((n,r)=>{(t?fr(e,n,t):fr(e,n)).subscribe(r)})}function yt(e,t){return H((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(G(r,c=>{o?.unsubscribe();let u=0,l=i++;pe(e(c,l)).subscribe(o=G(r,d=>r.next(t?t(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function lo(e){return H((t,n)=>{pe(e).subscribe(G(n,()=>n.complete(),ao)),!n.closed&&t.subscribe(n)})}function Ie(e,t,n){let r=O(e)||t||n?{next:e,error:t,complete:n}:e;return r?H((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(G(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):rt}var wu;function gs(){return wu}function vt(e){let t=wu;return wu=e,t}var np=Symbol("NotFound");function hr(e){return e===np||e?.name==="\u0275NotFound"}var C=class extends Error{code;constructor(t,n){super(Xt(t,n)),this.code=t}};function S_(e){return`NG0${Math.abs(e)}`}function Xt(e,t){return`${S_(e)}${t?": "+t:""}`}function z(e){for(let t in e)if(e[t]===z)return t;throw Error("")}function Jt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Jt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ku(e,t){return e?t?`${e} ${t}`:e:t||""}var R_=z({__forward_ref__:z});function _s(e){return e.__forward_ref__=_s,e.toString=function(){return Jt(this())},e}function xe(e){return Pu(e)?e():e}function Pu(e){return typeof e=="function"&&e.hasOwnProperty(R_)&&e.__forward_ref__===_s}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function gr(e){return{providers:e.providers||[],imports:e.imports||[]}}function yo(e){return A_(e,Ds)}function Lu(e){return yo(e)!==null}function A_(e,t){return e.hasOwnProperty(t)&&e[t]||null}function M_(e){let t=e?.[Ds]??null;return t||null}function _u(e){return e&&e.hasOwnProperty(ys)?e[ys]:null}var Ds=z({\u0275prov:z}),ys=z({\u0275inj:z}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Fu(e){return e&&!!e.\u0275providers}var ju=z({\u0275cmp:z}),Uu=z({\u0275dir:z}),$u=z({\u0275pipe:z}),Bu=z({\u0275mod:z}),ho=z({\u0275fac:z}),In=z({__NG_ELEMENT_ID__:z}),rp=z({__NG_ENV_ID__:z});function Vu(e){return Cs(e,"@NgModule"),e[Bu]||null}function Lt(e){return Cs(e,"@Component"),e[ju]||null}function bs(e){return Cs(e,"@Directive"),e[Uu]||null}function Hu(e){return Cs(e,"@Pipe"),e[$u]||null}function Cs(e,t){if(e==null)throw new C(-919,!1)}function vo(e){return typeof e=="string"?e:e==null?"":String(e)}function ap(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():vo(e)}var cp=z({ngErrorCode:z}),N_=z({ngErrorMessage:z}),O_=z({ngTokenPath:z});function zu(e,t){return up("",-200,t)}function Is(e,t){throw new C(-201,!1)}function up(e,t,n){let r=new C(t,e);return r[cp]=t,r[N_]=e,n&&(r[O_]=n),r}function x_(e){return e[cp]}var Du;function lp(){return Du}function Pe(e){let t=Du;return Du=e,t}function Gu(e,t,n){let r=yo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Is(e,"")}var k_={},_n=k_,P_="__NG_DI_FLAG__",bu=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Dn(n)||0;try{return this.injector.get(t,r&8?null:_n,r)}catch(o){if(hr(o))return o;throw o}}};function L_(e,t=0){let n=gs();if(n===void 0)throw new C(-203,!1);if(n===null)return Gu(e,void 0,t);{let r=F_(t),o=n.retrieve(e,r);if(hr(o)){if(r.optional)return null;throw o}return o}}function P(e,t=0){return(lp()||L_)(xe(e),t)}function m(e,t){return P(e,Dn(t))}function Dn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function F_(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Cu(e){let t=[];for(let n=0;n<e.length;n++){let r=xe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=j_(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(P(o,i))}else t.push(P(r))}return t}function j_(e){return e[P_]}function bn(e,t){let n=e.hasOwnProperty(ho);return n?e[ho]:null}function Ts(e,t){e.forEach(n=>Array.isArray(n)?Ts(n,t):t(n))}function qu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function wo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Tn={},ot=[],Et=new b(""),Wu=new b("",-1),Ku=new b(""),po=class{get(t,n=_n){if(n===_n){let o=up("",-201);throw o.name="\u0275NotFound",o}return n}};function it(e){return{\u0275providers:e}}function dp(e){return it([{provide:Et,multi:!0,useValue:e}])}function fp(...e){return{\u0275providers:Ss(!0,e),\u0275fromNgModule:!0}}function Ss(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Ts(t,s=>{let a=s;vs(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&hp(o,i),n}function hp(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Yu(o,i=>{t(i,r)})}}function vs(e,t,n,r){if(e=xe(e),!e)return!1;let o=null,i=_u(e),s=!i&&Lt(e);if(!i&&!s){let c=e.ngModule;if(i=_u(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)vs(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Ts(i.imports,l=>{vs(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&hp(u,t)}if(!a){let u=bn(o)||(()=>new o);t({provide:o,useFactory:u,deps:ot},o),t({provide:Ku,useValue:o,multi:!0},o),t({provide:Et,useValue:()=>P(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;Yu(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function Yu(e,t){for(let n of e)Fu(n)&&(n=n.\u0275providers),Array.isArray(n)?Yu(n,t):t(n)}var U_=z({provide:String,useValue:z});function pp(e){return e!==null&&typeof e=="object"&&U_ in e}function $_(e){return!!(e&&e.useExisting)}function B_(e){return!!(e&&e.useFactory)}function ws(e){return typeof e=="function"}var Eo=new b(""),ms={},op={},Eu;function _o(){return Eu===void 0&&(Eu=new po),Eu}var le=class{},Cn=class extends le{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Tu(t,s=>this.processProvider(s)),this.records.set(Wu,pr(void 0,this)),o.has("environment")&&this.records.set(le,pr(void 0,this));let i=this.records.get(Eo);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ku,ot,{self:!0}))}retrieve(t,n){let r=Dn(n)||0;try{return this.get(t,_n,r)}catch(o){if(hr(o))return o;throw o}}destroy(){fo(this),this._destroyed=!0;let t=M(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),M(t)}}onDestroy(t){return fo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){fo(this);let n=vt(this),r=Pe(void 0),o;try{return t()}finally{vt(n),Pe(r)}}get(t,n=_n,r){if(fo(this),t.hasOwnProperty(rp))return t[rp](this);let o=Dn(r),i,s=vt(this),a=Pe(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let l=q_(t)&&yo(t);l&&this.injectableDefInScope(l)?u=pr(Iu(t),ms):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?_o():this.parent;return n=o&8&&n===_n?null:n,c.get(t,n)}catch(c){let u=x_(c);throw u===-200||u===-201?new C(u,null):c}finally{Pe(a),vt(s)}}resolveInjectorInitializers(){let t=M(null),n=vt(this),r=Pe(void 0),o;try{let i=this.get(Et,ot,{self:!0});for(let s of i)s()}finally{vt(n),Pe(r),M(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Jt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=xe(t);let n=ws(t)?t:xe(t&&t.provide),r=H_(t);if(!ws(t)&&t.multi===!0){let o=this.records.get(n);o||(o=pr(void 0,ms,!0),o.factory=()=>Cu(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=M(null);try{if(n.value===op)throw zu(Jt(t));return n.value===ms&&(n.value=op,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&G_(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{M(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=xe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Iu(e){let t=yo(e),n=t!==null?t.factory:bn(e);if(n!==null)return n;if(e instanceof b)throw new C(204,!1);if(e instanceof Function)return V_(e);throw new C(204,!1)}function V_(e){if(e.length>0)throw new C(204,!1);let n=M_(e);return n!==null?()=>n.factory(e):()=>new e}function H_(e){if(pp(e))return pr(void 0,e.useValue);{let t=gp(e);return pr(t,ms)}}function gp(e,t,n){let r;if(ws(e)){let o=xe(e);return bn(o)||Iu(o)}else if(pp(e))r=()=>xe(e.useValue);else if(B_(e))r=()=>e.useFactory(...Cu(e.deps||[]));else if($_(e))r=(o,i)=>P(xe(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=xe(e&&(e.useClass||e.provide));if(z_(e))r=()=>new o(...Cu(e.deps));else return bn(o)||Iu(o)}return r}function fo(e){if(e.destroyed)throw new C(205,!1)}function pr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function z_(e){return!!e.deps}function G_(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function q_(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Tu(e,t){for(let n of e)Array.isArray(n)?Tu(n,t):n&&Fu(n)?Tu(n.\u0275providers,t):t(n)}function be(e,t){let n;e instanceof Cn?(fo(e),n=e):n=new bu(e);let r,o=vt(n),i=Pe(void 0);try{return t()}finally{vt(o),Pe(i)}}function mp(){return lp()!==void 0||gs()!=null}var Re=0,I=1,k=2,se=3,Ke=4,Ye=5,ke=6,mr=7,ae=8,Fe=9,Ft=10,X=11,yr=12,Ju=13,Sn=14,Ae=15,Rn=16,An=17,Mn=18,Do=19,Zu=20,Pt=21,Rs=22,bo=23,je=24,Nn=25,On=26,W=27,yp=1,st=6,_t=7,Co=8,Io=9,re=10;function Je(e){return Array.isArray(e)&&typeof e[yp]=="object"}function Ue(e){return Array.isArray(e)&&e[yp]===!0}function Qu(e){return(e.flags&4)!==0}function en(e){return e.componentOffset>-1}function As(e){return(e.flags&1)===1}function xn(e){return!!e.template}function kn(e){return(e[k]&512)!==0}function tn(e){return(e[k]&256)===256}var vp="svg",wp="math";function $e(e){for(;Array.isArray(e);)e=e[Re];return e}function Ep(e,t){return $e(t[e])}function Dt(e,t){return $e(t[e.index])}function vr(e,t){return e.data[t]}function bt(e,t){let n=t[e];return Je(n)?n:n[Re]}function Ms(e){return(e[k]&128)===128}function _p(e){return Ue(e[se])}function Ct(e,t){return t==null?null:e[t]}function Xu(e){e[An]=0}function el(e){e[k]&1024||(e[k]|=1024,Ms(e)&&wr(e))}function Dp(e,t){for(;e>0;)t=t[Sn],e--;return t}function To(e){return!!(e[k]&9216||e[je]?.dirty)}function Ns(e){e[Ft].changeDetectionScheduler?.notify(8),e[k]&64&&(e[k]|=1024),To(e)&&wr(e)}function wr(e){e[Ft].changeDetectionScheduler?.notify(0);let t=Zt(e);for(;t!==null&&!(t[k]&8192||(t[k]|=8192,!Ms(t)));)t=Zt(t)}function tl(e,t){if(tn(e))throw new C(911,!1);e[Pt]===null&&(e[Pt]=[]),e[Pt].push(t)}function bp(e,t){if(e[Pt]===null)return;let n=e[Pt].indexOf(t);n!==-1&&e[Pt].splice(n,1)}function Zt(e){let t=e[se];return Ue(t)?t[se]:t}function Cp(e){return e[mr]??=[]}function Ip(e){return e.cleanup??=[]}var j={lFrame:Up(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Su=!1;function Tp(){return j.lFrame.elementDepthCount}function Sp(){j.lFrame.elementDepthCount++}function nl(){j.lFrame.elementDepthCount--}function Rp(){return j.bindingsEnabled}function rl(){return j.skipHydrationRootTNode!==null}function ol(e){return j.skipHydrationRootTNode===e}function Ap(e){j.skipHydrationRootTNode=e}function il(){j.skipHydrationRootTNode=null}function Z(){return j.lFrame.lView}function nn(){return j.lFrame.tView}function at(){let e=sl();for(;e!==null&&e.type===64;)e=e.parent;return e}function sl(){return j.lFrame.currentTNode}function Mp(){let e=j.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Er(e,t){let n=j.lFrame;n.currentTNode=e,n.isParent=t}function al(){return j.lFrame.isParent}function Np(){j.lFrame.isParent=!1}function cl(){return Su}function ul(e){let t=Su;return Su=e,t}function Op(){return j.lFrame.bindingIndex}function xp(e){return j.lFrame.bindingIndex=e}function Os(){return j.lFrame.bindingIndex++}function kp(e){let t=j.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Pp(){return j.lFrame.inI18n}function Lp(e,t){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=e,xs(t)}function Fp(){return j.lFrame.currentDirectiveIndex}function xs(e){j.lFrame.currentDirectiveIndex=e}function ll(e){j.lFrame.currentQueryIndex=e}function W_(e){let t=e[I];return t.type===2?t.declTNode:t.type===1?e[Ye]:null}function dl(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=W_(i),o===null||(i=i[Sn],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=j.lFrame=jp();return r.currentTNode=t,r.lView=e,!0}function ks(e){let t=jp(),n=e[I];j.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function jp(){let e=j.lFrame,t=e===null?null:e.child;return t===null?Up(e):t}function Up(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function $p(){let e=j.lFrame;return j.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var fl=$p;function Ps(){let e=$p();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Bp(e){return(j.lFrame.contextLView=Dp(e,j.lFrame.contextLView))[ae]}function _r(){return j.lFrame.selectedIndex}function rn(e){j.lFrame.selectedIndex=e}function hl(){return j.lFrame.currentNamespace}var Vp=!0;function Ls(){return Vp}function jt(e){Vp=e}function Ru(e,t=null,n=null,r){let o=pl(e,t,n,r);return o.resolveInjectorInitializers(),o}function pl(e,t=null,n=null,r,o=new Set){let i=[n||ot,fp(e)];return r=r||(typeof e=="object"?void 0:Jt(e)),new Cn(i,t||_o(),r||null,o)}var Le=class e{static THROW_IF_NOT_FOUND=_n;static NULL=new po;static create(t,n){if(Array.isArray(t))return Ru({name:""},n,t,"");{let r=t.name??"";return Ru({name:r},t.parent,t.providers,r)}}static \u0275prov=R({token:e,providedIn:"any",factory:()=>P(Wu)});static __NG_ELEMENT_ID__=-1},oe=new b(""),Ut=(()=>{class e{static __NG_ELEMENT_ID__=K_;static __NG_ENV_ID__=n=>n}return e})(),Au=class extends Ut{_lView;constructor(t){super(),this._lView=t}get destroyed(){return tn(this._lView)}onDestroy(t){let n=this._lView;return tl(n,t),()=>bp(n,t)}};function K_(){return new Au(Z())}var Hp=!1,It=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new we(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new B(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})(),Mu=class extends De{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,mp()&&(this.destroyRef=m(Ut,{optional:!0})??void 0,this.pendingTasks=m(It,{optional:!0})??void 0)}emit(t){let n=M(null);try{super.next(t)}finally{M(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof ve&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Te=Mu;function Es(...e){}function gl(e){let t,n;function r(){e=Es;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function ml(e){return queueMicrotask(()=>e()),()=>{e=Es}}var yl="isAngularZone",go=yl+"_ID",Y_=0,Se=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Te(!1);onMicrotaskEmpty=new Te(!1);onStable=new Te(!1);onError=new Te(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Hp}=t;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,Q_(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yl)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new C(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,J_,Es,Es);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},J_={};function vl(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Z_(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){gl(()=>{e.callbackScheduled=!1,Nu(e),e.isCheckStableRunning=!0,vl(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Nu(e)}function Q_(e){let t=()=>{Z_(e)},n=Y_++;e._inner=e._inner.fork({name:"angular",properties:{[yl]:!0,[go]:n,[go+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(X_(c))return r.invokeTask(i,s,a,c);try{return ip(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),sp(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return ip(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!eD(c)&&t(),sp(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Nu(e),vl(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Nu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function ip(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sp(e){e._nesting--,vl(e)}var mo=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Te;onMicrotaskEmpty=new Te;onStable=new Te;onError=new Te;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function X_(e){return zp(e,"__ignore_ng_zone__")}function eD(e){return zp(e,"__scheduler_tick__")}function zp(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var wt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ct=new b("",{factory:()=>{let e=m(Se),t=m(le),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(wt),n.handleError(r))})}}}),Gp={provide:Et,useValue:()=>{let e=m(wt,{optional:!0})},multi:!0},tD=new b("",{factory:()=>{let e=m(oe).defaultView;if(!e)return;let t=m(ct),n=i=>{t(i.reason),i.preventDefault()},r=i=>{i.error?t(i.error):t(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),m(Ut).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function wl(){return it([dp(()=>void m(tD))])}function Ze(e,t){let[n,r,o]=ou(e,t?.equal),i=n,s=i[We];return i.set=r,i.update=o,i.asReadonly=qp.bind(i),i}function qp(){let e=this[We];if(e.readonlyFn===void 0){let t=()=>this();t[We]=e,e.readonlyFn=t}return e.readonlyFn}var Fs=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=nD}return e})();function nD(){return new Fs(Z(),at())}var Qt=class{},So=new b("",{factory:()=>!0});var El=new b(""),js=(()=>{class e{internalPendingTasks=m(It);scheduler=m(Qt);errorHandler=m(ct);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})(),_l=(()=>{class e{static \u0275prov=R({token:e,providedIn:"root",factory:()=>new Ou})}return e})(),Ou=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},xu=class{[We];constructor(t){this[We]=t}destroy(){this[We].destroy()}};function $t(e){return iu(e)}var Us={JSACTION:"jsaction"};function Lo(e){return{toString:e}.toString()}function pD(e){return typeof e=="function"}function Sg(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Gs=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},ca=(()=>{let e=()=>Rg;return e.ngInherit=!0,e})();function Rg(e){return e.type.prototype.ngOnChanges&&(e.setInput=mD),gD}function gD(){let e=Mg(this),t=e?.current;if(t){let n=e.previous;if(n===Tn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function mD(e,t,n,r,o){let i=this.declaredInputs[r],s=Mg(e)||yD(e,{previous:Tn,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Gs(u&&u.currentValue,n,c===Tn),Sg(e,t,o,n)}var Ag="__ngSimpleChanges__";function Mg(e){return e[Ag]||null}function yD(e,t){return e[Ag]=t}var Wp=[];var $=function(e,t=null,n){for(let r=0;r<Wp.length;r++){let o=Wp[r];o(e,t,n)}},F=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(F||{});function vD(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Rg(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function wD(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function $s(e,t,n){Ng(e,t,3,n)}function Bs(e,t,n,r){(e[k]&3)===n&&Ng(e,t,n,r)}function Dl(e,t){let n=e[k];(n&3)===t&&(n&=16383,n+=1,e[k]=n)}function Ng(e,t,n,r){let o=r!==void 0?e[An]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[An]+=65536),(a<i||i==-1)&&(ED(e,n,t,c),e[An]=(e[An]&4294901760)+c+2),c++}function Kp(e,t){$(F.LifecycleHookStart,e,t);let n=M(null);try{t.call(e)}finally{M(n),$(F.LifecycleHookEnd,e,t)}}function ED(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[k]>>14<e[An]>>16&&(e[k]&3)===t&&(e[k]+=16384,Kp(a,i)):Kp(a,i)}var br=-1,Mo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function _D(e){return(e.flags&8)!==0}function DD(e){return(e.flags&16)!==0}function bD(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];ID(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function CD(e){return e===3||e===4||e===6}function ID(e){return e.charCodeAt(0)===64}function ua(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Yp(e,n,o,null,t[++r]):Yp(e,n,o,null,null))}}return e}function Yp(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function Og(e){return e!==br}function qs(e){return e&32767}function TD(e){return e>>16}function Ws(e,t){let n=TD(e),r=t;for(;n>0;)r=r[Sn],n--;return r}var Ml=!0;function Jp(e){let t=Ml;return Ml=e,t}var SD=256,xg=SD-1,kg=5,RD=0,Tt={};function AD(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(In)&&(r=n[In]),r==null&&(r=n[In]=RD++);let o=r&xg,i=1<<o;t.data[e+(o>>kg)]|=i}function Pg(e,t){let n=Lg(e,t);if(n!==-1)return n;let r=t[I];r.firstCreatePass&&(e.injectorIndex=t.length,bl(r.data,e),bl(t,null),bl(r.blueprint,null));let o=Jl(e,t),i=e.injectorIndex;if(Og(o)){let s=qs(o),a=Ws(o,t),c=a[I].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function bl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Lg(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Jl(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=Bg(o),r===null)return br;if(n++,o=o[Sn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return br}function MD(e,t,n){AD(e,t,n)}function Fg(e,t,n){if(n&8||e!==void 0)return e;Is(t,"NodeInjector")}function jg(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[Fe],i=Pe(void 0);try{return o?o.get(t,r,n&8):Gu(t,r,n&8)}finally{Pe(i)}}return Fg(r,t,n)}function Ug(e,t,n,r=0,o){if(e!==null){if(t[k]&2048&&!(r&2)){let s=PD(e,t,n,r,Tt);if(s!==Tt)return s}let i=$g(e,t,n,r,Tt);if(i!==Tt)return i}return jg(t,n,r,o)}function $g(e,t,n,r,o){let i=xD(n);if(typeof i=="function"){if(!dl(t,e,r))return r&1?Fg(o,n,r):jg(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Is(n);else return s}finally{fl()}}else if(typeof i=="number"){let s=null,a=Lg(e,t),c=br,u=r&1?t[Ae][Ye]:null;for((a===-1||r&4)&&(c=a===-1?Jl(e,t):t[a+8],c===br||!Qp(r,!1)?a=-1:(s=t[I],a=qs(c),t=Ws(c,t)));a!==-1;){let l=t[I];if(Zp(i,a,l.data)){let d=ND(a,t,n,s,r,u);if(d!==Tt)return d}c=t[a+8],c!==br&&Qp(r,t[I].data[a+8]===u)&&Zp(i,a,t)?(s=l,a=qs(c),t=Ws(c,t)):a=-1}}return o}function ND(e,t,n,r,o,i){let s=t[I],a=s.data[e+8],c=r==null?en(a)&&Ml:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=OD(a,s,n,c,u);return l!==null?Nl(t,s,l,a,o):Tt}function OD(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&xn(f)&&f.type===n)return c}return null}function Nl(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof Mo){let a=i;if(a.resolving){let f=ap(s[n]);throw zu(f)}let c=Jp(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Pe(a.injectImpl):null,h=dl(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&vD(n,s[n],t)}finally{d!==null&&Pe(d),Jp(c),a.resolving=!1,fl()}}return i}function xD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(In)?e[In]:void 0;return typeof t=="number"?t>=0?t&xg:kD:t}function Zp(e,t,n){let r=1<<e;return!!(n[t+(e>>kg)]&r)}function Qp(e,t){return!(e&2)&&!(e&1&&t)}var Ln=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ug(this._tNode,this._lView,t,Dn(r),n)}};function kD(){return new Ln(at(),Z())}function la(e){return Lo(()=>{let t=e.prototype.constructor,n=t[ho]||Ol(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[ho]||Ol(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Ol(e){return Pu(e)?()=>{let t=Ol(xe(e));return t&&t()}:bn(e)}function PD(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[k]&2048&&!kn(s);){let a=$g(i,s,n,r|2,Tt);if(a!==Tt)return a;let c=i.parent;if(!c){let u=s[Zu];if(u){let l=u.get(n,Tt,r);if(l!==Tt)return l}c=Bg(s),s=s[Sn]}i=c}return o}function Bg(e){let t=e[I],n=t.type;return n===2?t.declTNode:n===1?e[Ye]:null}function LD(){return Zl(at(),Z())}function Zl(e,t){return new Ql(Dt(e,t))}var Ql=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=LD}return e})();var Vg="ngSkipHydration",FD="ngskiphydration";function Hg(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===FD)return!0}return!1}function zg(e){return e.hasAttribute(Vg)}function Ks(e){return(e.flags&128)===128}function Gg(e){if(Ks(e))return!0;let t=e.parent;for(;t;){if(Ks(e)||Hg(t))return!0;t=t.parent}return!1}var Xl=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(Xl||{}),qg=new Map,jD=0;function UD(){return jD++}function $D(e){qg.set(e[Do],e)}function xl(e){qg.delete(e[Do])}var Xp="__ngContext__";function Tr(e,t){Je(t)?(e[Xp]=t[Do],$D(t)):e[Xp]=t}function Wg(e){return Yg(e[yr])}function Kg(e){return Yg(e[Ke])}function Yg(e){for(;e!==null&&!Ue(e);)e=e[Ke];return e}var kl;function ed(e){kl=e}function Jg(){if(kl!==void 0)return kl;if(typeof document<"u")return document;throw new C(210,!1)}var St=new b("",{factory:()=>BD}),BD="ng";var da=new b(""),Fo=new b("",{providedIn:"platform",factory:()=>"unknown"});var fa=new b("",{factory:()=>m(oe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Mr=(()=>{class e{static \u0275prov=R({token:e,providedIn:"root",factory:()=>{let n=new e;return n.store=VD(m(oe),m(St)),n}});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function VD(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var Zg="h",Qg="b",HD="f",zD="n",Xg="e",em="t",ha="c",td="x",No="r",tm="i",nm="n",nd="d";var rm="di",om="s",im="p";var jo=new b(""),sm=!1,rd=new b("",{factory:()=>sm});var od=new b(""),am=!1,cm=new b(""),id=new b("",{factory:()=>new Map});var Uo="ngb";var um=(e,t,n)=>{let r=e,o=r.__jsaction_fns??new Map,i=o.get(t)??[];i.push(n),o.set(t,i),r.__jsaction_fns=o},lm=(e,t)=>{let n=e,r=n.getAttribute(Uo)??"",o=t.get(r)??new Set;o.has(n)||o.add(n),t.set(r,o)};var dm=e=>{e.removeAttribute(Us.JSACTION),e.removeAttribute(Uo),e.__jsaction_fns=void 0},fm=new b("",{factory:()=>({})});function sd(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var Pl=new Map;function hm(e,t){return Pl.set(e,t),()=>Pl.delete(e)}var eg=!1,pm=(e,t,n,r)=>{};function GD(e,t,n,r){pm(e,t,n,r)}function gm(){eg||(pm=(e,t,n,r)=>{let o=e[Fe].get(St);Pl.get(o)?.(t,n,r)},eg=!0)}var pa=new b("");function ga(e){return(e.flags&32)===32}var qD="__nghData__",ad=qD,WD="__nghDeferData__",mm=WD;var Vs="ngh",ym="nghm",vm=()=>null;function KD(e,t,n=!1){let r=e.getAttribute(Vs);if(r==null)return null;let[o,i]=r.split("|");if(r=n?i:o,!r)return null;let s=i?`|${i}`:"",a=n?o:s,c={};if(r!==""){let l=t.get(Mr,null,{optional:!0});l!==null&&(c=l.get(ad,[])[Number(r)])}let u={data:c,firstChild:e.firstChild??null};return n&&(u.firstChild=e,ma(u,0,e.nextSibling)),a?e.setAttribute(Vs,a):e.removeAttribute(Vs),u}function wm(){vm=KD}function Em(e,t,n=!1){return vm(e,t,n)}function _m(e){let t=e._lView;return t[I].type===2?null:(kn(t)&&(t=t[W]),t)}function YD(e){return e.textContent?.replace(/\s/gm,"")}function JD(e){let t=Jg(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(i){let s=YD(i);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,o=[];for(;r=n.nextNode();)o.push(r);for(let i of o)i.textContent==="ngetn"?i.replaceWith(t.createTextNode("")):i.remove()}function ma(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Ll(e,t){return e.segmentHeads?.[t]??null}function Dm(e){return e.get(cm,!1,{optional:!0})}function ZD(e,t){let n=e.data,r=n[Xg]?.[t]??null;return r===null&&n[ha]?.[t]&&(r=cd(e,t)),r}function bm(e,t){return e.data[ha]?.[t]??null}function cd(e,t){let n=bm(e,t)??[],r=0;for(let o of n)r+=o[No]*(o[td]??1);return r}function QD(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[nd];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function Cm(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[nd];e.disconnectedNodes=n?new Set(n):null}return!!QD(e)?.has(t)}function ya(e,t){let n=e[ke];return n!==null&&!rl()&&!ga(t)&&!Cm(n,t.index-W)}function XD(e,t){let n=t.get(pa),o=t.get(Mr).get(mm,{}),i=!1,s=e,a=null,c=[];for(;!i&&s;){i=n.has(s);let u=n.hydrating.get(s);if(a===null&&u!=null){a=u.promise;break}c.unshift(s),s=o[s][im]}return{parentBlockPromise:a,hydrationQueue:c}}function Cl(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===ym}function tg(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function Im(e){for(let r of e.body.childNodes)if(Cl(r))return;let t=tg(e.body.previousSibling);if(Cl(t))return;let n=tg(e.head.lastChild);if(!Cl(n))throw new C(-507,!1)}function Tm(e,t){let n=e.contentQueries;if(n!==null){let r=M(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];ll(i),a.contentQueries(2,t[s],s)}}}finally{M(r)}}}function Fl(e,t,n){ll(0);let r=M(null);try{t(e,n)}finally{M(r)}}function Sm(e,t,n){if(Qu(t)){let r=M(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{M(r)}}}var lt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(lt||{});var eb=/^>|^->|<!--|-->|--!>|<!-$/g,tb=/(<|>)/g,nb="\u200B$1\u200B";function rb(e){return e.replace(eb,t=>t.replace(tb,nb))}function Rm(e,t){return e.createText(t)}function ob(e,t,n){e.setValue(t,n)}function Am(e,t){return e.createComment(rb(t))}function ud(e,t,n){return e.createElement(t,n)}function Ys(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Mm(e,t,n){e.appendChild(t,n)}function ng(e,t,n,r,o){r!==null?Ys(e,t,n,r,o):Mm(e,t,n)}function ld(e,t,n,r){e.removeChild(null,t,n,r)}function Nm(e){e.textContent=""}function ib(e,t,n){e.setAttribute(t,"style",n)}function sb(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Om(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&bD(e,t,r),o!==null&&sb(e,t,o),i!==null&&ib(e,t,i)}function xm(e){return e.ownerDocument.body}function km(e){return e instanceof Function?e():e}function ab(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Pm="ng-template";function cb(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&ab(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(dd(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function dd(e){return e.type===4&&e.value!==Pm}function ub(e,t,n){let r=e.type===4&&!n?Pm:e.value;return t===r}function lb(e,t,n){let r=4,o=e.attrs,i=o!==null?hb(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!ut(r)&&!ut(c))return!1;if(s&&ut(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!ub(e,c,n)||c===""&&t.length===1){if(ut(r))return!1;s=!0}}else if(r&8){if(o===null||!cb(e,o,c,n)){if(ut(r))return!1;s=!0}}else{let u=t[++a],l=db(c,o,dd(e),n);if(l===-1){if(ut(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(ut(r))return!1;s=!0}}}}return ut(r)||s}function ut(e){return(e&1)===0}function db(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return pb(t,e)}function fb(e,t,n=!1){for(let r=0;r<t.length;r++)if(lb(e,t[r],n))return!0;return!1}function hb(e){for(let t=0;t<e.length;t++){let n=e[t];if(CD(n))return t}return e.length}function pb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function rg(e,t){return e?":not("+t.trim()+")":t}function gb(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!ut(s)&&(t+=rg(i,o),o=""),r=s,i=i||!ut(r);n++}return o!==""&&(t+=rg(i,o)),t}function mb(e){return e.map(gb).join(",")}function yb(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!ut(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Bt={};function fd(e,t,n,r,o,i,s,a,c,u,l){let d=W+r,h=d+o,f=vb(d,h),p=typeof u=="function"?u():u;return f[I]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function vb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Bt);return n}function wb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=fd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function hd(e,t,n,r,o,i,s,a,c,u,l){let d=t.blueprint.slice();return d[Re]=o,d[k]=r|4|128|8|64|1024,(u!==null||e&&e[k]&2048)&&(d[k]|=2048),Xu(d),d[se]=d[Sn]=e,d[ae]=n,d[Ft]=s||e&&e[Ft],d[X]=a||e&&e[X],d[Fe]=c||e&&e[Fe]||null,d[Ye]=i,d[Do]=UD(),d[ke]=l,d[Zu]=u,d[Ae]=t.type==2?e[Ae]:d,d}function Eb(e,t,n){let r=Dt(t,e),o=wb(n),i=e[Ft].rendererFactory,s=pd(e,hd(e,o,null,Lm(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Lm(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Fm(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function pd(e,t){return e[yr]?e[Ju][Ke]=t:e[yr]=t,e[Ju]=t,t}function Nr(e=1){jm(nn(),Z(),_r()+e,!1)}function jm(e,t,n,r){if(!r)if((t[k]&3)===3){let i=e.preOrderCheckHooks;i!==null&&$s(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Bs(t,i,0,n)}rn(n)}var va=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(va||{});function jl(e,t,n,r){let o=M(null);try{let[i,s,a]=e.inputs[n],c=null;(s&va.SignalBased)!==0&&(c=t[i][We]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Sg(t,c,i,r)}finally{M(o)}}var $n=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})($n||{}),_b;function gd(e,t){return _b(e,t)}var Fn=new Set,wa=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(wa||{}),on=new b(""),og=new Set;function Qe(e){og.has(e)||(og.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var md=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})(),Um=[0,1,2,3],$m=(()=>{class e{ngZone=m(Se);scheduler=m(Qt);errorHandler=m(wt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(on,{optional:!0})}execute(){let n=this.sequences.size>0;n&&$(F.AfterRenderHooksStart),this.executing=!0;for(let r of Um)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&$(F.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Nn]??=[]).push(n),wr(r),r[k]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(wa.AFTER_NEXT_RENDER,n):n()}static \u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})(),Js=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Nn];t&&(this.view[Nn]=t.filter(n=>n!==this))}};function yd(e,t){let n=t?.injector??m(Le);return Qe("NgAfterNextRender"),bb(e,n,t,!0)}function Db(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function bb(e,t,n,r){let o=t.get(md);o.impl??=t.get($m);let i=t.get(on,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Ut):null,a=t.get(Fs,null,{optional:!0}),c=new Js(o.impl,Db(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var Bm=new b("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:m(le)})});function Vm(e,t,n){let r=e.get(Bm);if(Array.isArray(t))for(let o of t)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function Cb(e,t){let n=e.get(Bm);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function Ib(e,t){for(let[n,r]of t)Vm(e,r.animateFns)}function ig(e,t,n,r){let o=e?.[On]?.enter;t!==null&&o&&o.has(n.index)&&Ib(r,o)}function Dr(e,t,n,r,o,i,s,a){if(o!=null){let c,u=!1;Ue(o)?c=o:Je(o)&&(u=!0,o=o[Re]);let l=$e(o);e===0&&r!==null?(ig(a,r,i,n),s==null?Mm(t,r,l):Ys(t,r,l,s||null,!0)):e===1&&r!==null?(ig(a,r,i,n),Ys(t,r,l,s||null,!0)):e===2?sg(a,i,n,d=>{ld(t,l,u,d)}):e===3&&sg(a,i,n,()=>{t.destroyNode(l)}),c!=null&&jb(t,e,n,c,i,r,s)}}function Tb(e,t){Hm(e,t),t[Re]=null,t[Ye]=null}function Sb(e,t,n,r,o,i){r[Re]=o,r[Ye]=t,_a(e,r,n,1,o,i)}function Hm(e,t){t[Ft].changeDetectionScheduler?.notify(9),_a(e,t,t[X],2,null,null)}function Rb(e){let t=e[yr];if(!t)return Il(e[I],e);for(;t;){let n=null;if(Je(t))n=t[yr];else{let r=t[re];r&&(n=r)}if(!n){for(;t&&!t[Ke]&&t!==e;)Je(t)&&Il(t[I],t),t=t[se];t===null&&(t=e),Je(t)&&Il(t[I],t),n=t&&t[Ke]}t=n}}function vd(e,t){let n=e[Io],r=n.indexOf(t);n.splice(r,1)}function Ea(e,t){if(tn(t))return;let n=t[X];n.destroyNode&&_a(e,t,n,3,null,null),Rb(t)}function Il(e,t){if(tn(t))return;let n=M(null);try{t[k]&=-129,t[k]|=256,t[je]&&oo(t[je]),Nb(e,t),Mb(e,t),t[I].type===1&&t[X].destroy();let r=t[Rn];if(r!==null&&Ue(t[se])){r!==t[se]&&vd(r,t);let o=t[Mn];o!==null&&o.detachView(e)}xl(t)}finally{M(n)}}function sg(e,t,n,r){let o=e?.[On];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);e&&Fn.add(e),Vm(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),Ab(e,r)}else e&&Fn.delete(e),r(!1)},o)}function Ab(e,t){let n=e[On]?.running;if(n){n.then(()=>{e[On].running=void 0,Fn.delete(e),t(!0)});return}t(!1)}function Mb(e,t){let n=e.cleanup,r=t[mr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[mr]=null);let o=t[Pt];if(o!==null){t[Pt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[bo];if(i!==null){t[bo]=null;for(let s of i)s.destroy()}}function Nb(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof Mo)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];$(F.LifecycleHookStart,a,c);try{c.call(a)}finally{$(F.LifecycleHookEnd,a,c)}}else{$(F.LifecycleHookStart,o,i);try{i.call(o)}finally{$(F.LifecycleHookEnd,o,i)}}}}}function Ob(e,t,n){return xb(e,t.parent,n)}function xb(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Re];if(en(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===lt.None||o===lt.Emulated)return null}return Dt(r,n)}function kb(e,t,n){return Lb(e,t,n)}function Pb(e,t,n){return e.type&40?Dt(e,n):null}var Lb=Pb,ag;function wd(e,t,n,r){let o=Ob(e,r,t),i=t[X],s=r.parent||t[Ye],a=kb(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)ng(i,o,n[c],a,!1);else ng(i,o,n,a,!1);ag!==void 0&&ag(i,r,t,n,o)}function Ro(e,t){if(t!==null){let n=t.type;if(n&3)return Dt(t,e);if(n&4)return Ul(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ro(e,r);{let o=e[t.index];return Ue(o)?Ul(-1,o):$e(o)}}else{if(n&128)return Ro(e,t.next);if(n&32)return gd(t,e)()||$e(e[t.index]);{let r=zm(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Zt(e[Ae]);return Ro(o,r)}else return Ro(e,t.next)}}}return null}function zm(e,t){if(t!==null){let r=e[Ae][Ye],o=t.projection;return r.projection[o]}return null}function Ul(e,t){let n=re+e+1;if(n<t.length){let r=t[n],o=r[I].firstChild;if(o!==null)return Ro(r,o)}return t[_t]}function Ed(e,t,n,r,o,i,s){for(;n!=null;){let a=r[Fe];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&t===0&&(c&&Tr($e(c),r),n.flags|=2),!ga(n))if(u&8)Ed(e,t,n.child,r,o,i,!1),Dr(t,e,a,o,c,n,i,r);else if(u&32){let l=gd(n,r),d;for(;d=l();)Dr(t,e,a,o,d,n,i,r);Dr(t,e,a,o,c,n,i,r)}else u&16?Fb(e,t,r,n,o,i):Dr(t,e,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function _a(e,t,n,r,o,i){Ed(n,r,e.firstChild,t,o,i,!1)}function Fb(e,t,n,r,o,i){let s=n[Ae],c=s[Ye].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Dr(t,e,n[Fe],o,l,r,i,n)}else{let u=c,l=s[se];Ks(r)&&(u.flags|=128),Ed(e,t,u,l,o,i,!0)}}function jb(e,t,n,r,o,i,s){let a=r[_t],c=$e(r);a!==c&&Dr(t,e,n,i,a,o,s);for(let u=re;u<r.length;u++){let l=r[u];_a(l[I],l,e,t,i,a)}}function Gm(e,t,n,r,o){let i=_r(),s=r&2;try{rn(-1),s&&t.length>W&&jm(e,t,W,!1);let a=s?F.TemplateUpdateStart:F.TemplateCreateStart;$(a,o,n),n(r,o)}finally{rn(i);let a=s?F.TemplateUpdateEnd:F.TemplateCreateEnd;$(a,o,n)}}function qm(e,t,n){Vb(e,t,n),(n.flags&64)===64&&Hb(e,t,n)}function _d(e,t,n=Dt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function Ub(e,t,n,r){let i=r.get(rd,sm)||n===lt.ShadowDom||n===lt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,i);return $b(s),s}function $b(e){Wm(e)}var Wm=()=>null;function Bb(e){zg(e)?Nm(e):JD(e)}function Km(){Wm=Bb}function Vb(e,t,n){let r=n.directiveStart,o=n.directiveEnd;en(n)&&Eb(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Pg(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Nl(t,e,s,n);if(Tr(c,t),i!==null&&qb(t,s-r,c,a,n,i),xn(a)){let u=bt(n.index,t);u[ae]=Nl(t,e,s,n)}}}function Hb(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Fp();try{rn(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];xs(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&zb(c,u)}}finally{rn(-1),xs(s)}}function zb(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Gb(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];fb(t,i.selectors,!1)&&(r??=[],xn(i)?r.unshift(i):r.push(i))}return r}function qb(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];jl(r,n,c,u)}}function Ym(e,t,n,r,o){let i=W+n,s=t[I],a=o(s,t,e,r,n);t[i]=a,Er(e,!0);let c=e.type===2;return c?(Om(t[X],a,e),(Tp()===0||As(e))&&Tr(a,t),Sp()):Tr(a,t),Ls()&&(!c||!ga(e))&&wd(s,t,a,e),e}function Jm(e){let t=e;return al()?Np():(t=t.parent,Er(t,!1)),t}function Dd(e,t){let n=e[Fe];if(!n)return;let r;try{r=n.get(ct,null)}catch{r=null}r?.(t)}function Zm(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=t.data[u];jl(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=t.data[c];jl(l,u,r,o),a=!0}return a}function Wb(e,t){let n=bt(t,e),r=n[I];Kb(r,n);let o=n[Re];o!==null&&n[ke]===null&&(n[ke]=Em(o,n[Fe])),$(F.ComponentStart);try{bd(r,n,n[ae])}finally{$(F.ComponentEnd,n[ae])}}function Kb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function bd(e,t,n){ks(t);try{let r=e.viewQuery;r!==null&&Fl(1,r,n);let o=e.template;o!==null&&Gm(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Mn]?.finishViewCreation(e),e.staticContentQueries&&Tm(e,t),e.staticViewQueries&&Fl(2,e.viewQuery,n);let i=e.components;i!==null&&Yb(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[k]&=-5,Ps()}}function Yb(e,t){for(let n=0;n<t.length;n++)Wb(e,t[n])}function Da(e,t,n,r){let o=M(null);try{let i=t.tView,a=e[k]&4096?4096:16,c=hd(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[Rn]=u;let l=e[Mn];return l!==null&&(c[Mn]=l.createEmbeddedView(i)),bd(i,c,n),c}finally{M(o)}}function Sr(e,t){return!t||t.firstChild===null||Ks(e)}function Oo(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push($e(i)),Ue(i)&&Qm(i,r);let s=n.type;if(s&8)Oo(e,t,n.child,r);else if(s&32){let a=gd(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=zm(t,n);if(Array.isArray(a))r.push(...a);else{let c=Zt(t[Ae]);Oo(c[I],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Qm(e,t){for(let n=re;n<e.length;n++){let r=e[n],o=r[I].firstChild;o!==null&&Oo(r[I],r,o,t)}e[_t]!==e[Re]&&t.push(e[_t])}function Xm(e){if(e[Nn]!==null){for(let t of e[Nn])t.impl.addSequence(t);e[Nn].length=0}}var ey=[];function Jb(e){return e[je]??Zb(e)}function Zb(e){let t=ey.pop()??Object.create(Xb);return t.lView=e,t}function Qb(e){e.lView[je]!==e&&(e.lView=null,ey.push(e))}var Xb=Q(w({},Hi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{wr(e.lView)},consumerOnSignalRead(){this.lView[je]=this}});function eC(e){let t=e[je]??Object.create(tC);return t.lView=e,t}var tC=Q(w({},Hi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Zt(e.lView);for(;t&&!ty(t[I]);)t=Zt(t);t&&el(t)},consumerOnSignalRead(){this.lView[je]=this}});function ty(e){return e.type!==2}function ny(e){if(e[bo]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[bo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[k]&8192)}}var nC=100;function ry(e,t=0){let r=e[Ft].rendererFactory,o=!1;o||r.begin?.();try{rC(e,t)}finally{o||r.end?.()}}function rC(e,t){let n=cl();try{ul(!0),$l(e,t);let r=0;for(;To(e);){if(r===nC)throw new C(103,!1);r++,$l(e,1)}}finally{ul(n)}}function oC(e,t,n,r){if(tn(t))return;let o=t[k],i=!1,s=!1;ks(t);let a=!0,c=null,u=null;i||(ty(e)?(u=Jb(t),c=Gi(u)):Vi()===null?(a=!1,u=eC(t),c=Gi(u)):t[je]&&(oo(t[je]),t[je]=null));try{Xu(t),xp(e.bindingStartIndex),n!==null&&Gm(e,t,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&$s(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Bs(t,f,0,null),Dl(t,0)}if(s||iC(t),ny(t),oy(t,0),e.contentQueries!==null&&Tm(e,t),!i)if(l){let f=e.contentCheckHooks;f!==null&&$s(t,f)}else{let f=e.contentHooks;f!==null&&Bs(t,f,1),Dl(t,1)}aC(e,t);let d=e.components;d!==null&&sy(t,d,0);let h=e.viewQuery;if(h!==null&&Fl(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&$s(t,f)}else{let f=e.viewHooks;f!==null&&Bs(t,f,2),Dl(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Rs]){for(let f of t[Rs])f();t[Rs]=null}i||(Xm(t),t[k]&=-73)}catch(l){throw i||wr(t),l}finally{u!==null&&(tu(u,c),a&&Qb(u)),Ps()}}function oy(e,t){for(let n=Wg(e);n!==null;n=Kg(n))for(let r=re;r<n.length;r++){let o=n[r];iy(o,t)}}function iC(e){for(let t=Wg(e);t!==null;t=Kg(t)){if(!(t[k]&2))continue;let n=t[Io];for(let r=0;r<n.length;r++){let o=n[r];el(o)}}}function sC(e,t,n){$(F.ComponentStart);let r=bt(t,e);try{iy(r,n)}finally{$(F.ComponentEnd,r[ae])}}function iy(e,t){Ms(e)&&$l(e,t)}function $l(e,t){let r=e[I],o=e[k],i=e[je],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&qi(i)),s||=!1,i&&(i.dirty=!1),e[k]&=-9217,s)oC(r,e,r.template,e[ae]);else if(o&8192){let a=M(null);try{ny(e),oy(e,1);let c=r.components;c!==null&&sy(e,c,1),Xm(e)}finally{M(a)}}}function sy(e,t,n){for(let r=0;r<t.length;r++)sC(e,t[r],n)}function aC(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)rn(~o);else{let i=o,s=n[++r],a=n[++r];Lp(s,i);let c=t[i];$(F.HostBindingsUpdateStart,c);try{a(2,c)}finally{$(F.HostBindingsUpdateEnd,c)}}}}finally{rn(-1)}}function ba(e,t){let n=cl()?64:1088;for(e[Ft].changeDetectionScheduler?.notify(t);e;){e[k]|=n;let r=Zt(e);if(kn(e)&&!r)return e;e=r}return null}function ay(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function cy(e,t){let n=re+t;if(n<e.length)return e[n]}function $o(e,t,n,r=!0){let o=t[I];if(cC(o,t,e,n),r){let s=Ul(n,e),a=t[X],c=a.parentNode(e[_t]);c!==null&&Sb(o,e[Ye],a,t,c,s)}let i=t[ke];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Cd(e,t){let n=xo(e,t);return n!==void 0&&Ea(n[I],n),n}function xo(e,t){if(e.length<=re)return;let n=re+t,r=e[n];if(r){let o=r[Rn];o!==null&&o!==e&&vd(o,r),t>0&&(e[n-1][Ke]=r[Ke]);let i=wo(e,re+t);Tb(r[I],r);let s=i[Mn];s!==null&&s.detachView(i[I]),r[se]=null,r[Ke]=null,r[k]&=-129}return r}function cC(e,t,n,r){let o=re+r,i=n.length;r>0&&(n[o-1][Ke]=t),r<i-re?(t[Ke]=n[o],qu(n,re+r,t)):(n.push(t),t[Ke]=null),t[se]=n;let s=t[Rn];s!==null&&n!==s&&uy(s,t);let a=t[Mn];a!==null&&a.insertView(e),Ns(t),t[k]|=128}function uy(e,t){let n=e[Io],r=t[se];if(Je(r))e[k]|=2;else{let o=r[se][Ae];t[Ae]!==o&&(e[k]|=2)}n===null?e[Io]=[t]:n.push(t)}var jn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[I];return Oo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ae]}set context(t){this._lView[ae]=t}get destroyed(){return tn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[se];if(Ue(t)){let n=t[Co],r=n?n.indexOf(this):-1;r>-1&&(xo(t,r),wo(n,r))}this._attachedToViewContainer=!1}Ea(this._lView[I],this._lView)}onDestroy(t){tl(this._lView,t)}markForCheck(){ba(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){Ns(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,ry(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=kn(this._lView),n=this._lView[Rn];n!==null&&!t&&vd(n,this._lView),Hm(this._lView[I],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=t;let n=kn(this._lView),r=this._lView[Rn];r!==null&&!n&&uy(r,this._lView),Ns(this._lView)}};function Ca(e,t,n,r,o){let i=e.data[t];if(i===null)i=uC(e,t,n,r,o),Pp()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Mp();i.injectorIndex=s===null?-1:s.injectorIndex}return Er(i,!0),i}function uC(e,t,n,r,o){let i=sl(),s=al(),a=s?i:i&&i.parent,c=e.data[t]=dC(e,a,n,t,r,o);return lC(e,c,i,s),c}function lC(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function dC(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return rl()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var fC=new RegExp(`^(\\d+)*(${Qg}|${Zg})*(.*)`);function hC(e){let t=e.match(fC),[n,r,o,i]=t,s=r?parseInt(r,10):o,a=[];for(let[c,u,l]of i.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[s,...a]}function pC(e){return!e.prev&&e.parent?.type===8}function Tl(e){return e.index-W}function gC(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function Ia(e,t,n,r){let o=Tl(r),i=gC(e,o);if(i===void 0){let s=e.data[nm];if(s?.[o])i=yC(s[o],n);else if(t.firstChild===r)i=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(pC(r)){let u=Tl(r.parent);i=Ll(e,u)}else{let u=Dt(c,n);if(a)i=u.firstChild;else{let l=Tl(c),d=Ll(e,l);if(c.type===2&&d){let f=cd(e,l)+1;i=Ta(f,d)}else i=u.nextSibling}}}}return i}function Ta(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function mC(e,t){let n=e;for(let r=0;r<t.length;r+=2){let o=t[r],i=t[r+1];for(let s=0;s<i;s++)switch(o){case HD:n=n.firstChild;break;case zD:n=n.nextSibling;break}}return n}function yC(e,t){let[n,...r]=hC(e),o;if(n===Zg)o=t[Ae][Re];else if(n===Qg)o=xm(t[Ae][Re]);else{let i=Number(n);o=$e(t[i+W])}return mC(o,r)}var vC=!1;function ly(e){vC=e}function wC(e){let t=e[ke];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let o=e[X];for(let i of r.values())EC(o,n,i)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function EC(e,t,n){for(let r of n.node.cases[n.case]){let o=t.get(r.index-W);o&&ld(e,o,!1)}}function Sa(e){let t=e[st]??[],r=e[se][X],o=[];for(let i of t)i.data[rm]!==void 0?o.push(i):dy(i,r);e[st]=o}function _C(e){let{lContainer:t}=e,n=t[st];if(n===null)return;let o=t[se][X];for(let i of n)dy(i,o)}function dy(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[No];for(;n<o;){let i=r.nextSibling;ld(t,r,!1),r=i,n++}}}function Ra(e){Sa(e);let t=e[Re];Je(t)&&Zs(t);for(let n=re;n<e.length;n++)Zs(e[n])}function Zs(e){wC(e);let t=e[I];for(let n=W;n<t.bindingStartIndex;n++)if(Ue(e[n])){let r=e[n];Ra(r)}else Je(e[n])&&Zs(e[n])}function Id(e){let t=e._views;for(let n of t){let r=_m(n);r!==null&&r[Re]!==null&&(Je(r)?Zs(r):Ra(r))}}function DC(e,t,n,r){e!==null&&(n.cleanup(t),Ra(e.lContainer),Id(r))}function bC(e,t){let n=[];for(let r of t)for(let o=0;o<(r[td]??1);o++){let i={data:r,firstChild:null};r[No]>0&&(i.firstChild=e,e=Ta(r[No],e)),n.push(i)}return[e,n]}var fy=()=>null,hy=()=>null;function py(){fy=CC,hy=IC}function CC(e,t){return my(e,t)?e[st].shift():(Sa(e),null)}function Qs(e,t){return fy(e,t)}function IC(e,t,n){if(t.tView.ssrId===null)return null;let r=Qs(e,t.tView.ssrId);return n[I].firstUpdatePass&&r===null&&TC(n,t),r}function gy(e,t,n){return hy(e,t,n)}function TC(e,t){let n=t;for(;n;){if(cg(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(cg(e,n))return;n=n.next}}function my(e,t){let n=e[st];return!t||n===null||n.length===0?!1:n[0].data[tm]===t}function cg(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return Ue(r)&&my(r,n)?(Sa(r),!0):!1}var yy=class{},Aa=class{},Bl=class{resolveComponentFactory(t){throw new C(917,!1)}},Bo=class{static NULL=new Bl},Un=class{};var vy=(()=>{class e{static \u0275prov=R({token:e,providedIn:"root",factory:()=>null})}return e})();var Hs={},Cr=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,Hs,r);return o!==Hs||n===Hs?o:this.parentInjector.get(t,n,r)}};function Xs(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=ku(o,a);else if(i==2){let c=a,u=t[++s];r=ku(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Vo(e,t=0){let n=Z();if(n===null)return P(e,t);let r=at();return Ug(r,n,xe(e),t)}function SC(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}MC(e,t,n,a,i,c,u)}i!==null&&r!==null&&RC(n,r,i)}function RC(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new C(-301,!1);r.push(t[o],i)}}function AC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function MC(e,t,n,r,o,i,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&xn(f)&&(c=f,AC(e,n,h)),MD(Pg(n,t),e,f.type)}LC(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Fm(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=ua(n.mergedAttrs,f.hostAttrs),OC(e,n,t,d,f),PC(d,f,o),s!==null&&s.has(f)){let[g,v]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,v+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}NC(e,n,i)}function NC(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))ug(0,t,o,r),ug(1,t,o,r),dg(t,r,!1);else{let i=n.get(o);lg(0,t,i,r),lg(1,t,i,r),dg(t,r,!0)}}}function ug(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),wy(t,i)}}function lg(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),wy(t,s)}}function wy(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function dg(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||dd(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function OC(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=bn(o.type,!0)),s=new Mo(i,xn(o),Vo,null);e.blueprint[r]=s,n[r]=s,xC(e,t,r,Fm(e,n,o.hostVars,Bt),o)}function xC(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;kC(s)!=a&&s.push(a),s.push(n,r,i)}}function kC(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function PC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;xn(t)&&(n[""]=e)}}function LC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ey(e,t,n,r,o,i,s,a){let c=t[I],u=c.consts,l=Ct(u,s),d=Ca(c,e,n,r,l);return i&&SC(c,t,d,Ct(u,a),o),d.mergedAttrs=ua(d.mergedAttrs,d.attrs),d.attrs!==null&&Xs(d,d.attrs,!1),d.mergedAttrs!==null&&Xs(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function _y(e,t){wD(e,t),Qu(t)&&e.queries.elementEnd(t)}function FC(e,t,n,r,o,i){let s=t.consts,a=Ct(s,o),c=Ca(t,e,n,r,a);if(c.mergedAttrs=ua(c.mergedAttrs,c.attrs),i!=null){let u=Ct(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&Xs(c,c.attrs,!1),c.mergedAttrs!==null&&Xs(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function ko(e,t,n){if(n===Bt)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function jC(e,t,n,r){let o=ko(e,t,n);return ko(e,t+1,r)||o}function UC(e,t,n){return function r(o){let i=en(e)?bt(e.index,t):t;ba(i,5);let s=t[ae],a=fg(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=fg(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function fg(e,t,n,r){let o=M(null);try{return $(F.OutputStart,t,n),n(r)!==!1}catch(i){return Dd(e,i),!1}finally{$(F.OutputEnd,t,n),M(o)}}function $C(e,t,n,r,o,i,s,a){let c=As(e),u=!1,l=null;if(!r&&c&&(l=VC(t,n,i,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=Dt(e,n),h=r?r(d):d;GD(n,h,i,a);let f=o.listen(h,i,a);if(!BC(i)){let p=r?g=>r($e(g[e.index])):e.index;HC(p,t,n,i,a,f,!1)}}return u}function BC(e){return e.startsWith("animation")||e.startsWith("transition")}function VC(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[mr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function HC(e,t,n,r,o,i,s){let a=t.firstCreatePass?Ip(t):null,c=Cp(n),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}var Vl=Symbol("BINDING");var ea=class extends Bo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Lt(t);return new Rr(n,this.ngModule)}};function zC(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&va.SignalBased)!==0};return o&&(i.transform=o),i})}function GC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function qC(e,t,n){let r=t instanceof le?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Cr(n,r):n}function WC(e){let t=e.get(Un,null);if(t===null)throw new C(407,!1);let n=e.get(vy,null),r=e.get(Qt,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function KC(e,t){let n=Dy(e);return ud(t,n,n==="svg"?vp:n==="math"?wp:null)}function Dy(e){return(e.selectors[0][0]||"div").toLowerCase()}var Rr=class extends Aa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=zC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=GC(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=mb(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){$(F.DynamicComponentStart);let a=M(null);try{let c=this.componentDef,u=YC(r,c,s,i),l=qC(c,o||this.ngModule,t),d=WC(l),h=d.rendererFactory.createRenderer(null,c),f=r?Ub(h,r,c.encapsulation,l):KC(c,h),p=s?.some(hg)||i?.some(y=>typeof y!="function"&&y.bindings.some(hg)),g=hd(null,u,null,512|Lm(c),null,null,d,h,l,null,Em(f,l,!0));g[W]=f,ks(g);let v=null;try{let y=Ey(W,g,2,"#host",()=>u.directiveRegistry,!0,0);Om(h,f,y),Tr(f,g),qm(u,g,y),Sm(u,y,g),_y(u,y),n!==void 0&&ZC(y,this.ngContentSelectors,n),v=bt(y.index,g),g[ae]=v[ae],bd(u,g,null)}catch(y){throw v!==null&&xl(v),xl(g),y}finally{$(F.DynamicComponentEnd),Ps()}return new ta(this.componentType,g,!!p)}finally{M(a)}}};function YC(e,t,n,r){let o=e?["ng-version","21.0.6"]:yb(t.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[Vl].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[Vl].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=bs(d);c.push(h)}return fd(0,null,JC(i,s),1,a,c,null,null,null,[o],null)}function JC(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function hg(e){let t=e[Vl].kind;return t==="input"||t==="twoWay"}var ta=class extends yy{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=vr(n[I],W),this.location=Zl(this._tNode,n),this.instance=bt(this._tNode.index,n)[ae],this.hostView=this.changeDetectorRef=new jn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Zm(r,o[I],o,t,n);this.previousInputValues.set(t,n);let s=bt(r.index,o);ba(s,1)}get injector(){return new Ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function ZC(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Ho=(()=>{class e{static __NG_ELEMENT_ID__=QC}return e})();function QC(){let e=at();return eI(e,Z())}var XC=Ho,by=class extends XC{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new Ln(this._hostTNode,this._hostLView)}get parentInjector(){let t=Jl(this._hostTNode,this._hostLView);if(Og(t)){let n=Ws(t,this._hostLView),r=qs(t),o=n[I].data[r+8];return new Ln(o,n)}else return new Ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=pg(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-re}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Qs(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Sr(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!pD(t),u;if(c)u=n;else{let v=n||{};u=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let l=c?t:new Rr(Lt(t)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let y=(c?d:this.parentInjector).get(le,null);y&&(i=y)}let h=Lt(l.componentType??{}),f=Qs(this._lContainer,h?.id??null),p=f?.firstChild??null,g=l.create(d,o,p,i,s,a);return this.insertImpl(g.hostView,u,Sr(this._hostTNode,f)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(_p(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[se],u=new by(c,c[Ye],c[se]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return $o(s,o,i,r),t.attachToViewContainerRef(),qu(Sl(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=pg(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=xo(this._lContainer,n);r&&(wo(Sl(this._lContainer),n),Ea(r[I],r))}detach(t){let n=this._adjustIndex(t,-1),r=xo(this._lContainer,n);return r&&wo(Sl(this._lContainer),n)!=null?new jn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function pg(e){return e[Co]}function Sl(e){return e[Co]||(e[Co]=[])}function eI(e,t){let n,r=t[e.index];return Ue(r)?n=r:(n=ay(r,t,null,e),t[e.index]=n,pd(t,n)),Cy(n,t,e,r),new by(n,e,t)}function tI(e,t){let n=e[X],r=n.createComment(""),o=Dt(t,e),i=n.parentNode(o);return Ys(n,i,r,n.nextSibling(o),!1),r}var Cy=Iy,Td=()=>!1;function nI(e,t,n){return Td(e,t,n)}function Iy(e,t,n,r){if(e[_t])return;let o;n.type&8?o=$e(r):o=tI(t,n),e[_t]=o}function rI(e,t,n){if(e[_t]&&e[st])return!0;let r=n[ke],o=t.index-W;if(!r||Gg(t)||Cm(r,o))return!1;let s=Ll(r,o),a=r.data[ha]?.[o],[c,u]=bC(s,a);return e[_t]=c,e[st]=u,!0}function oI(e,t,n,r){Td(e,n,t)||Iy(e,t,n,r)}function Ty(){Cy=oI,Td=rI}var Ar=class{},Ma=class{};var na=class extends Ar{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ea(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Vu(t);this._bootstrapComponents=km(i.bootstrap),this._r3Injector=pl(t,n,[{provide:Ar,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver},...r],Jt(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ra=class extends Ma{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new na(this.moduleType,t,[])}};var Po=class extends Ar{injector;componentFactoryResolver=new ea(this);instance=null;constructor(t){super();let n=new Cn([...t.providers,{provide:Ar,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver}],t.parent||_o(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Or(e,t,n=null){return new Po({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var iI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ss(!1,n.type),o=r.length>0?Or([r],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(P(le))})}return e})();function Vt(e){return Lo(()=>{let t=Sy(e),n=Q(w({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(iI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||lt.Emulated,styles:e.styles||ot,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Qe("NgStandalone"),Ry(n);let r=e.dependencies;return n.directiveDefs=gg(r,sI),n.pipeDefs=gg(r,Hu),n.id=uI(n),n})}function sI(e){return Lt(e)||bs(e)}function zo(e){return Lo(()=>({type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function aI(e,t){if(e==null)return Tn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=va.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function cI(e){if(e==null)return Tn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Na(e){return Lo(()=>{let t=Sy(e);return Ry(t),t})}function Sy(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Tn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:aI(e.inputs,t),outputs:cI(e.outputs),debugInfo:null}}function Ry(e){e.features?.forEach(t=>t(e))}function gg(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function uI(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function lI(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=ua(e.mergedAttrs,e.attrs);let l=e.tView=fd(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),l.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Er(e,!1);let c=Ay(n,t,e,r);Ls()&&wd(n,t,c,e),Tr(c,t);let u=ay(c,t,c,e);t[r+W]=u,pd(t,u),nI(u,e,t)}function oa(e,t,n,r,o,i,s,a,c,u,l){let d=n+W,h;if(t.firstCreatePass){if(h=Ca(t,d,4,s||null,a||null),u!=null){let f=Ct(t.consts,u);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return lI(h,e,t,n,r,o,i,c),u!=null&&_d(e,h,l),h}var Ay=My;function My(e,t,n,r){return jt(!0),t[X].createComment("")}function dI(e,t,n,r){let o=!ya(t,n);jt(o);let i=t[ke]?.data[em]?.[r]??null;if(i!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=i),o)return My(e,t);let s=t[ke],a=Ia(s,e,t,n);ma(s,r,a);let c=cd(s,r);return Ta(c,a)}function Ny(){Ay=dI}var Be=(function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e})(Be||{}),mg=0,fI=1,ce=(function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e})(ce||{});var hI=0,Go=1;var pI=4,gI=5;var mI=7,Ir=8,yI=9,Sd=(function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e})(Sd||{});function zs(e,t){let n=wI(e),r=t[n];if(r!==null){for(let o of r)o();t[n]=null}}function vI(e){zs(1,e),zs(0,e),zs(2,e)}function wI(e){let t=pI;return e===1?t=gI:e===2&&(t=yI),t}function Oy(e){return e+1}function xr(e,t){let n=e[I],r=Oy(t.index);return e[r]}function qo(e,t){let n=Oy(t.index);return e.data[n]}function EI(e,t,n){let r=t[I],o=qo(r,n);switch(e){case ce.Complete:return o.primaryTmplIndex;case ce.Loading:return o.loadingTmplIndex;case ce.Error:return o.errorTmplIndex;case ce.Placeholder:return o.placeholderTmplIndex;default:return null}}function yg(e,t){return t===ce.Placeholder?e.placeholderBlockConfig?.[mg]??null:t===ce.Loading?e.loadingBlockConfig?.[mg]??null:null}function _I(e){return e.loadingBlockConfig?.[fI]??null}function vg(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function DI(e,t){let n=t.primaryTmplIndex+W;return vr(e,n)}var bI=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,o,i){if(!this.cachedInjectors.has(n)){let s=o.length>0?Or(o,r,i):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=R({token:e,providedIn:"environment",factory:()=>new e})}return e})();var xy=new b("");function Rl(e,t,n){return e.get(bI).getOrCreateInjector(t,e,n,"")}function CI(e,t,n){if(e instanceof Cr){let o=e.injector,i=e.parentInjector,s=Rl(i,t,n);return new Cr(o,s)}let r=e.get(le);if(r!==e){let o=Rl(r,t,n);return new Cr(e,o)}return Rl(e,t,n)}function Pn(e,t,n,r=!1){let o=n[se],i=o[I];if(tn(o))return;let s=xr(o,t),a=s[Go],c=s[mI];if(!(c!==null&&e<c)&&wg(a,e)&&wg(s[hI]??-1,e)){let u=qo(i,t),d=!r&&!0&&(_I(u)!==null||yg(u,ce.Loading)!==null||yg(u,ce.Placeholder))?SI:TI;try{d(e,s,n,t,o)}catch(h){Dd(o,h)}}}function II(e,t){let n=e[st]?.findIndex(o=>o.data[om]===t[Go])??-1;return{dehydratedView:n>-1?e[st][n]:null,dehydratedViewIx:n}}function TI(e,t,n,r,o){$(F.DeferBlockStateStart);let i=EI(e,o,r);if(i!==null){t[Go]=e;let s=o[I],a=i+W,c=vr(s,a),u=0;Cd(n,u);let l;if(e===ce.Complete){let p=qo(s,r),g=p.providers;g&&g.length>0&&(l=CI(o[Fe],p,g))}let{dehydratedView:d,dehydratedViewIx:h}=II(n,t),f=Da(o,c,null,{injector:l,dehydratedView:d});if($o(n,f,u,Sr(c,d)),ba(f,2),h>-1&&n[st]?.splice(h,1),(e===ce.Complete||e===ce.Error)&&Array.isArray(t[Ir])){for(let p of t[Ir])p();t[Ir]=null}}$(F.DeferBlockStateEnd)}function wg(e,t){return e<t}function Eg(e,t,n){e.loadingPromise.then(()=>{e.loadingState===Be.COMPLETE?Pn(ce.Complete,t,n):e.loadingState===Be.FAILED&&Pn(ce.Error,t,n)})}var SI=null;var Oa=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Rd=new b("");function Wo(e){return!!e&&typeof e.then=="function"}function ky(e){return!!e&&typeof e.subscribe=="function"}var Py=new b("");var Ad=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=m(Py,{optional:!0})??[];injector=m(Le);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=be(this.injector,o);if(Wo(i))n.push(i);else if(ky(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sn=new b("");function Ly(){ru(()=>{let e="";throw new C(600,e)})}function Fy(e){return e.isBoundToModule}var RI=10;var Ve=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(ct);afterRenderManager=m(md);zonelessEnabled=m(So);rootEffectScheduler=m(_l);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new De;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=m(It);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(J(n=>!n))}constructor(){m(on,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=m(le);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Le.NULL){return this._injector.get(Se).run(()=>{$(F.BootstrapComponentStart);let s=n instanceof Aa;if(!this._injector.get(Ad).done){let p="";throw new C(405,p)}let c;s?c=n:c=this._injector.get(Bo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=Fy(c)?void 0:this._injector.get(Ar),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(Rd,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Ao(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),$(F.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){$(F.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(wa.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw $(F.ChangeDetectionEnd),new C(101,!1);let n=M(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,M(n),this.afterTick.next(),$(F.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Un,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<RI;){$(F.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{$(F.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!To(o))continue;let i=r&&!this.zonelessEnabled?0:1;ry(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>To(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ao(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(sn,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ao(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ao(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function AI(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function jy(e,t,n){let r=t[Fe],o=t[I];if(e.loadingState!==Be.NOT_STARTED)return e.loadingPromise??Promise.resolve();let i=xr(t,n),s=DI(o,e);e.loadingState=Be.IN_PROGRESS,zs(1,i);let a=e.dependencyResolverFn,c=r.get(js).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(u=>{let l=!1,d=[],h=[];for(let f of u)if(f.status==="fulfilled"){let p=f.value,g=Lt(p)||bs(p);if(g)d.push(g);else{let v=Hu(p);v&&h.push(v)}}else{l=!0;break}if(l){if(e.loadingState=Be.FAILED,e.errorTmplIndex===null){let p=new C(-750,!1);Dd(t,p)}}else{e.loadingState=Be.COMPLETE;let f=s.tView;if(d.length>0){f.directiveRegistry=vg(f.directiveRegistry,d);let p=d.map(v=>v.type),g=Ss(!1,...p);e.providers=g}h.length>0&&(f.pipeRegistry=vg(f.pipeRegistry,h))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Be.COMPLETE,c()}),e.loadingPromise)}function MI(e,t){return t[Fe].get(xy,null,{optional:!0})?.behavior!==Sd.Manual}function NI(e,t,n){let r=t[I],o=t[n.index];if(!MI(e,t))return;let i=xr(t,n),s=qo(r,n);switch(vI(i),s.loadingState){case Be.NOT_STARTED:Pn(ce.Loading,n,o),jy(s,t,n),s.loadingState===Be.IN_PROGRESS&&Eg(s,n,o);break;case Be.IN_PROGRESS:Pn(ce.Loading,n,o),Eg(s,n,o);break;case Be.COMPLETE:Pn(ce.Complete,n,o);break;case Be.FAILED:Pn(ce.Error,n,o);break;default:}}async function Uy(e,t,n){let r=e.get(pa);if(r.hydrating.has(t))return;let{parentBlockPromise:i,hydrationQueue:s}=XD(t,e);if(s.length===0)return;i!==null&&s.shift(),kI(r,s),i!==null&&await i;let a=s[0];r.has(a)?await _g(e,s,n):r.awaitParentBlock(a,async()=>await _g(e,s,n))}async function _g(e,t,n){let r=e.get(pa),o=r.hydrating,i=e.get(It),s=i.add();for(let c=0;c<t.length;c++){let u=t[c],l=r.get(u);if(l!=null){if(await LI(l),await PI(e),OI(l)){_C(l),Dg(t.slice(c),r);break}o.get(u).resolve()}else{xI(c,t,r),Dg(t.slice(c),r);break}}let a=t[t.length-1];await o.get(a)?.promise,i.remove(s),n&&n(t),DC(r.get(a),t,r,e.get(Ve))}function OI(e){return xr(e.lView,e.tNode)[Go]===ce.Error}function xI(e,t,n){let r=e-1,o=r>-1?n.get(t[r]):null;o&&Ra(o.lContainer)}function Dg(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function kI(e,t){for(let n of t)e.hydrating.set(n,AI())}function PI(e){return new Promise(t=>yd(t,{injector:e}))}async function LI(e){let{tNode:t,lView:n}=e,r=xr(n,t);return new Promise(o=>{FI(r,o),NI(2,n,t)})}function FI(e,t){Array.isArray(e[Ir])||(e[Ir]=[]),e[Ir].push(t)}var SF=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Hl=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t))}};function Al(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function jI(e,t,n,r){let o,i,s=0,a=e.length-1,c=void 0;if(Array.isArray(t)){M(r);let u=t.length-1;for(M(null);s<=a&&s<=u;){let l=e.at(s),d=t[s],h=Al(s,l,s,d,n);if(h!==0){h<0&&e.updateValue(s,d),s++;continue}let f=e.at(a),p=t[u],g=Al(a,f,u,p,n);if(g!==0){g<0&&e.updateValue(a,p),a--,u--;continue}let v=n(s,l),y=n(a,f),x=n(s,d);if(Object.is(x,y)){let _=n(u,p);Object.is(_,v)?(e.swap(s,a),e.updateValue(a,p),u--,a--):e.move(a,s),e.updateValue(s,d),s++;continue}if(o??=new ia,i??=Cg(e,s,a,n),zl(e,o,s,x))e.updateValue(s,d),s++,a++;else if(i.has(x))o.set(v,e.detach(s)),a--;else{let _=e.create(s,t[s]);e.attach(s,_),s++,a++}}for(;s<=u;)bg(e,o,n,s,t[s]),s++}else if(t!=null){M(r);let u=t[Symbol.iterator]();M(null);let l=u.next();for(;!l.done&&s<=a;){let d=e.at(s),h=l.value,f=Al(s,d,s,h,n);if(f!==0)f<0&&e.updateValue(s,h),s++,l=u.next();else{o??=new ia,i??=Cg(e,s,a,n);let p=n(s,h);if(zl(e,o,s,p))e.updateValue(s,h),s++,a++,l=u.next();else if(!i.has(p))e.attach(s,e.create(s,h)),s++,a++,l=u.next();else{let g=n(s,d);o.set(g,e.detach(s)),a--}}}for(;!l.done;)bg(e,o,n,e.length,l.value),l=u.next()}for(;s<=a;)e.destroy(e.detach(a--));o?.forEach(u=>{e.destroy(u)})}function zl(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function bg(e,t,n,r,o){if(zl(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Cg(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var ia=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};function Md(e,t,n,r,o,i,s,a){Qe("NgControlFlow");let c=Z(),u=nn(),l=Ct(u.consts,i);return oa(c,u,e,t,n,r,o,l,256,s,a),Nd}function Nd(e,t,n,r,o,i,s,a){Qe("NgControlFlow");let c=Z(),u=nn(),l=Ct(u.consts,i);return oa(c,u,e,t,n,r,o,l,512,s,a),Nd}function Od(e,t){Qe("NgControlFlow");let n=Z(),r=Os(),o=n[r]!==Bt?n[r]:-1,i=o!==-1?sa(n,W+o):void 0,s=0;if(ko(n,r,e)){let a=M(null);try{if(i!==void 0&&Cd(i,s),e!==-1){let c=W+e,u=sa(n,c),l=Kl(n[I],c),d=gy(u,l,n),h=Da(n,l,t,{dehydratedView:d});$o(u,h,s,Sr(l,d))}}finally{M(a)}}else if(i!==void 0){let a=cy(i,s);a!==void 0&&(a[ae]=t)}}var Gl=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-re}};var ql=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function xd(e,t,n,r,o,i,s,a,c,u,l,d,h){Qe("NgControlFlow");let f=Z(),p=nn(),g=c!==void 0,v=Z(),y=a?s.bind(v[Ae][ae]):s,x=new ql(g,y);v[W+e]=x,oa(f,p,e+1,t,n,r,o,Ct(p.consts,i),256),g&&oa(f,p,e+2,c,u,l,d,Ct(p.consts,h),512)}var Wl=class extends Hl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-re}at(t){return this.getLView(t)[ae].$implicit}attach(t,n){let r=n[ke];this.needsIndexUpdate||=t!==this.length,$o(this.lContainer,n,t,Sr(this.templateTNode,r)),UI(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,$I(this.lContainer,t),BI(this.lContainer,t)}create(t,n){let r=Qs(this.lContainer,this.templateTNode.tView.ssrId);return Da(this.hostLView,this.templateTNode,new Gl(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Ea(t[I],t)}updateValue(t,n){this.getLView(t)[ae].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ae].$index=t}getLView(t){return VI(this.lContainer,t)}};function kd(e){let t=M(null),n=_r();try{let r=Z(),o=r[I],i=r[n],s=n+1,a=sa(r,s);if(i.liveCollection===void 0){let u=Kl(o,s);i.liveCollection=new Wl(a,r,u)}else i.liveCollection.reset();let c=i.liveCollection;if(jI(c,e,i.trackByFn,t),c.updateIndexes(),i.hasEmptyBlock){let u=Os(),l=c.length===0;if(ko(r,u,l)){let d=n+2,h=sa(r,d);if(l){let f=Kl(o,d),p=gy(h,f,r),g=Da(r,f,void 0,{dehydratedView:p});$o(h,g,0,Sr(f,p))}else o.firstUpdatePass&&Sa(h),Cd(h,0)}}}finally{M(t)}}function sa(e,t){return e[t]}function UI(e,t){if(e.length<=re)return;let n=re+t,r=e[n],o=r?r[On]:void 0;if(r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let i=r[Fe];Cb(i,o),Fn.delete(r),o.detachedLeaveAnimationFns=void 0}}function $I(e,t){if(e.length<=re)return;let n=re+t,r=e[n],o=r?r[On]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function BI(e,t){return xo(e,t)}function VI(e,t){return cy(e,t)}function Kl(e,t){return vr(e,t)}function Ig(e,t,n,r,o){Zm(t,e,n,o?"class":"style",r)}function Pd(e,t,n,r){let o=Z(),i=o[I],s=e+W,a=i.firstCreatePass?Ey(s,o,2,t,Gb,Rp(),n,r):i.data[s];if(Ym(a,o,e,t,Fd),As(a)){let c=o[I];qm(c,o,a),Sm(c,a,o)}return r!=null&&_d(o,a),Pd}function Ld(){let e=nn(),t=at(),n=Jm(t);return e.firstCreatePass&&_y(e,n),ol(n)&&il(),nl(),n.classesWithoutHost!=null&&_D(n)&&Ig(e,n,Z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&DD(n)&&Ig(e,n,Z(),n.stylesWithoutHost,!1),Ld}function kr(e,t,n,r){return Pd(e,t,n,r),Ld(),kr}function ee(e,t,n,r){let o=Z(),i=o[I],s=e+W,a=i.firstCreatePass?FC(s,i,2,t,n,r):i.data[s];return Ym(a,o,e,t,Fd),r!=null&&_d(o,a),ee}function de(){let e=at(),t=Jm(e);return ol(t)&&il(),nl(),de}function Ko(e,t,n,r){return ee(e,t,n,r),de(),Ko}var Fd=(e,t,n,r,o)=>(jt(!0),ud(t[X],r,hl()));function HI(e,t,n,r,o){let i=!ya(t,n);if(jt(i),i)return ud(t[X],r,hl());let s=t[ke],a=Ia(s,e,t,n);return bm(s,o)&&ma(s,o,a.nextSibling),s&&(Hg(n)||zg(a))&&en(n)&&(Ap(n),Nm(a)),a}function $y(){Fd=HI}var zI=(e,t,n,r,o)=>(jt(!0),Am(t[X],""));function GI(e,t,n,r,o){let i,s=!ya(t,n);if(jt(s),s)return Am(t[X],"");let a=t[ke],c=Ia(a,e,t,n),u=ZD(a,o);return ma(a,o,c),i=Ta(u,c),i}function By(){zI=GI}var Yo="en-US";var qI=Yo;function Vy(e){typeof e=="string"&&(qI=e.toLowerCase().replace(/_/g,"-"))}function xa(e,t,n){let r=Z(),o=nn(),i=at();return(i.type&3||n)&&$C(i,o,r,n,r[X],e,t,UC(i,r,t)),xa}function jd(e=1){return Bp(e)}function ue(e,t=""){let n=Z(),r=nn(),o=e+W,i=r.firstCreatePass?Ca(r,o,1,t,null):r.data[o],s=Hy(r,n,i,t,e);n[o]=s,Ls()&&wd(r,n,s,i),Er(i,!1)}var Hy=(e,t,n,r,o)=>(jt(!0),Rm(t[X],r));function WI(e,t,n,r,o){let i=!ya(t,n);if(jt(i),i)return Rm(t[X],r);let s=t[ke];return Ia(s,e,t,n)}function zy(){Hy=WI}function KI(e,t,n,r=""){return ko(e,Os(),n)?t+vo(n)+r:Bt}function YI(e,t,n,r,o,i=""){let s=Op(),a=jC(e,s,n,o);return kp(2),a?t+vo(n)+r+vo(o)+i:Bt}function ka(e,t,n){let r=Z(),o=KI(r,e,t,n);return o!==Bt&&Gy(r,_r(),o),ka}function Pa(e,t,n,r,o){let i=Z(),s=YI(i,e,t,n,r,o);return s!==Bt&&Gy(i,_r(),s),Pa}function Gy(e,t,n){let r=Ep(t,e);ob(e[X],r,n)}var aa=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Ud=(()=>{class e{compileModuleSync(n){return new ra(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Vu(n),i=km(o.declarations).reduce((s,a)=>{let c=Lt(a);return c&&s.push(new Rr(c)),s},[]);return new aa(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var qy=(()=>{class e{applicationErrorHandler=m(ct);appRef=m(Ve);taskService=m(It);ngZone=m(Se);zonelessEnabled=m(So);tracing=m(on,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(go):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(El,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ml:gl;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(go+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ml(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wy(){return[{provide:Qt,useExisting:qy},{provide:Se,useClass:mo},{provide:So,useValue:!0}]}function JI(){return typeof $localize<"u"&&$localize.locale||Yo}var $d=new b("",{factory:()=>m($d,{optional:!0,skipSelf:!0})||JI()});var Gd={JSACTION:"__jsaction",OWNER:"__owner"},Zy={};function ZI(e){return e[Gd.JSACTION]}function Ky(e,t){e[Gd.JSACTION]=t}function QI(e){return Zy[e]}function XI(e,t){Zy[e]=t}var T={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},eT=[T.MOUSEENTER,T.MOUSELEAVE,"pointerenter","pointerleave"],NF=[T.CLICK,T.DBLCLICK,T.FOCUSIN,T.FOCUSOUT,T.KEYDOWN,T.KEYUP,T.KEYPRESS,T.MOUSEOVER,T.MOUSEOUT,T.SUBMIT,T.TOUCHSTART,T.TOUCHEND,T.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],tT=[T.FOCUS,T.BLUR,T.ERROR,T.LOAD,T.TOGGLE],qd=e=>tT.indexOf(e)>=0;function nT(e){return e===T.MOUSEENTER?T.MOUSEOVER:e===T.MOUSELEAVE?T.MOUSEOUT:e===T.POINTERENTER?T.POINTEROVER:e===T.POINTERLEAVE?T.POINTEROUT:e}function rT(e,t,n,r){let o=!1;qd(t)&&(o=!0);let i=typeof r=="boolean"?{capture:o,passive:r}:o;return e.addEventListener(t,n,i),{eventType:t,handler:n,capture:o,passive:r}}function oT(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function iT(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var Yy=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function sT(e){return e.which===2||e.which==null&&e.button===4}function aT(e){return Yy&&e.metaKey||!Yy&&e.ctrlKey||sT(e)||e.shiftKey}function cT(e,t,n){let r=e.relatedTarget;return(e.type===T.MOUSEOVER&&t===T.MOUSEENTER||e.type===T.MOUSEOUT&&t===T.MOUSELEAVE||e.type===T.POINTEROVER&&t===T.POINTERENTER||e.type===T.POINTEROUT&&t===T.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function uT(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let o=r,i=e[o];typeof i!="function"&&(n[o]=i)}return e.type===T.MOUSEOVER?n.type=T.MOUSEENTER:e.type===T.MOUSEOUT?n.type=T.MOUSELEAVE:e.type===T.POINTEROVER?n.type=T.POINTERENTER:n.type=T.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var lT=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Ua=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){lT&&(this.element.style.cursor="pointer"),this.handlerInfos.push(rT(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)oT(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},dT={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function an(e){return e.eventType}function Wd(e,t){e.eventType=t}function Fa(e){return e.event}function Qy(e,t){e.event=t}function Xy(e){return e.targetElement}function ev(e,t){e.targetElement=t}function tv(e){return e.eic}function fT(e,t){e.eic=t}function hT(e){return e.timeStamp}function pT(e,t){e.timeStamp=t}function ja(e){return e.eia}function nv(e,t,n){e.eia=[t,n]}function Bd(e){e.eia=void 0}function La(e){return e[1]}function gT(e){return e.eirp}function rv(e,t){e.eirp=t}function ov(e){return e.eir}function iv(e,t){e.eir=t}function sv(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function mT(e,t,n,r,o,i,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:o,eia:i,eirp:s,eiack:a}}var Vd=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return an(this.eventInfo)}setEventType(t){Wd(this.eventInfo,t)}getEvent(){return Fa(this.eventInfo)}setEvent(t){Qy(this.eventInfo,t)}getTargetElement(){return Xy(this.eventInfo)}setTargetElement(t){ev(this.eventInfo,t)}getContainer(){return tv(this.eventInfo)}setContainer(t){fT(this.eventInfo,t)}getTimestamp(){return hT(this.eventInfo)}setTimestamp(t){pT(this.eventInfo,t)}getAction(){let t=ja(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){Bd(this.eventInfo);return}nv(this.eventInfo,t.name,t.element)}getIsReplay(){return gT(this.eventInfo)}setIsReplay(t){rv(this.eventInfo,t)}getResolved(){return ov(this.eventInfo)}setResolved(t){iv(this.eventInfo,t)}clone(){return new e(sv(this.eventInfo))}},yT={},vT=/\s*;\s*/,wT=T.CLICK,Hd=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&an(t)===T.CLICK&&aT(Fa(t))?Wd(t,T.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){ov(t)||(this.populateAction(t,Xy(t)),iv(t,!0))}resolveParentAction(t){let n=ja(t),r=n&&La(n);Bd(t);let o=r&&this.getParentNode(r);o&&this.populateAction(t,o)}populateAction(t,n){let r=n;for(;r&&r!==tv(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!ja(t));)r=this.getParentNode(r);let o=ja(t);if(o&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(an(t)===T.MOUSEENTER||an(t)===T.MOUSELEAVE||an(t)===T.POINTERENTER||an(t)===T.POINTERLEAVE)))if(cT(Fa(t),an(t),La(o))){let i=uT(Fa(t),La(o));Qy(t,i),ev(t,La(o))}else Bd(t)}getParentNode(t){let n=t[Gd.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),o=r[an(n)];o!==void 0&&nv(n,o,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=ZI(t);if(!n){let r=t.getAttribute(Us.JSACTION);if(!r)n=yT,Ky(t,n);else{if(n=QI(r),!n){n={};let o=r.split(vT);for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let a=s.indexOf(dT.EVENT_ACTION_SEPARATOR),c=a!==-1,u=c?s.substr(0,a).trim():wT,l=c?s.substr(a+1).trim():s;n[u]=l}XI(r,n)}Ky(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},av=(function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e})(av||{}),zd=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new Vd(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&ET(r.element,n)&&iT(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function ET(e,t){return e.tagName==="A"&&(t.getEventType()===T.CLICK||t.getEventType()===T.CLICKMOD)}var cv=Symbol.for("propagationStopped"),Kd={REPLAY:101};var _T="`preventDefault` called during event replay.";var DT="`composedPath` called during event replay.",$a=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new Hd({clickModSupport:n}),this.dispatcher=new zd(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&IT(t),bT(t);t.getAction();){if(TT(t),qd(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),CT(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function bT(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[cv]=!0,n()};Bn(t,"stopPropagation",r),Bn(t,"stopImmediatePropagation",r)}function CT(e){return!!e.getEvent()[cv]}function IT(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);Bn(t,"target",n),Bn(t,"eventPhase",Kd.REPLAY),Bn(t,"preventDefault",()=>{throw r(),new Error(_T+"")}),Bn(t,"composedPath",()=>{throw new Error(DT+"")})}function TT(e){let t=e.getEvent(),n=e.getAction()?.element;n&&Bn(t,"currentTarget",n,{configurable:!0})}function Bn(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function uv(e,t){e.ecrd(n=>{t.dispatch(n)},av.I_AM_THE_JSACTION_FRAMEWORK)}function ST(e){return e?.q??[]}function RT(e){e&&(Jy(e.c,e.et,e.h),Jy(e.c,e.etc,e.h,!0))}function Jy(e,t,n,r){for(let o=0;o<t.length;o++)e.removeEventListener(t[o],n,r)}var AT=!1,lv=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=AT;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,o){let i=mT(n,r,r.target,o,Date.now());this.handleEventInfo(i)}handleEventInfo(n){if(!this.dispatcher){rv(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,o){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&eT.indexOf(n)>=0)return;let i=(a,c,u)=>{this.handleEvent(a,c,u)};this.eventHandlers[n]=i;let s=nT(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{i(n,c,a)},o)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),RT(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let o=n[r],i=this.getEventTypesForBrowserEventType(o.eventType);for(let s=0;s<i.length;s++){let a=sv(o);Wd(a,i[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let o=0;o<this.queuedEventInfos.length;o++)this.handleEventInfo(this.queuedEventInfos[o]);this.queuedEventInfos=null}}}return e})();function dv(e,t=window){return ST(t._ejsas?.[e])}function Yd(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var yv=Symbol("InputSignalNode#UNSET"),eS=Q(w({},Wi),{transformFn:void 0,applyValueToInputSignal(e,t){io(e,t)}});function vv(e,t){let n=Object.create(eS);n.value=e,n.transformFn=t?.transform;function r(){if(zi(n),n.value===yv){let o=null;throw new C(-950,o)}return n.value}return r[We]=n,r}function fv(e,t){return vv(e,t)}function tS(e){return vv(yv,e)}var wv=(fv.required=tS,fv);var Jd=new b(""),nS=new b("");function Jo(e){return!e.moduleRef}function rS(e){let t=Jo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Se);return n.run(()=>{Jo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ct),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Jo(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Jd);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Jd);s.add(i),e.moduleRef.onDestroy(()=>{Ao(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return iS(r,n,()=>{let i=t.get(It),s=i.add(),a=t.get(Ad);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get($d,Yo);if(Vy(c||Yo),!t.get(nS,!0))return Jo(e)?t.get(Ve):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Jo(e)){let l=t.get(Ve);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return oS?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var oS;function iS(e,t,n){try{let r=n();return Wo(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Va=null;function sS(e=[],t){return Le.create({name:t,providers:[{provide:Eo,useValue:"platform"},{provide:Jd,useValue:new Set([()=>Va=null])},...e]})}function aS(e=[]){if(Va)return Va;let t=sS(e);return Va=t,Ly(),cS(t),t}function cS(e){let t=e.get(da,null);be(e,()=>{t?.forEach(n=>n())})}var Qd=(()=>{class e{static __NG_ELEMENT_ID__=uS}return e})();function uS(e){return lS(at(),Z(),(e&16)===16)}function lS(e,t,n){if(en(e)&&!n){let r=bt(e.index,t);return new jn(r,r)}else if(e.type&175){let r=t[Ae];return new jn(r,t)}return null}function Ev(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;$(F.BootstrapApplicationStart);try{let i=o?.injector??aS(r),s=[Wy(),Gp,...n||[]],a=new Po({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return rS({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{$(F.BootstrapApplicationEnd)}}var Ba=new WeakSet,hv="",Ha=[];function pv(e){return e.get(od,am)}function _v(){let e=[{provide:od,useFactory:()=>{let t=!0;{let n=m(St);t=!!window._ejsas?.[n]}return t&&Qe("NgEventReplay"),t}}];return e.push({provide:Et,useValue:()=>{let t=m(Ve),{injector:n}=t;if(!Ba.has(t)){let r=m(id);if(pv(n)){gm();let o=n.get(St),i=hm(o,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(um(s,a,c),lm(s,r))});t.onDestroy(i)}}},multi:!0},{provide:sn,useFactory:()=>{let t=m(Ve),{injector:n}=t;return()=>{if(!pv(n)||Ba.has(t))return;Ba.add(t);let r=n.get(St);t.onDestroy(()=>{Ba.delete(t),Yd(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let o=n.get(fm);dS(o,n);let i=n.get(id);i.get(hv)?.forEach(dm),i.delete(hv);let s=o.instance;Dm(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var dS=(e,t)=>{let n=t.get(St),r=window._ejsas[n],o=e.instance=new lv(new Ua(r.c));for(let a of r.et)o.addEvent(a);for(let a of r.etc)o.addEvent(a);let i=dv(n);o.replayEarlyEventInfos(i),Yd(n);let s=new $a(a=>{fS(t,a,a.currentTarget)});uv(o,s)};function fS(e,t,n){let r=(n&&n.getAttribute(Uo))??"";/d\d+/.test(r)?hS(r,e,t,n):t.eventPhase===Kd.REPLAY&&sd(t,n)}function hS(e,t,n,r){Ha.push({event:n,currentTarget:r}),Uy(t,e,pS)}function pS(e){let t=[...Ha],n=new Set(e);Ha=[];for(let{event:r,currentTarget:o}of t){let i=o.getAttribute(Uo);n.has(i)?sd(r,o):Ha.push({event:r,currentTarget:o})}}var gv=!1;function gS(){gv||(gv=!0,wm(),$y(),zy(),By(),Ny(),Ty(),py(),Km())}function mS(e){return e.whenStable()}function Dv(){let e=[{provide:jo,useFactory:()=>{let t=!0;return t=!!m(Mr,{optional:!0})?.get(ad,null),t&&Qe("NgHydration"),t}},{provide:Et,useValue:()=>{ly(!1);let t=m(oe);m(jo)&&(Im(t),gS())},multi:!0}];return e.push({provide:rd,useFactory:()=>m(jo)},{provide:sn,useFactory:()=>{if(m(jo)){let t=m(Ve);return()=>{mS(t).then(()=>{t.destroyed||Id(t)})}}return()=>{}},multi:!0}),it(e)}var bv=null;function Ht(){return bv}function Xd(e){bv??=e}var Zo=class{},za=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>m(Cv),providedIn:"platform"})}return e})();var Cv=(()=>{class e extends za{_location;_history;_doc=m(oe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ht().getBaseHref(this._doc)}onPopState(n){let r=Ht().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ht().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Sv(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Iv(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function cn(e){return e&&e[0]!=="?"?`?${e}`:e}var Ga=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>m(vS),providedIn:"root"})}return e})(),yS=new b(""),vS=(()=>{class e extends Ga{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Sv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+cn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+cn(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+cn(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(P(za),P(yS,8))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pr=(()=>{class e{_subject=new De;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=_S(Iv(Tv(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+cn(r))}normalize(n){return e.stripTrailingSlash(ES(this._basePath,Tv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cn(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=cn;static joinWithSlash=Sv;static stripTrailingSlash=Iv;static \u0275fac=function(r){return new(r||e)(P(Ga))};static \u0275prov=R({token:e,factory:()=>wS(),providedIn:"root"})}return e})();function wS(){return new Pr(P(Ga))}function ES(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Tv(e){return e.replace(/\/index.html$/,"")}function _S(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var qa=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=zo({type:e});static \u0275inj=gr({})}return e})();function ef(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Qo=class{};var Rv="browser";var Xo=class{_doc;constructor(t){this._doc=t}manager},Wa=(()=>{class e extends Xo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(P(oe))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Ja=new b(""),of=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof Wa));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof Wa);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(P(Ja),P(Se))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),tf="ng-app-id";function Av(e){for(let t of e)t.remove()}function Mv(e,t){let n=t.createElement("style");return n.textContent=e,n}function bS(e,t,n,r){let o=e.head?.querySelectorAll(`style[${tf}="${t}"],link[${tf}="${t}"]`);if(o)for(let i of o)i.removeAttribute(tf),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function rf(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var sf=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,bS(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Mv);r?.forEach(o=>this.addUsage(o,this.external,rf))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Av(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Av(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Mv(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,rf(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(P(oe),P(St),P(fa,8),P(Fo))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},af=/%COMP%/g;var Ov="%COMP%",CS=`_nghost-${Ov}`,IS=`_ngcontent-${Ov}`,TS=!0,SS=new b("",{factory:()=>TS});function RS(e){return IS.replace(af,e)}function AS(e){return CS.replace(af,e)}function xv(e,t){return t.map(n=>n.replace(af,e))}var cf=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,o,i,s,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.defaultRenderer=new ei(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof Ya?o.applyToHost(n):o instanceof ti&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case lt.Emulated:i=new Ya(c,u,r,this.appId,l,s,a,d);break;case lt.ShadowDom:return new Ka(c,n,r,s,a,this.nonce,d,u);case lt.ExperimentalIsolatedShadowDom:return new Ka(c,n,r,s,a,this.nonce,d);default:i=new ti(c,u,r,l,s,a,d);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(P(of),P(sf),P(St),P(SS),P(oe),P(Se),P(fa),P(on,8))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),ei=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(nf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Nv(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Nv(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=nf[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=nf[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&($n.DashCase|$n.Important)?t.style.setProperty(n,r,o&$n.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&$n.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Ht().getGlobalEventTarget(this.doc,t),!t))throw new C(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Nv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ka=class extends ei{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,o,i,s,a,c){super(t,o,i,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=xv(r.id,u);for(let d of u){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let l=r.getExternalStyles?.();if(l)for(let d of l){let h=rf(d,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ti=class extends ei{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c){super(t,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?xv(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Fn.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ya=class extends ti{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c){let u=o+"-"+r.id;super(t,n,r,i,s,a,c,u),this.contentAttr=RS(u),this.hostAttr=AS(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Za=class e extends Zo{supportsDOMEvents=!0;static makeCurrent(){Xd(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=MS();return n==null?null:NS(n)}resetBaseElement(){ni=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ef(document.cookie,t)}},ni=null;function MS(){return ni=ni||document.head.querySelector("base"),ni?ni.getAttribute("href"):null}function NS(e){return new URL(e,document.baseURI).pathname}var OS=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),kv=["alt","control","meta","shift"],xS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Pv=(()=>{class e extends Xo{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ht().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kv.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=xS[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),kv.forEach(s=>{if(s!==o){let a=kS[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(P(oe))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})();function uf(e,t,n){let r=w({rootComponent:e,platformRef:n?.platformRef},PS(t));return Ev(r)}function PS(e){return{appProviders:[...$S,...e?.providers??[]],platformProviders:US}}function LS(){Za.makeCurrent()}function FS(){return new wt}function jS(){return ed(document),document}var US=[{provide:Fo,useValue:Rv},{provide:da,useValue:LS,multi:!0},{provide:oe,useFactory:jS}];var $S=[{provide:Eo,useValue:"root"},{provide:wt,useFactory:FS},{provide:Ja,useClass:Wa,multi:!0},{provide:Ja,useClass:Pv,multi:!0},cf,sf,of,{provide:Un,useExisting:cf},{provide:Qo,useClass:OS},[]];var ri=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var BS="text/plain",VS="application/json",lH=`${VS}, ${BS}, */*`;var df=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(df||{}),lf=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new ri,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}};var Qa=class e extends lf{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=df.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}};var Lv=new b("");var HS=new b(""),zS="b",GS="h",qS="s",WS="st",KS="u",YS="rt",ff=new b(""),JS=["GET","HEAD"];function ZS(e,t){let f=m(ff),{isCacheActive:n}=f,r=mh(f,["isCacheActive"]),{transferCache:o,method:i}=e;if(!n||o===!1||i==="POST"&&!r.includePostRequests&&!o||i!=="POST"&&!JS.includes(i)||!r.includeRequestsWithAuthHeaders&&QS(e)||r.filter?.(e)===!1)return t(e);let s=m(Mr);if(m(HS,{optional:!0}))throw new C(2803,!1);let c=e.url,u=XS(e,c),l=s.get(u,null),d=r.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(d=o.includeHeaders),l){let{[zS]:p,[YS]:g,[GS]:v,[qS]:y,[WS]:x,[KS]:_}=l,E=p;switch(g){case"arraybuffer":E=new TextEncoder().encode(p).buffer;break;case"blob":E=new Blob([p]);break}let U=new ri(v);return L(new Qa({body:E,headers:U,status:y,statusText:x,url:_}))}return t(e)}function QS(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function Fv(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function XS(e,t){let{params:n,method:r,responseType:o}=e,i=Fv(n),s=e.serializeBody();s instanceof URLSearchParams?s=Fv(s):typeof s!="string"&&(s="");let a=[r,o,t,s,i].join("|"),c=e0(a);return c}function e0(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function jv(e){return[{provide:ff,useFactory:()=>(Qe("NgHttpTransferCache"),w({isCacheActive:!0},e))},{provide:Lv,useValue:ZS,multi:!0},{provide:sn,multi:!0,useFactory:()=>{let t=m(Ve),n=m(ff);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var Uv=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(P(oe))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xa=(function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e})(Xa||{});function t0(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function $v(){return t0(Xa.EventReplay,_v())}function Bv(...e){let t=[],n=new Set;for(let{\u0275providers:o,\u0275kind:i}of e)n.add(i),o.length&&t.push(o);let r=n.has(Xa.HttpTransferCacheOptions);return it([[],Dv(),n.has(Xa.NoHttpTransferCache)||r?[]:jv({}),t])}var N="primary",mi=Symbol("RouteTitle"),yf=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Gn(e){return new yf(e)}function Jv(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function ic(e){return new Promise((t,n)=>{e.pipe(kt()).subscribe({next:r=>t(r),error:r=>n(r)})})}function r0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!At(e[n],t[n]))return!1;return!0}function At(e,t){let n=e?vf(e):void 0,r=t?vf(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Zv(e[o],t[o]))return!1;return!0}function vf(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Zv(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function Qv(e){return e.length>0?e[e.length-1]:null}function Wn(e){return fs(e)?e:Wo(e)?ge(Promise.resolve(e)):L(e)}function Xv(e){return fs(e)?ic(e):Promise.resolve(e)}var o0={exact:tw,subset:nw},ew={exact:i0,subset:s0,ignored:()=>!0};function Vv(e,t,n){return o0[n.paths](e.root,t.root,n.matrixParams)&&ew[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function i0(e,t){return At(e,t)}function tw(e,t,n){if(!Hn(e.segments,t.segments)||!nc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!tw(e.children[r],t.children[r],n))return!1;return!0}function s0(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Zv(e[n],t[n]))}function nw(e,t,n){return rw(e,t,t.segments,n)}function rw(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Hn(o,n)||t.hasChildren()||!nc(o,n,r))}else if(e.segments.length===n.length){if(!Hn(e.segments,n)||!nc(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!nw(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!Hn(e.segments,o)||!nc(e.segments,o,r)||!e.children[N]?!1:rw(e.children[N],t,i,r)}}function nc(e,t,n){return t.every((r,o)=>ew[n](e[o].parameters,r.parameters))}var ft=class{root;queryParams;fragment;_queryParamMap;constructor(t=new V([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gn(this.queryParams),this._queryParamMap}toString(){return u0.serialize(this)}},V=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rc(this)}},un=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Gn(this.parameters),this._parameterMap}toString(){return iw(this)}};function a0(e,t){return Hn(e,t)&&e.every((n,r)=>At(n.parameters,t[r].parameters))}function Hn(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function c0(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===N&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==N&&(n=n.concat(t(o,r)))}),n}var yi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>new ln,providedIn:"root"})}return e})(),ln=class{parse(t){let n=new Ef(t);return new ft(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${oi(t.root,!0)}`,r=f0(t.queryParams),o=typeof t.fragment=="string"?`#${l0(t.fragment)}`:"";return`${n}${r}${o}`}},u0=new ln;function rc(e){return e.segments.map(t=>iw(t)).join("/")}function oi(e,t){if(!e.hasChildren())return rc(e);if(t){let n=e.children[N]?oi(e.children[N],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==N&&r.push(`${o}:${oi(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=c0(e,(r,o)=>o===N?[oi(e.children[N],!1)]:[`${o}:${oi(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[N]!=null?`${rc(e)}/${n[0]}`:`${rc(e)}/(${n.join("//")})`}}function ow(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ec(e){return ow(e).replace(/%3B/gi,";")}function l0(e){return encodeURI(e)}function wf(e){return ow(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oc(e){return decodeURIComponent(e)}function Hv(e){return oc(e.replace(/\+/g,"%20"))}function iw(e){return`${wf(e.path)}${d0(e.parameters)}`}function d0(e){return Object.entries(e).map(([t,n])=>`;${wf(t)}=${wf(n)}`).join("")}function f0(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${ec(n)}=${ec(o)}`).join("&"):`${ec(n)}=${ec(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var h0=/^[^\/()?;#]+/;function hf(e){let t=e.match(h0);return t?t[0]:""}var p0=/^[^\/()?;=#]+/;function g0(e){let t=e.match(p0);return t?t[0]:""}var m0=/^[^=?&#]+/;function y0(e){let t=e.match(m0);return t?t[0]:""}var v0=/^[^&#]+/;function w0(e){let t=e.match(v0);return t?t[0]:""}var Ef=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new V([],{}):new V([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[N]=new V(t,n)),r}parseSegment(){let t=hf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(t),new un(oc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=g0(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=hf(this.remaining);o&&(r=o,this.capture(r))}t[oc(n)]=oc(r)}parseQueryParam(t){let n=y0(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=w0(this.remaining);s&&(r=s,this.capture(r))}let o=Hv(n),i=Hv(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hf(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new C(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=N);let s=this.parseChildren();n[i??N]=Object.keys(s).length===1&&s[N]?s[N]:new V([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new C(4011,!1)}};function sw(e){return e.segments.length>0?new V([],{[N]:e}):e}function aw(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=aw(o);if(r===N&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new V(e.segments,t);return E0(n)}function E0(e){if(e.numberOfChildren===1&&e.children[N]){let t=e.children[N];return new V(e.segments.concat(t.segments),t.children)}return e}function Ur(e){return e instanceof ft}function cw(e,t,n=null,r=null,o=new ln){let i=uw(e);return lw(i,t,n,r,o)}function uw(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new V(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=sw(r);return t??o}function lw(e,t,n,r,o){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return pf(i,i,i,n,r,o);let s=_0(t);if(s.toRoot())return pf(i,i,new V([],{}),n,r,o);let a=D0(s,i,e),c=a.processChildren?si(a.segmentGroup,a.index,s.commands):fw(a.segmentGroup,a.index,s.commands);return pf(i,a.segmentGroup,c,n,r,o)}function sc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ui(e){return typeof e=="object"&&e!=null&&e.outlets}function zv(e,t,n){e||="\u0275";let r=new ft;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function pf(e,t,n,r,o,i){let s={};for(let[u,l]of Object.entries(r??{}))s[u]=Array.isArray(l)?l.map(d=>zv(u,d,i)):zv(u,l,i);let a;e===t?a=n:a=dw(e,t,n);let c=sw(aw(a));return new ft(c,s,o)}function dw(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=dw(i,t,n)}),new V(e.segments,r)}var ac=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&sc(r[0]))throw new C(4003,!1);let o=r.find(ui);if(o&&o!==Qv(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _0(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ac(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new ac(n,t,r)}var Fr=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function D0(e,t,n){if(e.isAbsolute)return new Fr(t,!0,0);if(!n)return new Fr(t,!1,NaN);if(n.parent===null)return new Fr(n,!0,0);let r=sc(e.commands[0])?0:1,o=n.segments.length-1+r;return b0(n,o,e.numberOfDoubleDots)}function b0(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new C(4005,!1);o=r.segments.length}return new Fr(r,!1,o-i)}function C0(e){return ui(e[0])?e[0].outlets:{[N]:e}}function fw(e,t,n){if(e??=new V([],{}),e.segments.length===0&&e.hasChildren())return si(e,t,n);let r=I0(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new V(e.segments.slice(0,r.pathIndex),{});return i.children[N]=new V(e.segments.slice(r.pathIndex),e.children),si(i,0,o)}else return r.match&&o.length===0?new V(e.segments,{}):r.match&&!e.hasChildren()?_f(e,t,n):r.match?si(e,0,o):_f(e,t,n)}function si(e,t,n){if(n.length===0)return new V(e.segments,{});{let r=C0(n),o={};if(Object.keys(r).some(i=>i!==N)&&e.children[N]&&e.numberOfChildren===1&&e.children[N].segments.length===0){let i=si(e.children[N],t,n);return new V(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=fw(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new V(e.segments,o)}}function I0(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(ui(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!qv(c,u,s))return i;r+=2}else{if(!qv(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function _f(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(ui(i)){let c=T0(i.outlets);return new V(r,c)}if(o===0&&sc(n[0])){let c=e.segments[t];r.push(new un(c.path,Gv(n[0]))),o++;continue}let s=ui(i)?i.outlets[N]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&sc(a)?(r.push(new un(s,Gv(a))),o+=2):(r.push(new un(s,{})),o++)}return new V(r,{})}function T0(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=_f(new V([],{}),0,r))}),t}function Gv(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function qv(e,t,n){return e==n.path&&At(t,n.parameters)}var ai="imperative",me=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(me||{}),ze=class{id;url;constructor(t,n){this.id=t,this.url=n}},qn=class extends ze{type=me.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zt=class extends ze{urlAfterRedirects;type=me.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Me=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Me||{}),li=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(li||{}),Mt=class extends ze{reason;code;type=me.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gt=class extends ze{reason;code;type=me.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},$r=class extends ze{error;target;type=me.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},di=class extends ze{urlAfterRedirects;state;type=me.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cc=class extends ze{urlAfterRedirects;state;type=me.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uc=class extends ze{urlAfterRedirects;state;shouldActivate;type=me.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},lc=class extends ze{urlAfterRedirects;state;type=me.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dc=class extends ze{urlAfterRedirects;state;type=me.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fc=class{route;type=me.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hc=class{route;type=me.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pc=class{snapshot;type=me.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gc=class{snapshot;type=me.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mc=class{snapshot;type=me.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yc=class{snapshot;type=me.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var fi=class{},Br=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function S0(e){return!(e instanceof fi)&&!(e instanceof Br)}function R0(e,t){return e.providers&&!e._injector&&(e._injector=Or(e.providers,t,`Route: ${e.path}`)),e._injector??t}function dt(e){return e.outlet||N}function A0(e,t){let n=e.filter(r=>dt(r)===t);return n.push(...e.filter(r=>dt(r)!==t)),n}function zr(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zr(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Gr(this.rootInjector)}},Gr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new vc(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(P(le))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Df(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Df(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=bf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return bf(t,this._root).map(n=>n.value)}};function Df(e,t){if(e===t.value)return t;for(let n of t.children){let r=Df(e,n);if(r)return r}return null}function bf(e,t){if(e===t.value)return[t];for(let n of t.children){let r=bf(e,n);if(r.length)return r.unshift(t),r}return[]}var He=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var hi=class extends wc{snapshot;constructor(t,n){super(t),this.snapshot=n,Af(this,t)}toString(){return this.snapshot.toString()}};function hw(e){let t=M0(e),n=new we([new un("",{})]),r=new we({}),o=new we({}),i=new we({}),s=new we(""),a=new dn(n,r,i,s,o,N,e,t.root);return a.snapshot=t.root,new hi(new He(a,[]),t)}function M0(e){let t={},n={},r={},i=new zn([],t,r,"",n,N,e,null,{});return new pi("",new He(i,[]))}var dn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(J(u=>u[mi]))??L(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(t=>Gn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(t=>Gn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ec(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),o?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},o&&gw(o)&&(r.resolve[mi]=o.title),r}var zn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mi]}constructor(t,n,r,o,i,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},pi=class extends wc{url;constructor(t,n){super(n),this.url=t,Af(this,n)}toString(){return pw(this._root)}};function Af(e,t){t.value._routerState=e,t.children.forEach(n=>Af(e,n))}function pw(e){let t=e.children.length>0?` { ${e.children.map(pw).join(", ")} } `:"";return`${e.value}${t}`}function gf(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,At(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),At(t.params,n.params)||e.paramsSubject.next(n.params),r0(t.url,n.url)||e.urlSubject.next(n.url),At(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Cf(e,t){let n=At(e.params,t.params)&&a0(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Cf(e.parent,t.parent))}function gw(e){return typeof e.title=="string"||e.title===null}var mw=new b(""),vi=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=N;activateEvents=new Te;deactivateEvents=new Te;attachEvents=new Te;detachEvents=new Te;routerOutletData=wv();parentContexts=m(Gr);location=m(Ho);changeDetector=m(Qd);inputBinder=m(Cc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new If(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Na({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ca]})}return e})(),If=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===dn?this.route:t===Gr?this.childContexts:t===mw?this.outletData:this.parent.get(t,n)}},Cc=new b("");var Mf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Vt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&kr(0,"router-outlet")},dependencies:[vi],encapsulation:2})}return e})();function Nf(e){let t=e.children&&e.children.map(Nf),n=t?Q(w({},e),{children:t}):w({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==N&&(n.component=Mf),n}function N0(e,t,n){let r=gi(e,t._root,n?n._root:void 0);return new hi(r,t)}function gi(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=O0(e,t,n);return new He(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>gi(e,a)),s}}let r=x0(t.value),o=t.children.map(i=>gi(e,i));return new He(r,o)}}function O0(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return gi(e,r,o);return gi(e,r)})}function x0(e){return new dn(new we(e.url),new we(e.params),new we(e.queryParams),new we(e.fragment),new we(e.data),e.outlet,e.component,e)}var Vr=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},yw="ngNavigationCancelingError";function _c(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Ur(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=vw(!1,Me.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function vw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[yw]=!0,n.cancellationCode=t,n}function k0(e){return ww(e)&&Ur(e.url)}function ww(e){return!!e&&e[yw]}var P0=(e,t,n,r)=>J(o=>(new Tf(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Tf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),gf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Lr(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Lr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Lr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Lr(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new yc(i.value.snapshot))}),t.children.length&&this.forwardEvent(new gc(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(gf(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),gf(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Dc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},jr=class{component;route;constructor(t,n){this.component=t,this.route=n}};function L0(e,t,n){let r=e._root,o=t?t._root:null;return ii(r,o,n,[r.value])}function F0(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function qr(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Lu(e)?e:t.get(e):r}function ii(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Lr(t);return e.children.forEach(s=>{j0(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ci(a,n.getContext(s),o)),o}function j0(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=U0(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Dc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ii(e,t,a?a.children:null,r,o):ii(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new jr(a.outlet.component,s))}else s&&ci(t,a,o),o.canActivateChecks.push(new Dc(r)),i.component?ii(e,null,a?a.children:null,r,o):ii(e,null,n,r,o);return o}function U0(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Hn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Hn(e.url,t.url)||!At(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cf(e,t)||!At(e.queryParams,t.queryParams);case"paramsChange":default:return!Cf(e,t)}}function ci(e,t,n){let r=Lr(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?ci(s,t.children.getContext(i),n):ci(s,null,n):ci(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new jr(t.outlet.component,o)):n.canDeactivateChecks.push(new jr(null,o)):n.canDeactivateChecks.push(new jr(null,o))}function wi(e){return typeof e=="function"}function $0(e){return typeof e=="boolean"}function B0(e){return e&&wi(e.canLoad)}function V0(e){return e&&wi(e.canActivate)}function H0(e){return e&&wi(e.canActivateChild)}function z0(e){return e&&wi(e.canDeactivate)}function G0(e){return e&&wi(e.canMatch)}function Ew(e){return e instanceof En||e?.name==="EmptyError"}var tc=Symbol("INITIAL_VALUE");function Hr(){return yt(e=>gu(e.map(t=>t.pipe(xt(1),vu(tc)))).pipe(J(t=>{for(let n of t)if(n!==!0){if(n===tc)return tc;if(n===!1||q0(n))return n}return!0}),mt(t=>t!==tc),xt(1)))}function q0(e){return Ur(e)||e instanceof Vr}function _w(e){return e.aborted?L(void 0).pipe(xt(1)):new B(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function Dw(e){return lo(_w(e))}function W0(e,t){return Ce(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?L(Q(w({},n),{guardsResult:!0})):K0(s,r,o,e).pipe(Ce(a=>a&&$0(a)?Y0(r,i,e,t):L(a)),J(a=>Q(w({},n),{guardsResult:a})))})}function K0(e,t,n,r){return ge(e).pipe(Ce(o=>eR(o.component,o.route,n,t,r)),kt(o=>o!==!0,!0))}function Y0(e,t,n,r){return ge(t).pipe(hs(o=>fr(Z0(o.route.parent,r),J0(o.route,r),X0(e,o.path,n),Q0(e,o.route,n))),kt(o=>o!==!0,!0))}function J0(e,t){return e!==null&&t&&t(new mc(e)),L(!0)}function Z0(e,t){return e!==null&&t&&t(new pc(e)),L(!0)}function Q0(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return L(!0);let o=r.map(i=>co(()=>{let s=zr(t)??n,a=qr(i,s),c=V0(a)?a.canActivate(t,e):be(s,()=>a(t,e));return Wn(c).pipe(kt())}));return L(o).pipe(Hr())}function X0(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>F0(s)).filter(s=>s!==null).map(s=>co(()=>{let a=s.guards.map(c=>{let u=zr(s.node)??n,l=qr(c,u),d=H0(l)?l.canActivateChild(r,e):be(u,()=>l(r,e));return Wn(d).pipe(kt())});return L(a).pipe(Hr())}));return L(i).pipe(Hr())}function eR(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return L(!0);let s=i.map(a=>{let c=zr(t)??o,u=qr(a,c),l=z0(u)?u.canDeactivate(e,t,n,r):be(c,()=>u(e,t,n,r));return Wn(l).pipe(kt())});return L(s).pipe(Hr())}function tR(e,t,n,r,o){let i=t.canLoad;if(i===void 0||i.length===0)return L(!0);let s=i.map(a=>{let c=qr(a,e),u=B0(c)?c.canLoad(t,n):be(e,()=>c(t,n)),l=Wn(u);return o?l.pipe(Dw(o)):l});return L(s).pipe(Hr(),bw(r))}function bw(e){return du(Ie(t=>{if(typeof t!="boolean")throw _c(e,t)}),J(t=>t===!0))}function nR(e,t,n,r,o){let i=t.canMatch;if(!i||i.length===0)return L(!0);let s=i.map(a=>{let c=qr(a,e),u=G0(c)?c.canMatch(t,n):be(e,()=>c(t,n)),l=Wn(u);return o?l.pipe(Dw(o)):l});return L(s).pipe(Hr(),bw(r))}var Vn=class Cw extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,Cw.prototype)}},Sf=class Iw extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,Iw.prototype)}};function rR(e){throw new C(4e3,!1)}function oR(e){throw vw(!1,Me.GuardRejected)}var iR=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}async lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return r;if(o.numberOfChildren>1||!o.children[N])throw rR(`${t.redirectTo}`);o=o.children[N]}}async applyRedirectCommands(t,n,r,o,i){let s=await sR(n,o,i);if(s instanceof ft)throw new Sf(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Sf(a);return a}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new ft(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new V(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new C(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function sR(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=t;return ic(Wn(be(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d}))))}var Rf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aR(e,t,n,r,o,i){let s=Tw(e,t,n);return s.matched?(r=R0(t,r),nR(r,t,n,o,i).pipe(J(a=>a===!0?s:w({},Rf)))):L(s)}function Tw(e,t,n){if(t.path==="**")return cR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?w({},Rf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||Jv)(n,e,t);if(!o)return w({},Rf);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function cR(e){return{matched:!0,parameters:e.length>0?Qv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Wv(e,t,n,r){return n.length>0&&dR(e,n,r)?{segmentGroup:new V(t,lR(r,new V(n,e.children))),slicedSegments:[]}:n.length===0&&fR(e,n,r)?{segmentGroup:new V(e.segments,uR(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new V(e.segments,e.children),slicedSegments:n}}function uR(e,t,n,r){let o={};for(let i of n)if(Ic(e,t,i)&&!r[dt(i)]){let s=new V([],{});o[dt(i)]=s}return w(w({},r),o)}function lR(e,t){let n={};n[N]=t;for(let r of e)if(r.path===""&&dt(r)!==N){let o=new V([],{});n[dt(r)]=o}return n}function dR(e,t,n){return n.some(r=>Ic(e,t,r)&&dt(r)!==N)}function fR(e,t,n){return n.some(r=>Ic(e,t,r))}function Ic(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function hR(e,t,n){return t.length===0&&!e.children[n]}var pR=class{};async function gR(e,t,n,r,o,i,s="emptyOnly",a){return new yR(e,t,n,r,o,s,i,a).recognize()}var mR=31,yR=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new iR(this.urlSerializer,this.urlTree)}noMatchError(t){return new C(4002,`'${t.segmentGroup}'`)}async recognize(){let t=Wv(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(t),o=new He(r,n),i=new pi("",o),s=cw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}async match(t){let n=new zn([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),N,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,t,N,n),rootSnapshot:n}}catch(r){if(r instanceof Sf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vn?this.noMatchError(r):r}}async processSegmentGroup(t,n,r,o,i){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,i);let s=await this.processSegment(t,n,r,r.segments,o,!0,i);return s instanceof He?[s]:[]}async processChildren(t,n,r,o){let i=[];for(let c of Object.keys(r.children))c==="primary"?i.unshift(c):i.push(c);let s=[];for(let c of i){let u=r.children[c],l=A0(n,c),d=await this.processSegmentGroup(t,l,u,c,o);s.push(...d)}let a=Sw(s);return vR(a),a}async processSegment(t,n,r,o,i,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a)}catch(u){if(u instanceof Vn||Ew(u))continue;throw u}if(hR(r,o,i))return new pR;throw new Vn(r)}async processSegmentAgainstRoute(t,n,r,o,i,s,a,c){if(dt(r)!==s&&(s===N||!Ic(o,i,r)))throw new Vn(o);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,o,r,i,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c);throw new Vn(o)}async expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=Tw(n,o,i);if(!c)throw new Vn(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mR&&(this.allowRedirects=!1));let f=new zn(i,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Kv(o),dt(o),o.component??o._loadedComponent??null,o,Yv(o)),p=Ec(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,t),v=await this.applyRedirects.lineralizeSegments(o,g);return this.processSegment(t,r,n,v.concat(h),s,!1,a)}async matchSegmentAgainstRoute(t,n,r,o,i,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await ic(aR(n,r,o,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Vn(n);t=r._injector??t;let{routes:c}=await this.getChildConfig(t,r,o),u=r._loadedInjector??t,{parameters:l,consumedSegments:d,remainingSegments:h}=a,f=new zn(d,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Kv(r),dt(r),r.component??r._loadedComponent??null,r,Yv(r)),p=Ec(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:v}=Wv(n,d,h,c);if(v.length===0&&g.hasChildren()){let _=await this.processChildren(u,c,g,f);return new He(f,_)}if(c.length===0&&v.length===0)return new He(f,[]);let y=dt(r)===i,x=await this.processSegment(u,c,g,v,y?N:i,!0,f);return new He(f,x instanceof He?[x]:[])}async getChildConfig(t,n,r){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await ic(tR(t,n,r,this.urlSerializer,this.abortSignal))){let i=await this.configLoader.loadChildren(t,n);return n._loadedRoutes=i.routes,n._loadedInjector=i.injector,i}throw oR(n)}return{routes:[],injector:t}}};function vR(e){e.sort((t,n)=>t.value.outlet===N?-1:n.value.outlet===N?1:t.value.outlet.localeCompare(n.value.outlet))}function wR(e){let t=e.value.routeConfig;return t&&t.path===""}function Sw(e){let t=[],n=new Set;for(let r of e){if(!wR(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=Sw(r.children);t.push(new He(r.value,o))}return t.filter(r=>!n.has(r))}function Kv(e){return e.data||{}}function Yv(e){return e.resolve||{}}var ER=new b("",{factory:()=>gR});function _R(e,t,n,r,o,i,s){let a=e.get(ER);return Ce(c=>L(c).pipe(yt(u=>a(e,t,n,r,u.extractedUrl,o,i,s)),J(({state:u,tree:l})=>Q(w({},c),{targetSnapshot:u,urlAfterRedirects:l}))))}function DR(e,t){return Ce(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return L(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of Rw(c))s.add(u);let a=0;return ge(s).pipe(hs(c=>i.has(c)?bR(c,r,e,t):(c.data=Ec(c,c.parent,e).resolve,L(void 0))),Ie(()=>a++),ps(1),Ce(c=>a===s.size?L(n):Ne))})}function Rw(e){let t=e.children.map(n=>Rw(n)).flat();return[e,...t]}function bR(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!gw(o)&&(i[mi]=o.title),co(()=>(e.data=Ec(e,e.parent,n).resolve,CR(i,e,t,r).pipe(J(s=>(e._resolvedData=s,e.data=w(w({},e.data),s),null)))))}function CR(e,t,n,r){let o=vf(e);if(o.length===0)return L({});let i={};return ge(o).pipe(Ce(s=>IR(e[s],t,n,r).pipe(kt(),Ie(a=>{if(a instanceof Vr)throw _c(new ln,a);i[s]=a}))),ps(1),J(()=>i),uo(s=>Ew(s)?Ne:pu(s)))}function IR(e,t,n,r){let o=zr(t)??r,i=qr(e,o),s=i.resolve?i.resolve(t,n):be(o,()=>i(t,n));return Wn(s)}function mf(e){return yt(t=>{let n=e(t);return n?ge(n).pipe(J(()=>t)):L(t)})}var Of=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===N);return r}getResolvedTitleForRoute(n){return n.data[mi]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>m(Aw),providedIn:"root"})}return e})(),Aw=(()=>{class e extends Of{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(P(Uv))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ei=new b("",{factory:()=>({})}),_i=new b(""),Mw=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(Ud);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await Xv(be(n,()=>r.loadComponent())),s=await xw(Ow(i));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await Nw(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=i.routes,r._loadedInjector=i.injector,i}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function Nw(e,t,n,r){let o=await Xv(be(n,()=>e.loadChildren())),i=await xw(Ow(o)),s;i instanceof Ma||Array.isArray(i)?s=i:s=await t.compileModuleAsync(i),r&&r(e);let a,c,u=!1;return Array.isArray(s)?(c=s,u=!0):(a=s.create(n).injector,c=a.get(_i,[],{optional:!0,self:!0}).flat()),{routes:c.map(Nf),injector:a}}function TR(e){return e&&typeof e=="object"&&"default"in e}function Ow(e){return TR(e)?e.default:e}async function xw(e){return e}var Tc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>m(SR),providedIn:"root"})}return e})(),SR=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kw=new b("");var RR=()=>{},Pw=new b(""),Lw=(()=>{class e{currentNavigation=Ze(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ze(null);events=new De;transitionAbortWithErrorSubject=new De;configLoader=m(Mw);environmentInjector=m(le);destroyRef=m(Ut);urlSerializer=m(yi);rootContexts=m(Gr);location=m(Pr);inputBindingEnabled=m(Cc,{optional:!0})!==null;titleStrategy=m(Of);options=m(Ei,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(Tc);createViewTransition=m(kw,{optional:!0});navigationErrorHandler=m(Pw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>L(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new fc(o)),r=o=>this.events.next(new hc(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;$t(()=>{this.transitions?.next(Q(w({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new we(null),this.transitions.pipe(mt(r=>r!==null),yt(r=>{let o=!1,i=new AbortController;return L(r).pipe(yt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Me.SupersededByNewNavigation),Ne;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?Q(w({},a),{previousNavigation:null}):null,abort:()=>i.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new Gt(s.id,this.urlSerializer.serialize(s.rawUrl),"",li.IgnoredSameUrlNavigation)),s.resolve(!1),Ne;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return L(s).pipe(yt(l=>(this.events.next(new qn(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ne:Promise.resolve(l))),_R(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),Ie(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let d=new di(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new qn(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);let v=hw(this.rootComponentType).snapshot;return this.currentTransition=r=Q(w({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:Q(w({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=d,y)),L(r)}else return this.events.next(new Gt(s.id,this.urlSerializer.serialize(s.extractedUrl),"",li.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ne}),Ie(s=>{let a=new cc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),J(s=>(this.currentTransition=r=Q(w({},s),{guards:L0(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),W0(this.environmentInjector,s=>this.events.next(s)),Ie(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw _c(this.urlSerializer,s.guardsResult);let a=new uc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),mt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Me.GuardRejected),!1)),mf(s=>{if(s.guards.canActivateChecks.length!==0)return L(s).pipe(Ie(a=>{let c=new lc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),yt(a=>{let c=!1;return L(a).pipe(DR(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Me.NoDataFromResolver)}}))}),Ie(a=>{let c=new dc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),mf(s=>{let a=u=>{let l=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let d=zr(u)??this.environmentInjector;l.push(this.configLoader.loadComponent(d,u.routeConfig).then(h=>{u.component=h}))}for(let d of u.children)l.push(...a(d));return l},c=a(s.targetSnapshot.root);return c.length===0?L(s):ge(Promise.all(c).then(()=>s))}),mf(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ge(c).pipe(J(()=>r)):L(r)}),J(s=>{let a=N0(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Q(w({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),Ie(()=>{this.events.next(new fi)}),P0(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),xt(1),lo(_w(i.signal).pipe(mt(()=>!o&&!r.targetRouterState),Ie(()=>{this.cancelNavigationTransition(r,i.signal.reason+"",Me.Aborted)}))),Ie({next:s=>{o=!0,this.currentNavigation.update(a=>(a.abort=RR,a)),this.lastSuccessfulNavigation.set($t(this.currentNavigation)),this.events.next(new zt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),lo(this.transitionAbortWithErrorSubject.pipe(Ie(s=>{throw s}))),yu(()=>{i.abort(),o||this.cancelNavigationTransition(r,"",Me.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),uo(s=>{if(this.destroyed)return r.resolve(!1),Ne;if(o=!0,ww(s))this.events.next(new Mt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),k0(s)?this.events.next(new Br(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new $r(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=be(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Vr){let{message:u,cancellationCode:l}=_c(this.urlSerializer,c);this.events.next(new Mt(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Br(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Ne}))}))}cancelNavigationTransition(n,r,o){let i=new Mt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=$t(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function AR(e){return e!==ai}var Fw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>m(MR),providedIn:"root"})}return e})(),bc=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},MR=(()=>{class e extends bc{static \u0275fac=(()=>{let n;return function(o){return(n||(n=la(e)))(o||e)}})();static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xf=(()=>{class e{urlSerializer=m(yi);options=m(Ei,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(Pr);urlHandlingStrategy=m(Tc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ft;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof ft?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=hw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>m(jw),providedIn:"root"})}return e})(),jw=(()=>{class e extends xf{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof qn?this.updateStateMemento():n instanceof Gt?this.commitTransition(r):n instanceof di?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof fi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Mt&&n.code!==Me.SupersededByNewNavigation&&n.code!==Me.Redirect?this.restoreHistory(r):n instanceof $r?this.restoreHistory(r,!0):n instanceof zt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=la(e)))(o||e)}})();static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kf(e,t){e.events.pipe(mt(n=>n instanceof zt||n instanceof Mt||n instanceof $r||n instanceof Gt),J(n=>n instanceof zt||n instanceof Gt?0:(n instanceof Mt?n.code===Me.Redirect||n.code===Me.SupersededByNewNavigation:!1)?2:1),mt(n=>n!==2),xt(1)).subscribe(()=>{t()})}var NR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(Oa);stateManager=m(xf);options=m(Ei,{optional:!0})||{};pendingTasks=m(It);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(Lw);urlSerializer=m(yi);location=m(Pr);urlHandlingStrategy=m(Tc);injector=m(le);_events=new De;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(Fw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(_i,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(Cc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ve;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=$t(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Mt&&r.code!==Me.Redirect&&r.code!==Me.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zt)this.navigated=!0;else if(r instanceof Br){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||AR(o.source)},s);this.scheduleNavigation(a,ai,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}S0(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ai,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(ct)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return $t(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Nf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=uw(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return lw(d,n,l,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Ur(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,ai,null,r)}navigate(n,r={skipLocationChange:!1}){return xR(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Xt(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=w({},NR):r===!1?o=w({},OR):o=r,Ur(n))return Vv(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Vv(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return kf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xR(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new C(4008,!1)}var PR=new b("");function Pf(e,...t){return it([{provide:_i,multi:!0,useValue:e},[],{provide:dn,useFactory:LR},{provide:sn,multi:!0,useFactory:FR},t.map(n=>n.\u0275providers)])}function LR(){return m(Wr).routerState.root}function FR(){let e=m(Le);return t=>{let n=e.get(Ve);if(t!==n.components[0])return;let r=e.get(Wr),o=e.get(jR);e.get(UR)===1&&r.initialNavigation(),e.get($R,null,{optional:!0})?.setUpPreloading(),e.get(PR,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var jR=new b("",{factory:()=>new De}),UR=new b("",{factory:()=>1});var $R=new b("");var Uw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var Kr=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Di=class extends Kr{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Yr=class extends Kr{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Jr=class extends Kr{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Sc=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(Sc||{});var bi=class{constructor(t,{headers:n={},customFetch:r,region:o=Sc.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Uw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Xi(this,arguments,void 0,function*(n,r={}){var o;let i,s;try{let{headers:a,method:c,body:u,signal:l,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let v=l;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),l?(v=s.signal,l.addEventListener("abort",()=>s.abort())):v=s.signal);let y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:v}).catch(U=>{throw new Di(U)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new Yr(y);if(!y.ok)throw new Jr(y);let _=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),E;return _==="application/json"?E=yield y.json():_==="application/octet-stream"||_==="application/pdf"?E=yield y.blob():_==="text/event-stream"?E=y:_==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Jr||a instanceof Yr?a.context:void 0}}finally{i&&clearTimeout(i)}})}};var Bw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},HR=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,a=null,c=null,u=i.status,l=i.statusText;if(i.ok){var d,h;if(n.method!=="HEAD"){var f;let y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}let g=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,u=406,l="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let g=await i.text();try{s=JSON.parse(g),Array.isArray(s)&&i.status===404&&(a=[],s=null,u=200,l="OK")}catch{i.status===404&&g===""?(u=204,l="No Content"):s={message:g}}if(s&&n.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,u=200,l="OK"),s&&n.shouldThrowOnError)throw new Bw(s)}return{error:s,data:a,count:c,status:u,statusText:l}});return this.shouldThrowOnError||(o=o.catch(i=>{var s;let a="",c=i?.cause;if(c){var u,l,d,h;let p=(u=c?.message)!==null&&u!==void 0?u:"",g=(l=c?.code)!==null&&l!==void 0?l:"";a=`${(d=i?.name)!==null&&d!==void 0?d:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(h=c?.name)!==null&&h!==void 0?h:"Error"}: ${p}`,g&&(a+=` (${g})`),c?.stack&&(a+=`
${c.stack}`)}else{var f;a=(f=i?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},zR=class extends HR{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){let i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},$w=new RegExp("[,()]"),Zr=class extends zR{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&$w.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&$w.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},GR=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){let{head:n=!1,count:r}=t??{},o=n?"HEAD":"GET",i=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Zr({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let i=e.reduce((s,a)=>s.concat(Object.keys(a)),[]);if(i.length>0){let s=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",s.join(","))}}return new Zr({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){var i;let s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){let c=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Zr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;let r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Zr({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;let n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Zr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Vw=class Hw{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new GR(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Hw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new Zr({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};var Lf=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Ff=Lf;var zw="2.89.0";var Gw=`realtime-js/${zw}`,jf="1.0.0",qw="2.0.0",Uf=jf;var Ci=1e4,Ww=1e3,Kw=100,fn=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(fn||{}),fe=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(fe||{}),Xe=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Xe||{}),$f=(function(e){return e.websocket="websocket",e})($f||{}),Kn=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Kn||{});var Rc=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var o,i;let s=t.topic,a=(o=t.ref)!==null&&o!==void 0?o:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,l=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(l).length===0?"":JSON.stringify(l);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+u.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,u.length),p.setUint8(g++,d.length),p.setUint8(g++,n),Array.from(c,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(s,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(u,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(d,y=>p.setUint8(g++,y.charCodeAt(0)));var v=new Uint8Array(f.byteLength+r.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(r),f.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[o,i,s,a,c]=r;return n({join_ref:o,ref:i,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,o)}}_decodeUserBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,u=r.decode(t.slice(c,c+o));c=c+o;let l=r.decode(t.slice(c,c+i));c=c+i;let d=r.decode(t.slice(c,c+s));c=c+s;let h=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:l,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var Qr=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var K=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(K||{}),Vf=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=qR(s,e,t,o),i),{}):{}},qR=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?Yw(i,s):Bf(s)},Yw=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return JR(t,n)}switch(e){case K.bool:return WR(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return KR(t);case K.json:case K.jsonb:return YR(t);case K.timestamp:return ZR(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Bf(t);default:return Bf(t)}},Bf=e=>e,WR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},KR=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},JR=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Yw(t,a))}return e},ZR=e=>typeof e=="string"?e.replace(" ","T"):e,Ac=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var Xr=class{constructor(t,n,r={},o=Ci){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Ii=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),p=l.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ti=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(Ti||{}),qt=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(qt||{});var Si=class e{constructor(t,n={config:{}},r){var o,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xr(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new Qr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ii(this),this.broadcastEndpointURL=Ac(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[Ti.PRESENCE]&&this.bindings[Ti.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(qt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(qt.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,v=(p=g?.length)!==null&&p!==void 0?p:0,y=[];for(let x=0;x<v;x++){let _=g[x],{filter:{event:E,schema:U,table:gt,filter:q}}=_,Y=f&&f[x];if(Y&&Y.event===E&&e.isFilterValueEqual(Y.schema,U)&&e.isFilterValueEqual(Y.table,gt)&&e.isFilterValueEqual(Y.filter,q))y.push(Object.assign(Object.assign({},_),{id:Y.id}));else{this.unsubscribe(),this.state=fe.errored,t?.(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(qt.SUBSCRIBED);return}}).receive("error",f=>{this.state=fe.errored,t?.(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===fe.joined&&t===Ti.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");let i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fe.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Xr(this,Xe.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Xr(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Kw){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Xe;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,g,v;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,g,v,y,x,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,U=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((g=n.ids)===null||g===void 0?void 0:g.includes(E))&&(U==="*"||U?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let E=(x=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((_=n?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:v,commit_timestamp:y,type:x,errors:_}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xe.close,{},t)}_onError(t){this._on(Xe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Vf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Vf(t.columns,t.old_record)),n}};var Hf=()=>{},Mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XR=[1e3,2e3,5e3,1e4],eA=1e4,tA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ri=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ci,this.transport=null,this.heartbeatIntervalMs=Mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hf,this.ref=0,this.reconnectTimer=null,this.vsn=Uf,this.logger=Hf,this.conn=null,this.sendBuffer=[],this.serializer=new Rc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${$f.websocket}`,this.httpEndpoint=Ac(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ff.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return Kn.Connecting;case fn.open:return Kn.Open;case fn.closing:return Kn.Closing;default:return Kn.Closed}}isConnected(){return this.connectionState()===Kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Si(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ww,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===fn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fn.open||this.conn.readyState===fn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([tA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{let i={access_token:n,version:Gw};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(Xe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Qr(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,u,l,d,h,f;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ci,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Mc.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Hf,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Uf,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t?.reconnectAfterMs)!==null&&u!==void 0?u:p=>XR[p-1]||eA,this.vsn){case jf:this.encode=(l=t?.encode)!==null&&l!==void 0?l:(p,g)=>g(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case qw:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Ai=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nA(e,t,n){let r=new URL(t,e);if(n)for(let[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}async function rA(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function oA(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:i,headers:s}){let a=nA(e.baseUrl,r,o),c=await rA(e.auth),u=await t(a,{method:n,headers:w(w(w({},i?{"Content-Type":"application/json"}:{}),c),s),body:i?JSON.stringify(i):void 0}),l=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&l?JSON.parse(l):l;if(!u.ok){let f=d?h:void 0,p=f?.error;throw new Ai(p?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function Nc(e){return e.join("")}var iA=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:Nc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nc(e.namespace)}`}),!0}catch(t){if(t instanceof Ai&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ai&&n.status===409)return;throw n}}};function eo(e){return e.join("")}var sA=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${eo(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${eo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${eo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${eo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ai&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ai&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Jw=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=oA({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new iA(this.client,t),this.tableOps=new sA(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var Oc=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var aA=class extends Oc{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qf=class extends Oc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}},Yf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cA=()=>Response,Wf=e=>{if(Array.isArray(e))return e.map(n=>Wf(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Wf(r)}),t},uA=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lA=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}function dA(e,t){if(Mi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fA(e){var t=dA(e,"string");return Mi(t)=="symbol"?t:t+""}function hA(e,t,n){return(t=fA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(n),!0).forEach(function(r){hA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},pA=async(e,t,n)=>{e instanceof await cA()&&!n?.noResolveJson?e.json().then(r=>{let o=e.status||500,i=r?.statusCode||o+"";t(new aA(zf(r),o,i))}).catch(r=>{t(new qf(zf(r),r))}):t(new qf(zf(e),e))},gA=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(uA(r)?(o.headers=A({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),A(A({},o),n))};async function Oi(e,t,n,r,o,i){return new Promise((s,a)=>{e(n,gA(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>pA(c,a,r))})}async function Ni(e,t,n,r){return Oi(e,"GET",t,n,r)}async function ht(e,t,n,r,o){return Oi(e,"POST",t,r,o,n)}async function Kf(e,t,n,r,o){return Oi(e,"PUT",t,r,o,n)}async function mA(e,t,n,r){return Oi(e,"HEAD",t,A(A({},n),{},{noResolveJson:!0}),r)}async function Jf(e,t,n,r,o){return Oi(e,"DELETE",t,r,o,n)}var yA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}}},eE;eE=Symbol.toStringTag;var vA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[eE]="BlobDownloadBuilder",this.promise=null}asStream(){return new yA(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}}},wA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},EA=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Yf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var o=this;try{let i,s=A(A({},Qw),r),a=A(A({},o.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",o.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=o.toBase64(o.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=A(A({},a),r.headers));let u=o._removeEmptyFolders(t),l=o._getFinalPath(u),d=await(e=="PUT"?Kf:ht)(o.fetch,`${o.url}/object/${l}`,i,A({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(o.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var o=this;let i=o._removeEmptyFolders(e),s=o._getFinalPath(i),a=new URL(o.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,u=A({upsert:Qw.upsert},r),l=A(A({},o.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType),{data:{path:i,fullPath:(await Kf(o.fetch,a.toString(),c,{headers:l})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(te(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e),o=A({},n.headers);t?.upsert&&(o["x-upsert"]="true");let i=await ht(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(n.url+i.url),a=s.searchParams.get("token");if(!a)throw new Oc("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await ht(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(te(o))return{data:null,error:o};throw o}}async copy(e,t,n){var r=this;try{return{data:{path:(await ht(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(te(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,n){var r=this;try{let o=r._getFinalPath(e),i=await ht(r.fetch,`${r.url}/object/sign/${o}`,A({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(te(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,n){var r=this;try{let o=await ht(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(s=>A(A({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(te(o))return{data:null,error:o};throw o}}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),o=r?`?${r}`:"",i=this._getFinalPath(e),s=()=>Ni(this.fetch,`${this.url}/${n}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new vA(s,this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);try{return{data:Wf(await Ni(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await mA(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r)&&r instanceof qf){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);let i=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await Jf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{let o=A(A(A({},wA),t),{},{prefix:e||""});return{data:await ht(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},n),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(te(o))return{data:null,error:o};throw o}}async listV2(e,t){var n=this;try{let r=A({},e);return{data:await ht(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},tE="2.89.0",nE={"X-Client-Info":`storage-js/${tE}`},_A=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let o=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=A(A({},nE),t),this.fetch=Yf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{let n=t.listBucketOptionsToQueryString(e);return{data:await Ni(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Ni(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await ht(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Kf(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await ht(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Jf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},DA=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},nE),t),this.fetch=Yf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ht(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Ni(t.fetch,o,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Jf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!lA(e))throw new Oc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new Jw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,i){let s=o[i];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(o,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},Zf={"X-Client-Info":`storage-js/${tE}`,"Content-Type":"application/json"},rE=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Gf=class extends rE{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bA=class extends rE{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};var Qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var CA=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Xw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IA=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let r=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{let s=i?.statusCode||i?.code||r+"";t(new Gf(Xw(i),r,s))}).catch(()=>{let i=r+"";t(new Gf(o.statusText||`HTTP ${r} error`,r,i))});else{let i=r+"";t(new Gf(o.statusText||`HTTP ${r} error`,r,i))}}else t(new bA(Xw(e),e))},TA=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(CA(r)?(o.headers=A({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,A(A({},o),n))};async function SA(e,t,n,r,o,i){return new Promise((s,a)=>{e(n,TA(t,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>IA(c,a,r))})}async function qe(e,t,n,r,o){return SA(e,"POST",t,r,o,n)}var RA=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},Zf),t),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await qe(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await qe(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}},AA=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},Zf),t),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qe(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await qe(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qe(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}},MA=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},Zf),t),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await qe(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await qe(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}},NA=class extends MA{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new OA(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},OA=class extends RA{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new xA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},xA=class extends AA{constructor(e,t,n,r,o){super(e,t,o),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,A(A({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},oE=class extends _A{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new EA(this.url,this.headers,e,this.fetch)}get vectors(){return new NA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DA(this.url+"/iceberg",this.headers,this.fetch)}};var xc="2.89.0";var Yn=30*1e3,kc=3,Pc=kc*Yn,iE="http://localhost:9999",sE="supabase.auth.token";var aE={"X-Client-Info":`gotrue-js/${xc}`};var xi="X-Supabase-Api-Version",Xf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uE=600*1e3;var hn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Lc=class extends hn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function lE(e){return D(e)&&e.name==="AuthApiError"}var et=class extends hn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},pt=class extends hn{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},Ee=class extends pt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function dE(e){return D(e)&&e.name==="AuthSessionMissingError"}var Wt=class extends pt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Jn=class extends pt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Zn=class extends pt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function fE(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}var ki=class extends pt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Fc=class extends pt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var to=class extends pt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function jc(e){return D(e)&&e.name==="AuthRetryableFetchError"}var Pi=class extends pt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Qn=class extends pt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hE=` 	
\r=`.split(""),kA=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hE.length;t+=1)e[hE[t].charCodeAt(0)]=-2;for(let t=0;t<Uc.length;t+=1)e[Uc[t].charCodeAt(0)]=t;return e})();function pE(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Uc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Uc[r]),t.queuedBits-=6}}function gE(e,t,n){let r=kA[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eh(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{FA(s,r,n)};for(let s=0;s<e.length;s+=1)gE(e.charCodeAt(s),o,i);return t.join("")}function PA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function LA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}PA(r,t)}}function FA(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function pn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)gE(e.charCodeAt(o),n,r);return new Uint8Array(t)}function mE(e){let t=[];return LA(e,n=>t.push(n)),new Uint8Array(t)}function Kt(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>pE(o,n,r)),pE(null,n,r),t.join("")}function yE(e){return Math.round(Date.now()/1e3)+e}function vE(){return Symbol("auth-callback")}var he=()=>typeof window<"u"&&typeof document<"u",Xn={tested:!1,writable:!1},$c=()=>{if(!he())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xn.tested)return Xn.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xn.tested=!0,Xn.writable=!0}catch{Xn.tested=!0,Xn.writable=!1}return Xn.writable};function wE(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var Bc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",er=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},gn=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ye=async(e,t)=>{await e.removeItem(t)},Li=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Li.promiseConstructor=Promise;function Vc(e){let t=e.split(".");if(t.length!==3)throw new Qn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!cE.test(t[r]))throw new Qn("JWT not in base64url format");return{header:JSON.parse(eh(t[0])),payload:JSON.parse(eh(t[1])),signature:pn(t[2]),raw:{header:t[0],payload:t[1]}}}async function _E(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DE(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function jA(e){return("0"+e.toString(16)).substr(-2)}function UA(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,jA).join("")}async function $A(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function BA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await $A(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tr(e,t,n=!1){let r=UA(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await er(e,`${t}-code-verifier`,o);let i=await BA(r);return[i,r===i?"plain":"s256"]}var VA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bE(e){let t=e.headers.get(xi);if(!t||!t.match(VA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function CE(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var HA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nr(e){if(!HA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hc(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TE(e,t){return new Proxy(e,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,o)}})}function th(e){return JSON.parse(JSON.stringify(e))}var rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zA=[502,503,504];async function SE(e){var t;if(!EE(e))throw new to(rr(e),0);if(zA.includes(e.status))throw new to(rr(e),e.status);let n;try{n=await e.json()}catch(i){throw new et(rr(i),i)}let r,o=bE(e);if(o&&o.getTime()>=Xf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Pi(rr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ee}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Pi(rr(n),e.status,n.weak_password.reasons);throw new Lc(rr(n),e.status||500,r)}var GA=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function S(e,t,n,r){var o;let i=Object.assign({},r?.headers);i[xi]||(i[xi]=Xf["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await qA(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function qA(e,t,n,r,o,i){let s=GA(t,r,o,i),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new to(rr(c),0)}if(a.ok||await SE(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await SE(c)}}function tt(e){var t;let n=null;WA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=yE(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function nh(e){let t=tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function RE(e){return{data:e,error:null}}function AE(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=wn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function rh(e){return e}function WA(e){return e.access_token&&e.refresh_token&&e.expires_in}var zc=["global","local","others"];var no=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Bc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=zc[0]){if(zc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zc.join(", ")}`);try{return await S(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await S(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=wn(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await S(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:AE,redirectTo:n?.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await S(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await S(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:rh});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){nr(t);try{return await S(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){nr(t);try{return await S(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Nt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){nr(t);try{return await S(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Nt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){nr(t.userId);try{let{data:n,error:r}=await S(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(t){nr(t.userId),nr(t.id);try{return{data:await S(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await S(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:rh});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(D(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await S(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await S(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await S(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await S(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await S(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}};function oh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var or={debug:!!(globalThis&&$c()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Fi=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Gc=class extends Fi{};async function ih(e,t,n){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Gc(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(or.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ME(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sh(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function NE(e){return parseInt(e,16)}function OE(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function xE(e){var t;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=sh(e.address),p=l?`${l}://${r}`:r,g=e.statement?`${e.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(y+=`
Expiration Time: ${o.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(let _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}y+=x}return`${v}
${y}`}var ne=class extends Error{constructor({message:t,code:n,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},ir=class extends ne{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function kE({error:e,options:t}){var n,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(ah(s)){if(i.rp.id!==s)return new ne({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function PE({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(ah(r)){if(n.rpId!==r)return new ne({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var ch=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},KA=new ch;function FE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,o=wn(e,["challenge","user","excludeCredentials"]),i=pn(t).buffer,s=Object.assign(Object.assign({},n),{id:pn(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:pn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function jE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=wn(e,["challenge","allowCredentials"]),o=pn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:pn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function UE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Kt(new Uint8Array(e.response.attestationObject)),clientDataJSON:Kt(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $E(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Kt(new Uint8Array(o.authenticatorData)),clientDataJSON:Kt(new Uint8Array(o.clientDataJSON)),signature:Kt(new Uint8Array(o.signature)),userHandle:o.userHandle?Kt(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ah(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function LE(){var e,t;return!!(he()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function YA(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ir("Browser returned unexpected credential type",t)}:{data:null,error:new ir("Empty credential response",t)}}catch(t){return{data:null,error:kE({error:t,options:e})}}}async function JA(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ir("Browser returned unexpected credential type",t)}:{data:null,error:new ir("Empty credential response",t)}}catch(t){return{data:null,error:PE({error:t,options:e})}}}var ZA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qc(...e){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of e)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(t(s)){let a=r[i];t(a)?r[i]=qc(a,s):r[i]=qc(s)}else r[i]=s}return r}function XA(e,t){return qc(ZA,e,t||{})}function eM(e,t){return qc(QA,e,t||{})}var Wc=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},i){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:a};let c=o??KA.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{let u=XA(s.webauthn.credential_options.publicKey,i?.create),{data:l,error:d}=await YA({publicKey:u,signal:c});return l?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}case"request":{let u=eM(s.webauthn.credential_options.publicKey,i?.request),{data:l,error:d}=await JA(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return l?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}}}catch(s){return D(s)?{data:null,error:s}:{data:null,error:new et("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new hn("rpId is required for WebAuthn authentication")};try{if(!LE())return{data:null,error:new et("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return D(s)?{data:null,error:s}:{data:null,error:new et("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new hn("rpId is required for WebAuthn registration")};try{if(!LE())return{data:null,error:new et("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(l=>{var d;return(d=l.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:a};let{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return D(s)?{data:null,error:s}:{data:null,error:new et("Unexpected error in register",s)}}}};ME();var tM={url:iE,storageKey:sE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function BE(e,t,n){return await n()}var ro={},nM=(()=>{class e{get jwks(){var n,r;return(r=(n=ro[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ro[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{cachedAt:n})}constructor(n){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},tM),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&he()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new no({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Bc(s.fetch),this.lock=s.lock||BE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&he()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=ih:this.lock=BE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wc(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:$c()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=oh(this.memoryStorage)),he()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xc}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},o="none";if(he()&&(r=wE(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),he()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),fE(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?this._returnResult({error:r}):this._returnResult({error:new et("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:tt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,g=null;this.flowType==="pkce"&&([p,g]=await tr(this.storage,this.storageKey)),s=await S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:tt})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:tt})}else throw new Jn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await ye(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(await ye(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nh})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nh})}else throw new Jn("You must provide either an email or phone number and a password");let{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){let s=new Wt;return this._returnResult({data:{user:null,session:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,g;if("message"in n)p=n.message,g=n.signature;else{let{chain:v,wallet:y,statement:x,options:_}=n,E;if(he())if(typeof y=="object")E=y;else{let Ot=window;if("ethereum"in Ot&&typeof Ot.ethereum=="object"&&"request"in Ot.ethereum&&typeof Ot.ethereum.request=="function")E=Ot.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}let U=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href),gt=await E.request({method:"eth_requestAccounts"}).then(Ot=>Ot).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!gt||gt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let q=sh(gt[0]),Y=(o=_?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Y){let Ot=await E.request({method:"eth_chainId"});Y=NE(Ot)}let qE={domain:U.host,address:q,statement:x,uri:U.href,version:"1",chainId:Y,nonce:(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=_?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=_?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=_?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=xE(qE),g=await E.request({method:"personal_sign",params:[OE(p),q]})}try{let{data:v,error:y}=await S(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:tt});if(y)throw y;if(!v||!v.session||!v.user){let x=new Wt;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(D(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let g,v;if("message"in n)g=n.message,v=n.signature;else{let{chain:y,wallet:x,statement:_,options:E}=n,U;if(he())if(typeof x=="object")U=x;else{let q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))U=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=x}let gt=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in U&&U.signIn){let q=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:gt.host,uri:gt.href}),_?{statement:_}:null)),Y;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")Y=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)Y=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)g=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),v=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${gt.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${gt.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);let q=await U.signMessage(new TextEncoder().encode(g),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=q}}try{let{data:y,error:x}=await S(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Kt(v)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:tt});if(x)throw x;if(!y||!y.session||!y.user){let _=new Wt;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(D(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(n){let r=await gn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Fc;let{data:s,error:a}=await S(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:tt});if(await ye(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new Wt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await ye(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await S(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:tt}),{data:u,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){let d=new Wt;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await tr(this.storage,this.storageKey));let{error:h}=await S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new Jn("You must provide either an email or phone number.")}catch(c){if(await ye(this.storage,`${this.storageKey}-code-verifier`),D(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await S(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:tt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(n){var r,o,i,s,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await tr(this.storage,this.storageKey));let l=await S(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:RE});return!((s=l.data)===null||s===void 0)&&s.url&&he()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(await ye(this.storage,`${this.storageKey}-code-verifier`),D(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Ee;let{error:i}=await S(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await S(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await S(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Jn("You must provide either an email or phone number and a type")}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<Pc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await gn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Hc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=TE(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Nt}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ee}:await S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Nt})})}catch(r){if(D(r))return dE(r)&&(await this._removeSession(),await ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new Ee;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await tr(this.storage,this.storageKey));let{data:l,error:d}=await S(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:Nt});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(o){if(await ye(this.storage,`${this.storageKey}-code-verifier`),D(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ee;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Vc(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(D(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Ee;let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!he())throw new Zn("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Zn(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ki("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new ki("No code detected.");let{data:_,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;let U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:_.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new Zn("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:v,error:y}=await this._getUser(s);if(y)throw y;let x={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:n.type},error:null})}catch(o){if(D(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await gn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({error:s});let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(lE(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=vE(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await tr(this.storage,this.storageKey,!0));try{return await S(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await ye(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await S(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return he()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(D(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:u,access_token:l,nonce:d}=n,h=await S(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:tt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Wt}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await S(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await DE(async i=>(i>0&&await _E(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await S(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:tt})),(i,s)=>{let a=200*Math.pow(2,i);return s&&jc(s)&&Date.now()+a-o<Yn})}catch(o){if(this._debug(r,"error",o),D(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),he()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await gn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await er(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:Hc()}else if(i&&!i.user&&!i.user){let a=await gn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await ye(this.storage,this.storageKey+"-user"),await er(this.storage,this.storageKey,i)):i.user=Hc()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pc;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${Pc}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),jc(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new Ee;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Li;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Ee;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),D(s)){let a={data:null,error:s};return jc(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ye(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await er(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=th(i);await er(this.storage,this.storageKey,s)}else{let i=th(r);await er(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ye(this.storage,this.storageKey),await ye(this.storage,this.storageKey+"-code-verifier"),await ye(this.storage,this.storageKey+"-user"),this.userStorage&&await ye(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&he()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yn}ms, refresh threshold is ${kc} ticks`),i<=kc&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Fi)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!he()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await tr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await S(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:u,error:l}=await S(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?this._returnResult({data:null,error:l}):(n.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?UE(n.webauthn.credential_response):$E(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:u}=await S(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await S(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:FE(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:jE(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:o},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Vc(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?await S(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ee})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ee});let a=await S(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&he()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(D(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ee});let a=await S(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&he()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(D(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await S(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ee})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(await S(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ee})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+uE>i)return o;let{data:s,error:a}=await S(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=Vc(o);r?.allowExpired||CE(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=IE(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,mE(`${c}.${u}`)))throw new Qn("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(D(o))return this._returnResult({data:null,error:o});throw o}}}return e.nextInstanceID={},e})(),uh=nM;var rM=uh,lh=rM;var oM="2.89.0",ji="";typeof Deno<"u"?ji="deno":typeof document<"u"?ji="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ji="react-native":ji="node";var iM={"X-Client-Info":`supabase-js-${ji}/${oM}`},sM={headers:iM},aM={schema:"public"},cM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uM={};function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function lM(e,t){if(Ui(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ui(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dM(e){var t=lM(e,"string");return Ui(t)=="symbol"?t:t+""}function fM(e,t,n){return(t=dM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(r){fM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var hM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pM=()=>Headers,gM=(e,t,n)=>{let r=hM(n),o=pM();return async(i,s)=>{var a;let c=(a=await t())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,ie(ie({},s),{},{headers:u}))}};function mM(e){return e.endsWith("/")?e:e+"/"}function yM(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=t,h={db:ie(ie({},c),o),auth:ie(ie({},u),i),realtime:ie(ie({},l),s),storage:{},global:ie(ie(ie({},d),a),{},{headers:ie(ie({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function vM(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mM(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var wM=class extends lh{constructor(e){super(e)}},EM=class{constructor(e,t,n){var r,o;this.supabaseUrl=e,this.supabaseKey=t;let i=vM(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);let s=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:aM,realtime:uM,auth:ie(ie({},cM),{},{storageKey:s}),global:sM},c=yM(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(l,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=gM(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(l=>this.realtime.setAuth(l)).catch(l=>console.warn("Failed to set initial Realtime auth token:",l)),this.rest=new Vw(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new oE(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new bi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:i,flowType:s,lock:a,debug:c,throwOnError:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wM({url:this.authUrl.href,headers:ie(ie({},h),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,flowType:s,lock:a,debug:c,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ri(this.realtimeUrl.href,ie(ie({},e),{},{params:ie(ie({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},HE=(e,t,n)=>new EM(e,t,n);function _M(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}_M()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var dh={production:!1,supabaseUrl:"https://xonhsgfrverqtglwejdg.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvbmhzZ2ZydmVycXRnbHdlamRnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5ODA4MjMsImV4cCI6MjA4MTU1NjgyM30.rd-i3a0jqTapBMRWG3FuP00iTLG2kTHF88jvJSnMQ10"};var fh=HE(dh.supabaseUrl,dh.supabaseAnonKey,{realtime:{params:{eventsPerSecond:10}}});var DM=(e,t)=>t.id;function bM(e,t){if(e&1&&(ee(0,"p",0),ue(1),de()),e&2){let n=jd();Nr(),ka("Erreur : ",n.error())}}function CM(e,t){if(e&1&&(ee(0,"li"),ue(1),de()),e&2){let n=t.$implicit;Nr(),Pa("",n.id," - ",n.name)}}var Kc=class e{data=Ze([]);error=Ze(null);channel;async ngOnInit(){await this.refreshData(),this.channel=fh.channel("test-changes").on("postgres_changes",{event:"*",schema:"public",table:"test"},t=>{console.log("Changement d\xE9tect\xE9:",t),this.refreshData()}),this.channel.subscribe()}async refreshData(){let{data:t,error:n}=await fh.from("test").select("*");n?this.error.set(n.message):this.data.set(t??[])}ngOnDestroy(){this.channel&&this.channel.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Vt({type:e,selectors:[["app-scores"]],decls:6,vars:1,consts:[[2,"color","red"]],template:function(n,r){n&1&&(ee(0,"h1"),ue(1,"Table de test \u{1F3AE}"),de(),Md(2,bM,2,1,"p",0),ee(3,"ul"),xd(4,CM,2,2,"li",null,DM),de()),n&2&&(Nr(2),Od(r.error()?2:-1),Nr(2),kd(r.data()))},dependencies:[qa],encapsulation:2})};var Yc=class e{constructor(t){this.router=t}goToLogin(){this.router.navigate(["/login"])}playWithFriends(){this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||e)(Vo(Wr))};static \u0275cmp=Vt({type:e,selectors:[["app-homepage"]],decls:34,vars:0,consts:[[1,"homepage"],[1,"header"],[1,"logo"],["src","/images/homielogo.png","alt","HomieGamingHub logo"],[1,"login-btn",3,"click"],[1,"hero"],[1,"subtitle"],[1,"emoji-row"],[1,"emoji-card"],[1,"cta"],[1,"warning"]],template:function(n,r){n&1&&(ee(0,"div",0)(1,"header",1)(2,"div",2),Ko(3,"img",3),de(),ee(4,"button",4),xa("click",function(){return r.goToLogin()}),ue(5,"Login"),de()(),ee(6,"main",5)(7,"h1"),ue(8,"Play. Laugh. Ruin friendships."),de(),ee(9,"p",6),ue(10," Mini games designed to expose your friends."),Ko(11,"br"),ue(12," All love. Mostly. "),de(),ee(13,"div",7)(14,"div",8),ue(15,"\u{1F602}"),ee(16,"span"),ue(17,"Laugh at others"),de()(),ee(18,"div",8),ue(19,"\u{1F608}"),ee(20,"span"),ue(21,"Be annoying"),de()(),ee(22,"div",8),ue(23,"\u{1F3C6}"),ee(24,"span"),ue(25,"Win. Brag."),de()(),ee(26,"div",8),ue(27,"\u{1F624}"),ee(28,"span"),ue(29,"Rage a little"),de()()(),ee(30,"button",9),ue(31," \u{1F496} Play with friends "),de(),ee(32,"small",10),ue(33," Friendships not guaranteed. "),de()()())},styles:[".homepage[_ngcontent-%COMP%]{min-height:100vh;background:#0f172a;color:#f8fafc;font-family:Inter,system-ui,sans-serif}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 32px}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;width:auto;transition:transform .3s ease,filter .3s ease}@keyframes _ngcontent-%COMP%_breathe{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.08) rotate(-2deg);filter:drop-shadow(0 0 10px rgba(249,168,212,.6))}.login-btn[_ngcontent-%COMP%]{background:transparent;color:#f9a8d4;border:1.5px solid rgba(249,168,212,.6);padding:8px 22px;border-radius:999px;font-size:1.3rem;font-weight:600;cursor:pointer;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:background .25s ease,color .25s ease,transform .2s ease,box-shadow .25s ease,border-color .25s ease}.login-btn[_ngcontent-%COMP%]:hover{background:#f9a8d426;border-color:#f9a8d4;box-shadow:0 0 18px #f9a8d480;transform:translateY(-2px)}.login-btn[_ngcontent-%COMP%]:active{transform:scale(.95);box-shadow:0 0 8px #f9a8d466}.hero[_ngcontent-%COMP%]{text-align:center;padding:80px 20px}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;color:#f9a8d4}.subtitle[_ngcontent-%COMP%]{margin-top:16px;font-size:1.1rem;opacity:.9}.emoji-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;margin:48px 0;flex-wrap:wrap}.emoji-card[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:18px;padding:22px 18px;width:130px;font-size:2.2rem;text-align:center;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease,background .25s ease;animation:_ngcontent-%COMP%_goofyIdle 5.5s infinite ease-in-out}.emoji-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.emoji-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:1.3s}.emoji-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:2.6s}.emoji-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:3.9s}@keyframes _ngcontent-%COMP%_goofyIdle{0%{transform:translateY(0) rotate(0) scale(1)}20%{transform:translateY(-4px) rotate(-1.5deg) scale(1.02)}40%{transform:translateY(2px) rotate(1deg) scale(.99)}60%{transform:translateY(-6px) rotate(-2deg) scale(1.03)}80%{transform:translateY(1px) rotate(1.2deg) scale(1)}to{transform:translateY(0) rotate(0) scale(1)}}.emoji-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.8rem;margin-top:8px}.emoji-card[_ngcontent-%COMP%]:hover{animation-play-state:paused;transform:translateY(-8px) scale(1.08) rotate(-2deg);background:#f9a8d426;box-shadow:0 12px 30px #f9a8d459}.cta[_ngcontent-%COMP%]{margin-top:24px;background:#f9a8d4;color:#0f172a;border:none;padding:14px 32px;font-size:1.1rem;border-radius:30px;cursor:pointer;font-weight:700;transition:transform .2s ease,box-shadow .2s ease}.cta[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 0 20px #f9a8d499}.warning[_ngcontent-%COMP%]{display:block;margin-top:12px;opacity:.6;font-size:.85rem}@media(max-width:768px){.emoji-card[_ngcontent-%COMP%], .emoji[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .login-btn[_ngcontent-%COMP%]{animation:none!important;transition:none!important;transform:none!important}}@media(hover:none){.emoji-card[_ngcontent-%COMP%]:hover, .login-btn[_ngcontent-%COMP%]:hover, .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none;background:inherit}}@media(max-width:768px){.emoji-card[_ngcontent-%COMP%]{width:45%}}"]})};var zE=[{path:"",component:Yc},{path:"scores",component:Kc}];var GE={providers:[wl(),Pf(zE),Bv($v())]};var Jc=class e{title=Ze("homiegaminghub");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Vt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&kr(0,"router-outlet")},dependencies:[vi],encapsulation:2})};uf(Jc,GE).catch(e=>console.error(e));
